{"version":3,"file":"static/js/app.f4b2e14c.chunk.js","mappings":"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","sources":["webpack://@dhis2/app-shell/./src/D2App/App.module.css?e54a","D2App/components/Icon/Icon.js","D2App/utils/mime.js","D2App/utils/xhr.js","D2App/utils/helper.js","D2App/utils/options.js","D2App/components/ElementSchemes/DataElementIdScheme.js","D2App/components/DatePicker/DatePicker.js","D2App/components/DatePicker/DatePickerField.js","D2App/components/ElementSchemes/EventIdScheme.js","D2App/components/FileUpload/FileUpload.js","D2App/components/FormAlerts/FormAlerts.js","webpack://@dhis2/app-shell/./src/D2App/components/FormField/FormField.module.css?b3fa","D2App/components/FormField/FormField.js","D2App/components/ElementSchemes/IdScheme.js","webpack://@dhis2/app-shell/./src/D2App/components/ImportButtonStrip/ImportButtonStrip.module.css?5c8f","D2App/components/ImportButtonStrip/ImportButtonStrip.js","D2App/contexts/User.js","D2App/contexts/Task.js","D2App/utils/tasks.js","webpack://@dhis2/app-shell/./src/D2App/components/JobOverview/JobOverview.module.css?d25c","D2App/components/JobOverview/ChipContainer.js","D2App/components/JobOverview/helper.js","webpack://@dhis2/app-shell/./src/D2App/components/JobOverview/MenuLabel/MenuLabel.module.css?aae3","D2App/components/JobOverview/MenuLabel/MenuLabel.js","D2App/components/JobOverview/JobOverview.js","D2App/components/JobSummary/Details/Details.js","webpack://@dhis2/app-shell/./src/D2App/components/JobSummary/JobSummary.module.css?1317","D2App/components/JobSummary/Log/Log.js","D2App/components/JobSummary/helper.js","D2App/components/JobSummary/SingleStatusTable/SingleStatusTable.js","D2App/components/JobSummary/SingleSummary/SingleSummary.js","D2App/components/JobSummary/Messages/Messages.js","D2App/components/JobSummary/TypeCount/TypeCount.js","D2App/components/JobSummary/TypeReportSummary/TypeReportSummary.js","webpack://@dhis2/app-shell/./src/D2App/components/JobSummary/Summary/Summary.module.css?b50e","D2App/components/JobSummary/Summary/Summary.js","D2App/components/JobSummary/JobSummary.js","D2App/components/JobSummary/MiniJobSummary/MiniJobSummary.js","webpack://@dhis2/app-shell/./src/D2App/components/MoreOptions/MoreOptions.module.css?75e1","D2App/components/MoreOptions/MoreOptions.js","D2App/components/ElementSchemes/OrgUnitIdScheme.js","webpack://@dhis2/app-shell/./src/D2App/components/OrgUnitTree/OrgUnitTreeField.module.css?58ba","D2App/components/OrgUnitTree/OrgUnitTreeField.js","webpack://@dhis2/app-shell/./src/D2App/components/Page/Page.module.css?2a3b","D2App/components/Page/Page.js","D2App/hooks/useTasks.js","D2App/hooks/useUser.js","D2App/hooks/useProgramStages.js","D2App/hooks/useClassKeys.js","webpack://@dhis2/app-shell/./src/D2App/components/ProgramStages/ProgramStages.module.css?387e","D2App/components/ProgramStages/ProgramStages.js","webpack://@dhis2/app-shell/./src/D2App/components/RadioGroup/RadioGroup.module.css?98da","D2App/components/RadioGroup/RadioGroup.js","D2App/components/RadioGroup/RadioGroupField.js","D2App/components/Inputs/FileUpload.js","D2App/components/Inputs/ImportButtonStrip.js","D2App/components/Inputs/FormAlerts.js","D2App/components/Inputs/Format.js","D2App/components/Inputs/FirstRowIsHeader.js","D2App/components/Inputs/ClassKey.js","D2App/components/Inputs/Strategy.js","D2App/components/Inputs/PreheatCache.js","D2App/components/Inputs/SkipAudit.js","D2App/components/Inputs/SkipExistingCheck.js","D2App/components/Inputs/Identifier.js","D2App/components/Inputs/ImportReportMode.js","D2App/components/Inputs/PreheatMode.js","D2App/components/Inputs/ImportStrategy.js","D2App/components/Inputs/AtomicMode.js","D2App/components/Inputs/MergeMode.js","D2App/components/Inputs/FlushMode.js","D2App/components/Inputs/InclusionStrategy.js","D2App/components/Inputs/SkipSharing.js","D2App/components/Inputs/SkipValidation.js","D2App/components/Inputs/IsAsync.js","D2App/components/Inputs/OrgUnitTree.js","D2App/components/ResourcePicker/resourceTypes.js","D2App/components/Inputs/DataSetPicker.js","D2App/components/Inputs/ProgramPicker.js","D2App/components/Inputs/IncludeChildren.js","D2App/components/Inputs/IncludeDeleted.js","D2App/components/Inputs/Compression.js","D2App/components/Inputs/Inclusion.js","D2App/components/Inputs/StartDate.js","D2App/components/Inputs/EndDate.js","D2App/components/Inputs/ExportButton.js","D2App/components/Inputs/ProgramStages.js","D2App/components/Schemas/SchemasField.js","D2App/components/Inputs/Schemas.js","D2App/components/Inputs/ObjectType.js","D2App/components/Inputs/Objects.js","D2App/hooks/useObjects.js","D2App/components/Inputs/DataElementIdScheme.js","D2App/components/Inputs/EventIdScheme.js","D2App/components/Inputs/IdScheme.js","D2App/components/Inputs/OrgUnitIdScheme.js","D2App/components/Inputs/OrgUnitIdSchemeCore.js","D2App/components/WithAuthority/predicates.js","D2App/components/Inputs/OrgUnitMode.js","D2App/components/Inputs/TEITypeFilter.js","D2App/components/Inputs/ProgramStatus.js","D2App/components/Inputs/FollowUpStatus.js","D2App/components/Inputs/ProgramStartDate.js","D2App/components/Inputs/ProgramEndDate.js","D2App/components/Inputs/TETypePicker.js","D2App/components/Inputs/LastUpdatedFilter.js","D2App/components/Inputs/LastUpdatedStartDate.js","D2App/components/Inputs/LastUpdatedEndDate.js","D2App/components/Duration/DurationField.js","D2App/components/Inputs/LastUpdatedDuration.js","D2App/components/Inputs/AssignedUserMode.js","D2App/components/Inputs/UserPicker.js","D2App/components/Inputs/IncludeAllAttributes.js","D2App/components/Inputs/Dates.js","D2App/utils/final-form.js","D2App/pages/MetadataImport/form-helper.js","D2App/pages/MetadataImport/MetadataImport.js","D2App/pages/MetadataExport/MetadataExport.js","D2App/pages/MetadataExport/form-helper.js","D2App/pages/MetadataDependencyExport/MetadataDependencyExport.js","D2App/pages/MetadataDependencyExport/form-helper.js","webpack://@dhis2/app-shell/./src/D2App/pages/JobOverview/JobOverview.module.css?3930","D2App/pages/JobOverview/JobOverview.js","webpack://@dhis2/app-shell/./src/D2App/components/Geometry/GeometryFormat.module.css?da1e","D2App/components/Geometry/GeometryFormat.js","webpack://@dhis2/app-shell/./src/D2App/components/Geometry/GeometryPropertyMatch.module.css?543f","D2App/components/Geometry/GeometryPropertyMatch.js","webpack://@dhis2/app-shell/./src/D2App/components/Geometry/GeometryAttributePicker.module.css?1f84","D2App/components/Geometry/GeometryAttributePicker.js","D2App/pages/GeometryImport/geojson-helper.js","D2App/pages/GeometryImport/GeometryImport.js","D2App/pages/GeometryImport/GMLImport.js","D2App/pages/GeometryImport/gml-helper.js","D2App/pages/EventImport/form-helper.js","D2App/pages/EventImport/EventImport.js","D2App/pages/EarthEngineImport/util/CachedQueryProvider.js","D2App/pages/EarthEngineImport/util/formFieldConstants.js","D2App/pages/EarthEngineImport/components/AssociatedGeometry.js","D2App/pages/EarthEngineImport/util/earthEngines.js","webpack://@dhis2/app-shell/./src/D2App/pages/EarthEngineImport/components/styles/BandCocMappingTable.module.css?ec92","D2App/pages/EarthEngineImport/components/BandCocMappingTable.js","D2App/pages/EarthEngineImport/components/DataElements.js","webpack://@dhis2/app-shell/./src/D2App/pages/EarthEngineImport/components/styles/DataPreview.module.css?c275","D2App/pages/EarthEngineImport/components/useFetchCurrentValues.js","D2App/pages/EarthEngineImport/components/PopulationAgegroupsDataPreview.js","D2App/pages/EarthEngineImport/components/PopulationDataPreview.js","D2App/pages/EarthEngineImport/components/DataPreview.js","D2App/pages/EarthEngineImport/components/EarthEngineId.js","webpack://@dhis2/app-shell/./src/D2App/pages/EarthEngineImport/components/styles/OrgUnitDimension.module.css?c80c","D2App/pages/EarthEngineImport/components/OrgUnitDimension.js","D2App/pages/EarthEngineImport/components/OrganisationUnits.js","D2App/pages/EarthEngineImport/util/earthEngineHelper.js","D2App/pages/EarthEngineImport/components/usePeriods.js","D2App/pages/EarthEngineImport/components/Periods.js","D2App/pages/EarthEngineImport/components/Rounding.js","D2App/pages/EarthEngineImport/util/toGeoJson.js","D2App/pages/EarthEngineImport/util/getEarthEngineConfig.js","D2App/pages/EarthEngineImport/util/getStructuredData.js","D2App/pages/EarthEngineImport/util/getPrecisionFn.js","D2App/pages/EarthEngineImport/components/useEeData.js","webpack://@dhis2/app-shell/./src/D2App/pages/EarthEngineImport/EarthEngineImportForm.module.css?8253","D2App/pages/EarthEngineImport/form-helper.js","D2App/pages/EarthEngineImport/EarthEngineImportForm.js","D2App/pages/EarthEngineImport/EarthEngineImport.js","D2App/pages/EventExport/form-helper.js","D2App/pages/EventExport/EventExport.js","D2App/pages/DataImport/form-helper.js","D2App/pages/DataImport/DataImport.js","D2App/pages/DataExport/form-helper.js","D2App/pages/DataExport/DataExport.js","D2App/pages/TEIExport/form-helper.js","D2App/pages/TEIExport/TEIExport.js","D2App/pages/TEIImport/form-helper.js","D2App/pages/TEIImport/TEIImport.js","D2App/pages/Home/HomeCard.js","D2App/pages/Home/pages.js","D2App/components/Router/ScrollToTop.js","D2App/pages/Home/Home.js","D2App/components/Router/Router.js","D2App/components/Schemas/helper.js","webpack://@dhis2/app-shell/./src/D2App/components/Schemas/Schemas.module.css?62d9","D2App/components/Schemas/SchemaGroup.js","D2App/components/Schemas/Schemas.js","D2App/components/Select/SelectField.js","webpack://@dhis2/app-shell/./src/D2App/components/Sidebar/MenuSectionHeader.module.css?f60f","D2App/components/Sidebar/MenuSectionHeader.js","D2App/components/Sidebar/ExportMenuSectionHeader.js","D2App/components/Sidebar/ImportMenuSectionHeader.js","webpack://@dhis2/app-shell/./src/D2App/components/Sidebar/Sidebar.module.css?3980","D2App/components/Sidebar/Sidebar.js","D2App/components/Switch/Switch.js","D2App/components/WithAuthority/WithAuthority.js","D2App/components/ResourcePicker/queries.js","webpack://@dhis2/app-shell/./src/D2App/components/ResourcePicker/ResourcePicker.module.css?2de3","D2App/components/ResourcePicker/ResourcePicker.js","D2App/components/ResourcePicker/ResourcePickerField.js","webpack://@dhis2/app-shell/./src/D2App/components/BasicOptions/BasicOptions.module.css?f550","D2App/components/BasicOptions/BasicOptions.js","webpack://@dhis2/app-shell/./src/D2App/components/ElementSchemes/SchemeContainer.module.css?c14c","D2App/components/ElementSchemes/SchemeContainer.js","webpack://@dhis2/app-shell/./src/D2App/components/StyledField/StyledField.module.css?5cd6","D2App/components/StyledField/StyledField.js","webpack://@dhis2/app-shell/./src/D2App/components/Tooltip/Tooltip.module.css?3272","D2App/components/Tooltip/Tooltip.js","webpack://@dhis2/app-shell/./src/D2App/components/ValidationSummary/ValidationSummary.module.css?7c3a","D2App/components/ValidationSummary/ValidationSummary.js","D2App/components/MergeOperation/MergeOperation.js","D2App/locales/index.js","D2App/App.js","D2App/utils/cacheBuster.js","D2App/Main.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"App_container__KkHQY\",\"sidebar\":\"App_sidebar__EbNVl\",\"content\":\"App_content__MxC6Z\",\"corelytics_sidebar\":\"App_corelytics_sidebar__UQ+q2\",\"ant-menu-item\":\"App_ant-menu-item__XNXWL\",\"heading\":\"App_heading__21opY\",\"titBar\":\"App_titBar__B1vNp\",\"ant-menu-item-selected\":\"App_ant-menu-item-selected__jWI03\",\"logo\":\"App_logo__h5EGN\",\"menu\":\"App_menu__Y4oQE\"};","import PropTypes from 'prop-types';\nimport React from 'react';\nconst createStyle = (width, height) => ({\n  width: width || 24,\n  height: height || 24,\n  display: 'inline-block',\n  fill: 'currentColor',\n  color: 'currentColor',\n  userSelect: 'none'\n});\nexport const MetadataImportIcon = _ref => {\n  let {\n    width,\n    height\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    viewBox: \"0 0 24 24\",\n    style: createStyle(width, height),\n    \"data-test\": \"icon-metadataimport\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M14.039 8.968l-3.961-3.968h1.968s.991-3.178-2.985-5c6.191.222 6.972 5 6.972 5h1.967l-3.961 3.968zm6.461 5.575l-.342.195v1.717l.342-.195v-1.717zm-.844.481l-.35.199v1.717l.35-.199v-1.717zm.906-10.024l-1.306 1.55 1.62.919-6.859 3.698-8.86-5.138 4.436-2.685c-.234-.5-.626-.989-1.313-1.338l-5.124 2.978-3.156 5.487 2 1.106v5.445l12.25 6.978 9.75-5.551v-11.508l-3.438-1.941zm-16.624 2.688l7.897 4.54-1.192 2.091-7.872-4.605 1.167-2.026zm9.062 13.298l-9-5.126v-3.112l7.377 4.319 1.623-2.845v6.764zm9-3.7l-7 3.985v-8.361l7-3.773v8.149zm-4.907-.802l-.349.199v1.713l.349-.195v-1.717zm.584-.333l-.343.195v1.717l.343-.195v-1.717zm1.395-.794l-.343.195v1.717l.343-.195v-1.717zm-.574.327l-.344.196v1.717l.344-.196v-1.717z\"\n  }));\n};\nexport const MetadataExportIcon = _ref2 => {\n  let {\n    width,\n    height\n  } = _ref2;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    viewBox: \"0 0 24 24\",\n    style: createStyle(width, height),\n    \"data-test\": \"icon-metadataexport\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M13.904 9c-3.514-3.984-.1-7.598-.1-7.598l-1.393-1.389 5.589-.013v5.607l-1.372-1.391c0 .001-3.581.706-2.724 4.784zm5.752 6.024l-.35.199v1.717l.35-.199v-1.717zm.844-.481l-.342.195v1.717l.342-.195v-1.717zm-3.407 1.941l-.349.199v1.713l.349-.195v-1.717zm1.979-1.127l-.343.195v1.717l.343-.195v-1.717zm.949-10.673v2.295l.855.489-6.859 3.698-8.86-5.138 6.374-3.654-1.5-1.406-6.864 3.97-3.167 5.533 2 1.106v5.445l12.25 6.978 9.75-5.551v-11.508l-3.979-2.257zm-16.083 3.004l7.897 4.54-1.193 2.091-7.871-4.605 1.167-2.026zm9.062 13.298l-9-5.126v-3.112l5.632 3.297 1.746 1.022 1.002-1.757.62-1.088v6.764zm9-3.7l-7 3.985v-8.361l7-3.773v8.149zm-4.323-1.135l-.343.195v1.717l.343-.195v-1.717zm.821-.467l-.344.196v1.717l.344-.196v-1.717z\"\n  }));\n};\nexport const MetadataDependencyExportIcon = _ref3 => {\n  let {\n    width,\n    height\n  } = _ref3;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    viewBox: \"0 0 24 24\",\n    style: createStyle(width, height),\n    \"data-test\": \"icon-metadatadependencyexport\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M16.949 16.132h2.332c-1.092 1.728-3.605 3.638-6.281 3.852v-8.984h3v-2h-3v-1.103c0-2.39 2-2.619 2-4.897 0-1.654-1.346-3-3-3s-3 1.346-3 3c0 2.297 2 2.487 2 4.897v1.103h-3v2h3v9c-2.639-.18-5.133-2.053-6.281-3.868h2.332l-5.051-3.132v5.912l1.269-1.8c2.702 4.503 6.379 4.305 8.731 6.888 2.352-2.583 6.029-2.385 8.731-6.889l1.269 1.8v-5.911l-5.051 3.132zm-5.949-13.132c0-.551.449-1 1-1s1 .449 1 1-.448 1-1 1-1-.449-1-1z\"\n  }));\n};\nexport const DataIcon = _ref4 => {\n  let {\n    width,\n    height\n  } = _ref4;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    viewBox: \"0 0 24 24\",\n    style: createStyle(width, height),\n    \"data-test\": \"icon-data\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M6.083 4c1.38 1.612 2.578 3 4.917 3h11v13h-20v-16h4.083zm.917-2h-7v20h24v-17h-13c-1.629 0-2.305-1.058-4-3z\"\n  }));\n};\nexport const EventIcon = _ref5 => {\n  let {\n    width,\n    height\n  } = _ref5;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    viewBox: \"0 0 24 24\",\n    style: createStyle(width, height),\n    \"data-test\": \"icon-event\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M20 20h-4v-4h4v4zm-6-10h-4v4h4v-4zm6 0h-4v4h4v-4zm-12 6h-4v4h4v-4zm6 0h-4v4h4v-4zm-6-6h-4v4h4v-4zm16-8v22h-24v-22h3v1c0 1.103.897 2 2 2s2-.897 2-2v-1h10v1c0 1.103.897 2 2 2s2-.897 2-2v-1h3zm-2 6h-20v14h20v-14zm-2-7c0-.552-.447-1-1-1s-1 .448-1 1v2c0 .552.447 1 1 1s1-.448 1-1v-2zm-14 2c0 .552-.447 1-1 1s-1-.448-1-1v-2c0-.552.447-1 1-1s1 .448 1 1v2z\"\n  }));\n};\nexport const GeometryIcon = _ref6 => {\n  let {\n    width,\n    height\n  } = _ref6;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    viewBox: \"0 0 24 24\",\n    style: createStyle(width, height),\n    \"data-test\": \"icon-gml\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M13.144 8.171c-.035-.066.342-.102.409-.102.074.009-.196.452-.409.102zm-2.152-3.072l.108-.031c.064.055-.072.095-.051.136.086.155.021.248.008.332-.014.085-.104.048-.149.093-.053.066.258.075.262.085.011.033-.375.089-.304.171.096.136.824-.195.708-.176.225-.113.029-.125-.097-.19-.043-.215-.079-.547-.213-.68l.088-.102c-.206-.299-.36.362-.36.362zm13.008 6.901c0 6.627-5.373 12-12 12-6.628 0-12-5.373-12-12s5.372-12 12-12c6.627 0 12 5.373 12 12zm-8.31-5.371c-.006-.146-.19-.284-.382-.031-.135.174-.111.439-.184.557-.104.175.567.339.567.174.025-.277.732-.063.87-.025.248.069.643-.226.211-.381-.355-.13-.542-.269-.574-.523 0 0 .188-.176.106-.166-.218.027-.614.786-.614.395zm6.296 5.371c0-1.035-.177-2.08-.357-2.632-.058-.174-.189-.312-.359-.378-.256-.1-1.337.597-1.5.254-.107-.229-.324.146-.572.008-.12-.066-.454-.515-.605-.46-.309.111.474.964.688 1.076.201-.152.852-.465.992-.038.268.804-.737 1.685-1.251 2.149-.768.694-.624-.449-1.147-.852-.275-.211-.272-.66-.55-.815-.124-.07-.693-.725-.688-.813l-.017.166c-.094.071-.294-.268-.315-.321 0 .295.48.765.639 1.001.271.405.416.995.748 1.326.178.178.858.914 1.035.898.193-.017.803-.458.911-.433.644.152-1.516 3.205-1.721 3.583-.169.317.138 1.101.113 1.476-.029.433-.37.573-.693.809-.346.253-.265.745-.556.925-.517.318-.889 1.353-1.623 1.348-.216-.001-1.14.36-1.261.007-.094-.256-.22-.45-.353-.703-.13-.248-.015-.505-.173-.724-.109-.152-.475-.497-.508-.677-.002-.155.117-.626.28-.708.229-.117.044-.458.016-.656-.048-.354-.267-.646-.53-.851-.389-.299-.188-.537-.097-.964 0-.204-.124-.472-.398-.392-.564.164-.393-.44-.804-.413-.296.021-.538.209-.813.292-.346.104-.7-.082-1.042-.125-1.407-.178-1.866-1.786-1.499-2.946.037-.19-.114-.542-.048-.689.158-.352.48-.747.762-1.014.158-.15.361-.112.547-.229.287-.181.291-.553.572-.781.4-.325.946-.318 1.468-.388.278-.037 1.336-.266 1.503-.06 0 .038.191.604-.019.572.433.023 1.05.749 1.461.579.211-.088.134-.736.567-.423.262.188 1.436.272 1.68.069.15-.124.234-.93.052-1.021.116.115-.611.124-.679.098-.12-.044-.232.114-.425.025.116.055-.646-.354-.218-.667-.179.131-.346-.037-.539.107-.133.108.062.18-.128.274-.302.153-.53-.525-.644-.602-.116-.076-1.014-.706-.77-.295l.789.785c-.039.025-.207-.286-.207-.059.053-.135.02.579-.104.347-.055-.089.09-.139.006-.268 0-.085-.228-.168-.272-.226-.125-.155-.457-.497-.637-.579-.05-.023-.764.087-.824.11-.07.098-.13.201-.179.311-.148.055-.287.126-.419.214l-.157.353c-.068.061-.765.291-.769.3.029-.075-.487-.171-.453-.321.038-.165.213-.68.168-.868-.048-.197 1.074.284 1.146-.235.029-.225.046-.487-.313-.525.068.008.695-.246.799-.36.146-.168.481-.442.724-.442.284 0 .223-.413.354-.615.131.053-.07.376.087.507-.01-.103.445.057.489.033.104-.054.684-.022.594-.294-.1-.277.051-.195.181-.253-.022.009.34-.619.402-.413-.043-.212-.421.074-.553.063-.305-.024-.176-.52-.061-.665.089-.115-.243-.256-.247-.036-.006.329-.312.627-.241 1.064.108.659-.735-.159-.809-.114-.28.17-.509-.214-.364-.444.148-.235.505-.224.652-.476.104-.178.225-.385.385-.52.535-.449.683-.09 1.216-.041.521.048.176.124.104.324-.069.19.286.258.409.099.07-.092.229-.323.298-.494.089-.222.901-.197.334-.536-.374-.223-2.004-.672-3.096-.672-.236 0-.401.263-.581.412-.356.295-1.268.874-1.775.698-.519-.179-1.63.66-1.808.666-.065.004.004-.634.358-.681-.153.023 1.247-.707 1.209-.859-.046-.18-2.799.822-2.676 1.023.059.092.299.092-.016.294-.18.109-.372.801-.541.801-.505.221-.537-.435-1.099.409l-.894.36c-1.328 1.411-2.247 3.198-2.58 5.183-.013.079.334.226.379.28.112.134.112.712.167.901.138.478.479.744.74 1.179.154.259.41.914.329 1.186.108-.178 1.07.815 1.246 1.022.414.487.733 1.077.061 1.559-.217.156.33 1.129.048 1.368l-.361.093c-.356.219-.195.756.021.982 1.818 1.901 4.38 3.087 7.22 3.087 5.517 0 9.989-4.472 9.989-9.989zm-11.507-6.357c.125-.055.293-.053.311-.22.015-.148.044-.046.08-.1.035-.053-.067-.138-.11-.146-.064-.014-.108.069-.149.104l-.072.019-.068.087.008.048-.087.106c-.085.084.002.139.087.102z\"\n  }));\n};\nexport const LogoIcon = _ref7 => {\n  let {\n    width,\n    height\n  } = _ref7;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    viewBox: \"0 0 24 24\",\n    style: createStyle(width, height),\n    \"data-test\": \"icon-logo\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M9 3L5 6.99h3V14h2V6.99h3L9 3zm7 14.01V10h-2v7.01h-3L15 21l4-3.99h-3z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 0h24v24H0z\",\n    fill: \"none\"\n  }));\n};\nexport const PlusIcon = _ref8 => {\n  let {\n    width,\n    height\n  } = _ref8;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    viewBox: \"0 0 24 24\",\n    style: createStyle(width, height),\n    \"data-test\": \"icon-plus\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 0h24v24H0z\",\n    fill: \"none\"\n  }));\n};\nexport const MinusIcon = _ref9 => {\n  let {\n    width,\n    height\n  } = _ref9;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    viewBox: \"0 0 24 24\",\n    style: createStyle(width, height),\n    \"data-test\": \"icon-minus\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M19 13H5v-2h14v2z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 0h24v24H0z\",\n    fill: \"none\"\n  }));\n};\nexport const TasksIcon = _ref10 => {\n  let {\n    width,\n    height\n  } = _ref10;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    viewBox: \"0 0 24 24\",\n    style: createStyle(width, height),\n    \"data-test\": \"icon-tasks\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M19 2h-4.2C14.4.8 13.3 0 12 0c-1.3 0-2.4.8-2.8 2H5C4 2 3 3 3 4v16c0 1 1 2 2 2h14c1 0 2-1 2-2V4c0-1-1-2-2-2zm-7 0c.6 0 1 .5 1 1s-.5 1-1 1-1-.5-1-1 .5-1 1-1zm7 18H5V4h2v3h10V4h2v16z\"\n  }));\n};\nexport const TEIIcon = _ref11 => {\n  let {\n    width,\n    height\n  } = _ref11;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    viewBox: \"0 0 24 24\",\n    style: createStyle(width, height)\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"none\",\n    d: \"M0 0h24v24H0z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M13 1l.001 3.062A8.004 8.004 0 0 1 19.938 11H23v2l-3.062.001a8.004 8.004 0 0 1-6.937 6.937L13 23h-2v-3.062a8.004 8.004 0 0 1-6.938-6.937L1 13v-2h3.062A8.004 8.004 0 0 1 11 4.062V1h2zm-1 9a2 2 0 1 0 0 4 2 2 0 0 0 0-4z\"\n  }));\n};\nexport const ImportIcon = _ref12 => {\n  let {\n    width,\n    height\n  } = _ref12;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    viewBox: \"0 0 24 24\",\n    style: createStyle(width, height)\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m18 13c1.1045695 0 2 .8954305 2 2v3c0 1.1045695-.8954305 2-2 2h-3c-1.1045695 0-2-.8954305-2-2v-3c0-1.1045695.8954305-2 2-2zm-9 0c1.1045695 0 2 .8954305 2 2v3c0 1.1045695-.8954305 2-2 2h-3c-1.1045695 0-2-.8954305-2-2v-3c0-1.1045695.8954305-2 2-2zm9 2h-3v3h3zm-9 0h-3v3h3zm-1.38710056-12.29029539.09420734.08318861 3.50000002 3.5c.3604839.36048396.3882135.92771502.0831886 1.32000622l-.0831886.09420734-3.50000002 3.50000002c-.39052429.3905243-1.02368927.3905243-1.41421356 0-.36048396-.360484-.3882135-.927715-.08318861-1.32000624l.08318861-.09420734 1.79210678-1.79289322h-5.085c-.55228475 0-1-.44771525-1-1 0-.51283584.38604019-.93550716.88337887-.99327227l.11662113-.00672773h5.085l-1.79210678-1.79289322c-.36048396-.36048396-.3882135-.92771502-.08318861-1.32000622l.08318861-.09420734c.36048396-.36048396.92771502-.3882135 1.32000622-.08318861zm10.38710056 1.29029539c1.1045695 0 2 .8954305 2 2v3c0 1.1045695-.8954305 2-2 2h-3c-1.1045695 0-2-.8954305-2-2v-3c0-1.1045695.8954305-2 2-2zm0 2h-3v3h3z\"\n  }));\n};\nexport const ExportIcon = _ref13 => {\n  let {\n    width,\n    height\n  } = _ref13;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    viewBox: \"0 0 24 24\",\n    style: createStyle(width, height)\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m18.6128994 12.7097046.0942074.0831886 3.5 3.5c.3604839.360484.3882135.927715.0831886 1.3200062l-.0831886.0942074-3.5 3.5c-.3905243.3905243-1.0236893.3905243-1.4142136 0-.3604839-.360484-.3882135-.927715-.0831886-1.3200062l.0831886-.0942074 1.7921068-1.7928932h-5.085c-.5522847 0-1-.4477153-1-1 0-.5128358.3860402-.9355072.8833789-.9932723l.1166211-.0067277h5.085l-1.7921068-1.7928932c-.3604839-.360484-.3882135-.927715-.0831886-1.3200062l.0831886-.0942074c.360484-.3604839.927715-.3882135 1.3200062-.0831886zm-9.6128994.2902954c1.1045695 0 2 .8954305 2 2v3c0 1.1045695-.8954305 2-2 2h-3c-1.1045695 0-2-.8954305-2-2v-3c0-1.1045695.8954305-2 2-2zm0 2h-3v3h3zm0-11c1.1045695 0 2 .8954305 2 2v3c0 1.1045695-.8954305 2-2 2h-3c-1.1045695 0-2-.8954305-2-2v-3c0-1.1045695.8954305-2 2-2zm9 0c1.1045695 0 2 .8954305 2 2v3c0 1.1045695-.8954305 2-2 2h-3c-1.1045695 0-2-.8954305-2-2v-3c0-1.1045695.8954305-2 2-2zm-9 2h-3v3h3zm9 0h-3v3h3z\"\n  }));\n};\nconst iconPropTypes = {\n  height: PropTypes.number,\n  width: PropTypes.number\n};\nDataIcon.propTypes = iconPropTypes;\nEventIcon.propTypes = iconPropTypes;\nGeometryIcon.propTypes = iconPropTypes;\nLogoIcon.propTypes = iconPropTypes;\nMetadataDependencyExportIcon.propTypes = iconPropTypes;\nMetadataExportIcon.propTypes = iconPropTypes;\nMetadataImportIcon.propTypes = iconPropTypes;\nMinusIcon.propTypes = iconPropTypes;\nPlusIcon.propTypes = iconPropTypes;\nTasksIcon.propTypes = iconPropTypes;\nTEIIcon.propTypes = iconPropTypes;\nImportIcon.propTypes = iconPropTypes;\nExportIcon.propTypes = iconPropTypes;","const mapping = {\n  json: 'application/json',\n  xml: 'application/xml',\n  csv: 'application/csv',\n  gml: 'application/xml',\n  geojson: 'application/json',\n  adx: 'application/adx+xml',\n  pdf: 'application/pdf'\n};\nexport const getMimeType = format => mapping[format] || null;","import { getMimeType } from './mime.js';\nconst getUploadXHR = _ref => {\n  let {\n    url,\n    upload,\n    type,\n    onResponse,\n    onError,\n    setProgress,\n    format\n  } = _ref;\n  const xhr = new XMLHttpRequest();\n  const contentType = getMimeType(format);\n  xhr.withCredentials = true;\n  xhr.open('POST', url, true);\n  xhr.setRequestHeader('Content-Type', contentType);\n  xhr.setRequestHeader('Content-Disposition', 'attachment filename=\"' + upload.name + '\"');\n  xhr.onreadystatechange = onReadyStateChange({\n    xhr,\n    type,\n    onResponse,\n    onError\n  });\n  xhr.upload.onprogress = onProgress(setProgress);\n  return xhr;\n};\nconst onReadyStateChange = _ref2 => {\n  let {\n    xhr,\n    type,\n    onResponse,\n    onError\n  } = _ref2;\n  return e => {\n    const status = Math.floor(xhr.status / 100);\n    if (xhr.readyState === 4 && status === 2) {\n      try {\n        const data = JSON.parse(xhr.responseText);\n        const idAndMsg = extractIdAndMessage(data);\n        onResponse({\n          ...idAndMsg,\n          type: type\n        });\n      } catch (parseError) {\n        onError(parseError);\n      }\n    } else if (xhr.readyState === 4) {\n      onError(e);\n    }\n  };\n};\nexport const extractIdAndMessage = data => {\n  const {\n    message,\n    status,\n    typeReports,\n    response\n  } = data;\n  if (status && status === 'ERROR') {\n    if (Array.isArray(typeReports) && Array.isArray(typeReports[0].objectReports) && Array.isArray(typeReports[0].objectReports[0].errorReports)) {\n      return {\n        error: true,\n        msg: {\n          id: 'init',\n          text: typeReports[0].objectReports[0].errorReports[0].message,\n          date: new Date()\n        },\n        typeReports: data\n      };\n    }\n  }\n  if (typeof response !== 'undefined') {\n    if (response.id) {\n      // the response will contain an `id` if the import was asynchronous\n      return {\n        id: response.id,\n        msg: {\n          id: 'init',\n          text: message,\n          date: new Date(response.created)\n        }\n      };\n    } else {\n      // the response will contain a report inside the response if the\n      // import was synchronous\n      return {\n        msg: {\n          id: 'completed',\n          text: 'Import:Done',\n          date: new Date()\n        },\n        typeReports: response\n      };\n    }\n  }\n\n  // sync metadata import\n  if (typeReports) {\n    if (Array.isArray(typeReports) && typeReports[0] && Array.isArray(typeReports[0].objectReports) && typeReports[0].objectReports[0] && Array.isArray(typeReports[0].objectReports[0].errorReports)) {\n      return {\n        error: true,\n        msg: {\n          id: 'init',\n          text: typeReports[0].objectReports[0].errorReports[0].message,\n          date: new Date()\n        },\n        typeReports: data\n      };\n    }\n    return {\n      msg: {\n        id: 'completed',\n        text: 'Import:Done',\n        date: new Date()\n      },\n      typeReports: data\n    };\n  }\n  return {\n    error: true\n  };\n};\nconst onProgress = setProgress => evt => {\n  if (evt.lengthComputable) {\n    const percentComplete = parseInt(evt.loaded / evt.total * 100);\n    setProgress(Math.max(1, percentComplete));\n  }\n};\nexport { getUploadXHR };","import i18n from '@dhis2/d2-i18n';\nimport { getUploadXHR } from './xhr.js';\nconst trimString = (length, string) => string.length > length ? string.substring(0, length - 3) + '...' : string;\nconst pathToId = path => {\n  const pathSplit = path.split('/');\n  const orgId = pathSplit[pathSplit.length - 1];\n  return orgId;\n};\nconst jsDateToISO8601 = date => `${date.getFullYear().toString()}-${(date.getMonth() + 1).toString().padStart(2, 0)}-${date.getDate().toString().padStart(2, 0)}`;\nconst jsDateToString = date => `${jsDateToISO8601(date)} ${date.getHours().toString().padStart(2, 0)}:${date.getMinutes().toString().padStart(2, 0)}:${date.getSeconds().toString().padStart(2, 0)}\n`;\n// some parameters take the long version of the compression type\nconst compressionToName = compression => {\n  if (compression === 'gz') {\n    return 'gzip';\n  }\n  return compression;\n};\nconst fileFormatToFileExtension = format => {\n  if (format === 'adx+xml') {\n    return 'xml';\n  }\n  return format;\n};\nconst fetchAttributes = async (apiBaseUrl, attribute) => {\n  const fetcher = url => fetch(url, {\n    credentials: 'include'\n  }).then(resp => {\n    if (resp.status >= 200 && resp.status < 300) {\n      return Promise.resolve(resp.json());\n    } else {\n      throw resp;\n    }\n  }).catch(resp => {\n    const error = new Error(resp.statusText || resp.status);\n    console.error(`fetchAttributes ${attribute} fetch error: `, error);\n    return Promise.reject(error);\n  });\n  const fields = 'id,displayName';\n  const filters = `unique:eq:true&filter=${attribute}:eq:true`;\n  const url = `${apiBaseUrl}attributes.json?paging=false&fields=${fields}&filter=${filters}`;\n  const json = await fetcher(url).catch(error => Promise.reject(error));\n  return json.attributes.map(_ref => {\n    let {\n      id,\n      displayName\n    } = _ref;\n    return {\n      value: `ATTRIBUTE:${id}`,\n      label: displayName\n    };\n  });\n};\nexport const genericErrorMessage = i18n.t('An unknown error occurred. Please try again later');\nconst errorGenerator = setProgress => message => {\n  const timestamp = new Date().getTime();\n  setProgress(0);\n  return {\n    id: `xhr-${timestamp}`,\n    critical: true,\n    message: message ? message : genericErrorMessage\n  };\n};\nconst uploadFile = _ref2 => {\n  let {\n    url,\n    file,\n    format,\n    type,\n    isAsync,\n    setProgress,\n    addEntry\n  } = _ref2;\n  setProgress(1);\n  const errF = errorGenerator(setProgress);\n  return new Promise((resolve, reject) => {\n    try {\n      const xhr = getUploadXHR({\n        url,\n        upload: file,\n        type,\n        onResponse: response => {\n          const {\n            error,\n            id,\n            msg,\n            typeReports\n          } = response;\n          let entry;\n          if (!isAsync) {\n            // we are done\n            entry = {\n              id: new Date().getTime(),\n              level: 'INFO',\n              created: new Date(),\n              lastUpdated: new Date(),\n              completed: true,\n              events: [msg],\n              summary: typeReports,\n              error: error,\n              importType: type\n            };\n          } else if (error && msg) {\n            // error but we have a message\n            entry = {\n              id: new Date().getTime(),\n              level: 'ERROR',\n              created: new Date(),\n              lastUpdated: new Date(),\n              completed: true,\n              events: [msg],\n              summary: typeReports,\n              error: true,\n              importType: type\n            };\n          } else if (error) {\n            // error with no message\n            entry = {\n              id: new Date().getTime(),\n              level: 'ERROR',\n              created: new Date(),\n              lastUpdated: new Date(),\n              completed: true,\n              summary: undefined,\n              error: true,\n              importType: type\n            };\n          } else {\n            // success\n            entry = {\n              id: id,\n              level: 'INFO',\n              created: new Date(),\n              lastUpdated: new Date(),\n              completed: false,\n              events: [{\n                ...msg,\n                date: new Date()\n              }],\n              // this is a workaround for the initial message date coming as invalid\n\n              summary: undefined,\n              error: false,\n              importType: type\n            };\n          }\n          addEntry(entry.id, entry);\n          if (error) {\n            reject(errF(msg && msg.text));\n          }\n          setProgress(0);\n          resolve({});\n        },\n        onError: ev => {\n          let message;\n          try {\n            const response = JSON.parse(ev.target.response);\n            message = response.message;\n          } catch (e2) {\n            message = ev;\n          }\n          console.error('sendFile error', message);\n          reject(errF(message));\n        },\n        setProgress,\n        format\n      });\n      xhr.send(file);\n    } catch (e) {\n      // xhr.send can throw an exception\n      reject(errorGenerator(e));\n    }\n  });\n};\n\n// call stub function if available\nconst locationAssign = url => {\n  if (window.locationAssign) {\n    window.locationAssign(url);\n  } else {\n    try {\n      const downloadUrl = url.startsWith('..') ? new URL(url, document.baseURI).href : url;\n      const urlFilePart = new URL(downloadUrl).pathname.split('/').pop();\n      const [, filename] = urlFilePart.match(/(^[^.]+)(\\..+$)/);\n      const link = document.createElement('a');\n      link.href = downloadUrl;\n      link.download = filename;\n      link.target = '_blank';\n      link.click();\n      return link;\n    } catch (err) {\n      console.error(err);\n      window.open(url, '_blank');\n    }\n  }\n};\nconst getPrevJobDetails = (query, tasks) => {\n  if (!query || !query.id) {\n    return {};\n  }\n  const job = tasks[query.id];\n  if (!job) {\n    return {};\n  }\n  return job.jobDetails;\n};\nconst getInitialBoolValue = (prevValue, defaultValue) => {\n  if (prevValue === null || prevValue === undefined) {\n    return defaultValue;\n  }\n  return prevValue;\n};\nexport { fetchAttributes, getPrevJobDetails, getInitialBoolValue, locationAssign, jsDateToISO8601, jsDateToString, pathToId, trimString, uploadFile, compressionToName, fileFormatToFileExtension };","import PropTypes from 'prop-types';\nconst optionPropType = PropTypes.exact({\n  value: PropTypes.string.isRequired,\n  label: PropTypes.string.isRequired\n});\nconst optionsPropType = PropTypes.arrayOf(optionPropType);\nexport { optionPropType, optionsPropType };","import { useConfig } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { SingleSelectFieldFF } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React, { useEffect, useState } from 'react';\nimport { fetchAttributes } from '../../utils/helper.js';\nimport { optionsPropType } from '../../utils/options.js';\nimport { StyledField } from '../index.js';\nconst DataElementIdScheme = _ref => {\n  let {\n    name,\n    label,\n    dataElementIdSchemeOptions,\n    dataTest\n  } = _ref;\n  const {\n    baseUrl\n  } = useConfig();\n  const [loading, setLoading] = useState(true);\n  const [schemes, setSchemes] = useState([]);\n  const [error, setError] = useState(undefined);\n  useEffect(() => {\n    fetchAttributes(`${baseUrl}/api/`, 'dataElementAttribute').then(attributes => setSchemes(attributes)).catch(error => setError(error)).finally(() => setLoading(false));\n  }, []);\n  const validationText = error && `${i18n.t('Something went wrong when loading the additional data element ID schemes')} : ${error.message}`;\n  const options = [...dataElementIdSchemeOptions, ...schemes];\n  return /*#__PURE__*/React.createElement(StyledField, {\n    component: SingleSelectFieldFF,\n    name: name,\n    label: label,\n    options: options,\n    dataTest: dataTest,\n    loading: loading,\n    validationText: validationText,\n    error: !!error\n  });\n};\nDataElementIdScheme.propTypes = {\n  dataElementIdSchemeOptions: optionsPropType.isRequired,\n  dataTest: PropTypes.string.isRequired,\n  label: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired\n};\nexport { DataElementIdScheme };","import { InputField } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nconst DatePicker = _ref => {\n  let {\n    name,\n    error,\n    label,\n    date,\n    onChange,\n    dataTest\n  } = _ref;\n  const onChangeHelper = _ref2 => {\n    let {\n      value\n    } = _ref2;\n    return onChange(value);\n  };\n  return /*#__PURE__*/React.createElement(InputField, {\n    type: \"date\",\n    name: name,\n    value: date,\n    label: label,\n    onChange: onChangeHelper,\n    inputWidth: \"200px\",\n    error: !!error,\n    validationText: error,\n    dataTest: dataTest\n  });\n};\nDatePicker.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  date: PropTypes.oneOfType([PropTypes.instanceOf(Date), PropTypes.string]).isRequired,\n  label: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired,\n  error: PropTypes.string\n};\nexport { DatePicker };","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport i18n from '@dhis2/d2-i18n';\nimport { ReactFinalForm } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { DatePicker } from '../index.js';\nconst {\n  Field\n} = ReactFinalForm;\nconst OPTIONAL_DATE_VALIDATOR = date => date ? DATE_VALIDATOR(date) : undefined;\nconst DATE_VALIDATOR = date => new Date(date) == 'Invalid Date' ? i18n.t('Invalid date') : undefined;\nconst DATE_BEFORE_VALIDATOR = (date1, date2) => date1 > date2 ? i18n.t('Start date must be before end date') : undefined;\nconst DATE_AFTER_VALIDATOR = (date2, date1) => date2 < date1 ? i18n.t('End date must be after start date') : undefined;\nconst Wrapper = _ref => {\n  let {\n    input: {\n      value,\n      onChange\n    },\n    meta: {\n      error\n    },\n    inputName,\n    ...rest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(DatePicker, _extends({\n    name: inputName,\n    error: error,\n    date: value,\n    onChange: onChange\n  }, rest));\n};\nWrapper.propTypes = {\n  input: PropTypes.shape({\n    value: PropTypes.string,\n    onChange: PropTypes.func\n  }).isRequired,\n  inputName: PropTypes.string.isRequired,\n  meta: PropTypes.shape({\n    error: PropTypes.string,\n    pristine: PropTypes.bool,\n    touched: PropTypes.bool\n  }).isRequired\n};\nconst DatePickerField = _ref2 => {\n  let {\n    name,\n    validator,\n    ...rest\n  } = _ref2;\n  return /*#__PURE__*/React.createElement(Field, _extends({\n    component: Wrapper,\n    name: name,\n    validate: validator,\n    inputName: name\n  }, rest));\n};\nDatePickerField.propTypes = {\n  name: PropTypes.string.isRequired,\n  validator: PropTypes.func\n};\nexport { DatePickerField, DATE_VALIDATOR, DATE_BEFORE_VALIDATOR, DATE_AFTER_VALIDATOR, OPTIONAL_DATE_VALIDATOR };","import { SingleSelectFieldFF } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { optionsPropType } from '../../utils/options.js';\nimport { StyledField } from '../index.js';\nconst EventIdScheme = _ref => {\n  let {\n    name,\n    label,\n    eventIdSchemeOptions,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(StyledField, {\n    component: SingleSelectFieldFF,\n    name: name,\n    label: label,\n    options: eventIdSchemeOptions,\n    dataTest: dataTest\n  });\n};\nEventIdScheme.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  eventIdSchemeOptions: optionsPropType.isRequired,\n  label: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired\n};\nexport { EventIdScheme };","import i18n from '@dhis2/d2-i18n';\nimport { ReactFinalForm, FileInputFieldFF } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { FormField } from '../index.js';\nconst {\n  Field\n} = ReactFinalForm;\nconst SINGLE_FILE_VALIDATOR = files => !files || files.length == 0 ? i18n.t('Please select a file') : undefined;\nconst FileUpload = _ref => {\n  let {\n    initialValue,\n    required,\n    name,\n    label,\n    helpText,\n    accept = '*',\n    validator,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(FormField, {\n    label: label,\n    required: required,\n    dataTest: dataTest\n  }, /*#__PURE__*/React.createElement(Field, {\n    component: FileInputFieldFF,\n    name: name,\n    accept: accept,\n    required: required,\n    initialValue: initialValue,\n    validate: validator,\n    dataTest: `${dataTest}-fileinput`,\n    helpText: helpText\n  }));\n};\nFileUpload.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  label: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  accept: PropTypes.string,\n  helpText: PropTypes.string,\n  initialValue: PropTypes.instanceOf(File),\n  required: PropTypes.bool,\n  validator: PropTypes.func\n};\nexport { FileUpload, SINGLE_FILE_VALIDATOR };","import { AlertStack, AlertBar } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nconst FormAlerts = _ref => {\n  let {\n    alerts,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(AlertStack, {\n    \"data-test\": dataTest\n  }, alerts && alerts.map(a => /*#__PURE__*/React.createElement(AlertBar, {\n    key: `alert-${a.id}`,\n    warning: a.warning,\n    info: a.info,\n    critical: a.critical,\n    success: a.success,\n    duration: 5000\n  }, a.message)));\n};\nFormAlerts.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  alerts: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    message: PropTypes.string.isRequired,\n    critical: PropTypes.bool,\n    info: PropTypes.bool,\n    warning: PropTypes.bool\n  }))\n};\nexport { FormAlerts };","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"FormField_container__6QIDT\",\"label\":\"FormField_label__NMiRO\"};","import PropTypes from 'prop-types';\nimport React from 'react';\nimport styles from './FormField.module.css';\nconst FormField = _ref => {\n  let {\n    dataTest,\n    label,\n    required = false,\n    children\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.container,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.label\n  }, label, required && /*#__PURE__*/React.createElement(\"span\", null, \" *\")), children);\n};\nFormField.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  label: PropTypes.string.isRequired,\n  children: PropTypes.node,\n  required: PropTypes.bool\n};\nexport { FormField };","import { useConfig } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { SingleSelectFieldFF } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React, { useState, useEffect } from 'react';\nimport { fetchAttributes } from '../../utils/helper.js';\nimport { optionsPropType } from '../../utils/options.js';\nimport { StyledField } from '../index.js';\nconst attributeFoundIn = (attribute, collection) => !!collection.find(_ref => {\n  let {\n    value\n  } = _ref;\n  return value === attribute.value;\n});\nconst IdScheme = _ref2 => {\n  let {\n    name,\n    label,\n    idSchemeOptions,\n    dataTest\n  } = _ref2;\n  const {\n    baseUrl\n  } = useConfig();\n  const [loading, setLoading] = useState(true);\n  const [schemes, setSchemes] = useState([]);\n  const [error, setError] = useState(undefined);\n  useEffect(() => {\n    const f = async () => {\n      let err;\n      const dataElementAttributes = await fetchAttributes(`${baseUrl}/api/`, 'dataElementAttribute').catch(error => err = error);\n      const organisationUnitAttributes = await fetchAttributes(`${baseUrl}/api/`, 'organisationUnitAttribute').catch(error => err = error);\n      setError(err);\n      if (!err) {\n        const sharedAttributes = dataElementAttributes.reduce((shared, attribute) => {\n          const foundInOrgUnits = attributeFoundIn(attribute, organisationUnitAttributes);\n          return foundInOrgUnits ? [...shared, attribute] : shared;\n        }, []);\n        setSchemes(sharedAttributes);\n      }\n      setLoading(false);\n    };\n    f();\n  }, []);\n  const validationText = error && `${i18n.t('Something went wrong when loading the additional ID schemes')} : ${error.message}`;\n  const options = [...idSchemeOptions, ...schemes];\n  return /*#__PURE__*/React.createElement(StyledField, {\n    component: SingleSelectFieldFF,\n    name: name,\n    label: label,\n    options: options,\n    dataTest: dataTest,\n    loading: loading,\n    validationText: validationText,\n    error: !!error\n  });\n};\nIdScheme.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  idSchemeOptions: optionsPropType.isRequired,\n  label: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired\n};\nexport { IdScheme };","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"ImportButtonStrip_container__uUrJQ\",\"dryRun\":\"ImportButtonStrip_dryRun__MG8gz\"};","import i18n from '@dhis2/d2-i18n';\nimport { Button, ButtonStrip, Help } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport styles from './ImportButtonStrip.module.css';\nconst DRYRUN_HELPTEXT = i18n.t('A dry run tests the import settings without importing any data');\nconst ImportButtonStrip = _ref => {\n  let {\n    dryRunDataTest,\n    importDataTest,\n    form,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.container,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(ButtonStrip, {\n    dataTest: `${dataTest}-button-strip`\n  }, /*#__PURE__*/React.createElement(Button, {\n    primary: true,\n    type: \"submit\",\n    onClick: () => form.change('dryRun', true),\n    dataTest: dryRunDataTest,\n    className: styles.dryRun\n  }, i18n.t('Start dry run')), /*#__PURE__*/React.createElement(Button, {\n    secondary: true,\n    type: \"submit\",\n    onClick: () => form.change('dryRun', false),\n    dataTest: importDataTest\n  }, i18n.t('Start import'))), /*#__PURE__*/React.createElement(Help, {\n    dataTest: `${dataTest}-help`\n  }, DRYRUN_HELPTEXT));\n};\nImportButtonStrip.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  dryRunDataTest: PropTypes.string.isRequired,\n  form: PropTypes.object.isRequired,\n  importDataTest: PropTypes.string.isRequired\n};\nexport { ImportButtonStrip };","import React from 'react';\nconst UserContext = /*#__PURE__*/React.createContext(undefined);\nexport { UserContext };","import React from 'react';\nconst TaskContext = /*#__PURE__*/React.createContext(undefined);\nconst getNewestTask = tasks => Object.keys(tasks).map(k => tasks[k]).sort((a, b) => a.created < b.created ? 1 : -1)[0];\nexport { TaskContext, getNewestTask };","import i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport { DataIcon, EventIcon, GeometryIcon, MetadataImportIcon, TEIIcon } from '../components/Icon/Icon.js';\nconst categoryTypes = [{\n  key: 'data',\n  importType: 'DATAVALUE_IMPORT',\n  icon: /*#__PURE__*/React.createElement(DataIcon, null),\n  label: i18n.t('Data')\n}, {\n  key: 'event',\n  importType: 'EVENT_IMPORT',\n  icon: /*#__PURE__*/React.createElement(EventIcon, null),\n  label: i18n.t('Event')\n}, {\n  key: 'geojson',\n  importType: 'GEOJSON_IMPORT',\n  icon: /*#__PURE__*/React.createElement(GeometryIcon, null),\n  label: i18n.t('GeoJSON')\n}, {\n  key: 'gml',\n  importType: 'GML_IMPORT',\n  icon: /*#__PURE__*/React.createElement(GeometryIcon, null),\n  label: i18n.t('GML')\n}, {\n  key: 'metadata',\n  importType: 'METADATA_IMPORT',\n  icon: /*#__PURE__*/React.createElement(MetadataImportIcon, null),\n  label: i18n.t('Metadata')\n}, {\n  key: 'tei',\n  importType: 'TEI_IMPORT',\n  icon: /*#__PURE__*/React.createElement(TEIIcon, null),\n  label: i18n.t('Tracked entity')\n}];\nconst allCategories = categoryTypes.map(_ref => {\n  let {\n    importType\n  } = _ref;\n  return importType;\n});\nexport { categoryTypes, allCategories };","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"JobOverview_container__dtx-5\",\"chips\":\"JobOverview_chips__svCo8\",\"Menu\":\"JobOverview_Menu__JZPBX\",\"items\":\"JobOverview_items__v1umQ\",\"summary\":\"JobOverview_summary__nq2zO\"};","import PropTypes from 'prop-types';\nimport React from 'react';\nimport styles from './JobOverview.module.css';\nconst ChipContainer = _ref => {\n  let {\n    children\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.chips,\n    \"data-test\": \"job-overview-chips\"\n  }, children);\n};\nChipContainer.propTypes = {\n  children: PropTypes.node\n};\nexport { ChipContainer };","import { categoryTypes } from '../../utils/tasks.js';\nconst categoryTypesObj = categoryTypes.reduce((acc, cur) => {\n  acc[cur.importType] = cur;\n  return acc;\n}, {});\nconst jobToPath = job => {\n  var _categoryTypesObj$job;\n  return {\n    pathname: `/import/${(_categoryTypesObj$job = categoryTypesObj[job.importType]) === null || _categoryTypesObj$job === void 0 ? void 0 : _categoryTypesObj$job.key}`,\n    query: {\n      id: job.id\n    }\n  };\n};\nexport { categoryTypesObj, jobToPath };","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"MenuLabel_container__mlQrR\",\"filename\":\"MenuLabel_filename__nDhZl\",\"subtitle\":\"MenuLabel_subtitle__CR5af\",\"date\":\"MenuLabel_date__Gpvam\"};","import i18n from '@dhis2/d2-i18n';\nimport { Tag } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { jsDateToString } from '../../../utils/helper.js';\nimport styles from './MenuLabel.module.css';\nconst MenuLabel = _ref => {\n  let {\n    task\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.container,\n    \"data-test\": `job-overview-menu-label-${task.id}`\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.filename\n  }, task.jobDetails.files[0].name), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.subtitle\n  }, task.completed ? /*#__PURE__*/React.createElement(Tag, {\n    positive: true\n  }, i18n.t('Completed')) : /*#__PURE__*/React.createElement(Tag, null, i18n.t('In progress')), ' ', /*#__PURE__*/React.createElement(\"p\", {\n    className: styles.date\n  }, jsDateToString(task.created))));\n};\nMenuLabel.propTypes = {\n  task: PropTypes.shape({\n    completed: PropTypes.bool.isRequired,\n    created: PropTypes.instanceOf(Date).isRequired,\n    id: PropTypes.oneOfType([PropTypes.number, PropTypes.string]).isRequired,\n    jobDetails: PropTypes.object.isRequired\n  }).isRequired\n};\nexport { MenuLabel };","import i18n from '@dhis2/d2-i18n';\nimport { Button, Chip, Menu, MenuItem } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React, { useContext, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { TaskContext } from '../../contexts/index.js';\nimport { categoryTypes } from '../../utils/tasks.js';\nimport { JobSummary } from '../index.js';\nimport { ChipContainer } from './ChipContainer.js';\nimport { jobToPath } from './helper.js';\nimport styles from './JobOverview.module.css';\nimport { MenuLabel } from './MenuLabel/MenuLabel.js';\nconst JobOverview = _ref => {\n  let {\n    activeTypes,\n    setActiveTypes,\n    selectedJob,\n    setSelectedJob\n  } = _ref;\n  const {\n    tasks\n  } = useContext(TaskContext);\n  const onChipClick = key => {\n    if (activeTypes.includes(key)) {\n      setActiveTypes([...activeTypes].filter(k => k != key));\n    } else {\n      setActiveTypes([...activeTypes, key]);\n    }\n  };\n\n  // all tasks sorted by type, createdAt (descending)\n  const allTasks = categoryTypes.map(_ref2 => {\n    let {\n      key: type\n    } = _ref2;\n    return Object.keys(tasks[type]).map(id => tasks[type][id]);\n  }).flat().sort((a, b) => {\n    if (a.importType > b.importType) {\n      return -1;\n    }\n    if (a.createdAt > b.createdAt) {\n      return -1;\n    }\n  });\n  const filteredTasks = allTasks.filter(t => activeTypes.includes(t.importType));\n\n  // set selected job to first job if\n  // first time user visits the job overview page\n  useEffect(() => {\n    if (selectedJob === undefined && allTasks.length > 0) {\n      setSelectedJob(allTasks[0]);\n    }\n  }, []);\n  if (allTasks.length === 0) {\n    return /*#__PURE__*/React.createElement(\"p\", null, i18n.t('No jobs started yet.'));\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.container,\n    \"data-test\": \"job-overview-container\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.items,\n    \"data-test\": \"job-overview-tasks\"\n  }, /*#__PURE__*/React.createElement(Menu, {\n    className: styles.Menu\n  }, /*#__PURE__*/React.createElement(ChipContainer, null, categoryTypes.map(_ref3 => {\n    let {\n      key,\n      importType,\n      label\n    } = _ref3;\n    return /*#__PURE__*/React.createElement(Chip, {\n      dense: true,\n      onClick: () => onChipClick(importType),\n      selected: activeTypes.includes(importType),\n      key: key,\n      dataTest: `job-overview-chips-${key}`\n    }, label);\n  })), filteredTasks.map(t => /*#__PURE__*/React.createElement(MenuItem, {\n    key: `job-overview-tasks-${t.id}`,\n    active: selectedJob && selectedJob.id === t.id,\n    label: /*#__PURE__*/React.createElement(MenuLabel, {\n      task: t\n    }),\n    onClick: () => setSelectedJob(t)\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.summary,\n    \"data-test\": \"job-overview-summary\"\n  }, selectedJob && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(JobSummary, {\n    task: selectedJob,\n    dataTest: \"job-summary-container\",\n    showFileDetails: false,\n    showJobDetails: true\n  }), /*#__PURE__*/React.createElement(Link, {\n    to: jobToPath(selectedJob)\n  }, /*#__PURE__*/React.createElement(Button, {\n    primary: true\n  }, i18n.t('Recreate job'))))));\n};\nJobOverview.propTypes = {\n  activeTypes: PropTypes.arrayOf(PropTypes.string).isRequired,\n  setActiveTypes: PropTypes.func.isRequired,\n  setSelectedJob: PropTypes.func.isRequired,\n  selectedJob: PropTypes.object\n};\nexport { JobOverview, categoryTypes };","import i18n from '@dhis2/d2-i18n';\nimport { Table, TableBody, TableCell, TableHead, TableRow, TableRowHead, TableCellHead } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { FormField } from '../../index.js';\nconst valueToString = value => {\n  if (value instanceof File) {\n    return value.name;\n  } else if (Array.isArray(value)) {\n    return value.map(v => valueToString(v)).join(',');\n  } else if (value instanceof Object) {\n    return value.label;\n  }\n  return `${value}`;\n};\nconst Details = _ref => {\n  let {\n    details\n  } = _ref;\n  return /*#__PURE__*/React.createElement(FormField, {\n    label: `${i18n.t('Job details')}`,\n    dataTest: \"job-summary-job-details\",\n    name: \"details\"\n  }, /*#__PURE__*/React.createElement(Table, null, /*#__PURE__*/React.createElement(TableHead, null, /*#__PURE__*/React.createElement(TableRowHead, null, /*#__PURE__*/React.createElement(TableCellHead, null, i18n.t('Key')), /*#__PURE__*/React.createElement(TableCellHead, null, i18n.t('Value')))), /*#__PURE__*/React.createElement(TableBody, null, Object.keys(details).map(key => /*#__PURE__*/React.createElement(TableRow, {\n    key: `job-summary-job-details-${key}`\n  }, /*#__PURE__*/React.createElement(TableCell, null, key), /*#__PURE__*/React.createElement(TableCell, null, valueToString(details[key])))))));\n};\nDetails.propTypes = {\n  details: PropTypes.object.isRequired\n};\nexport { Details };","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"JobSummary_container__Sc44L\",\"title\":\"JobSummary_title__xmv8y\",\"taskDetails\":\"JobSummary_taskDetails__MKmj+\",\"tags\":\"JobSummary_tags__R--jE\"};","import i18n from '@dhis2/d2-i18n';\nimport { Table, TableBody, TableCell, TableHead, TableRow, TableRowHead, TableCellHead } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { jsDateToString } from '../../../utils/helper.js';\nimport { FormField } from '../../index.js';\nconst Log = _ref => {\n  let {\n    events\n  } = _ref;\n  return /*#__PURE__*/React.createElement(FormField, {\n    label: `${i18n.t('Log')}`,\n    dataTest: \"job-summary-log\",\n    name: \"log\"\n  }, /*#__PURE__*/React.createElement(Table, null, /*#__PURE__*/React.createElement(TableHead, null, /*#__PURE__*/React.createElement(TableRowHead, null, /*#__PURE__*/React.createElement(TableCellHead, null, i18n.t('Time')), /*#__PURE__*/React.createElement(TableCellHead, null, i18n.t('Message')), /*#__PURE__*/React.createElement(TableCellHead, null, i18n.t('ID')))), /*#__PURE__*/React.createElement(TableBody, null, (events || null) && events.map((e, i) => /*#__PURE__*/React.createElement(TableRow, {\n    key: `job-summary-log-${e.id}-${i}`\n  }, /*#__PURE__*/React.createElement(TableCell, null, jsDateToString(e.date)), /*#__PURE__*/React.createElement(TableCell, null, e.text), /*#__PURE__*/React.createElement(TableCell, null, e.id))))));\n};\nconst eventPropType = PropTypes.shape({\n  date: PropTypes.instanceOf(Date).isRequired,\n  id: PropTypes.string.isRequired,\n  text: PropTypes.string.isRequired\n});\nLog.propTypes = {\n  events: PropTypes.arrayOf(eventPropType)\n};\nexport { Log };","import PropTypes from 'prop-types';\nconst statsPropTypeObj = {\n  deleted: PropTypes.number.isRequired,\n  ignored: PropTypes.number.isRequired,\n  total: PropTypes.number.isRequired,\n  updated: PropTypes.number.isRequired,\n  imported: PropTypes.number,\n  created: PropTypes.number\n};\nconst statsPropType = PropTypes.exact(statsPropTypeObj);\nconst getClassName = c => {\n  const s = c.split('.');\n  return s[s.length - 1];\n};\nconst typeReportParse = report => {\n  let allStats = [];\n  const allMessages = [];\n  Object.keys(report).forEach(i => {\n    const {\n      klass,\n      objectReports,\n      stats\n    } = report[i];\n    allStats = [...allStats, {\n      ...stats,\n      type: getClassName(klass)\n    }];\n    objectReports && objectReports.forEach(r => {\n      const {\n        uid,\n        errorReports\n      } = r;\n      errorReports && errorReports.forEach(e => {\n        allMessages.push({\n          uid,\n          type: getClassName(e.mainKlass),\n          property: e.errorProperty,\n          message: e.message\n        });\n      });\n    });\n  });\n  return {\n    stats: allStats,\n    messages: allMessages\n  };\n};\nconst messagesPropType = PropTypes.arrayOf(PropTypes.exact({\n  uid: PropTypes.string,\n  type: PropTypes.string,\n  property: PropTypes.string,\n  message: PropTypes.string\n}));\nexport { typeReportParse, statsPropType, statsPropTypeObj, messagesPropType };","import i18n from '@dhis2/d2-i18n';\nimport { Table, TableBody, TableCell, TableHead, TableRow, TableRowHead, TableCellHead } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nconst SingleStatusTable = _ref => {\n  let {\n    status,\n    description\n  } = _ref;\n  return /*#__PURE__*/React.createElement(Table, null, /*#__PURE__*/React.createElement(TableHead, null, /*#__PURE__*/React.createElement(TableRowHead, null, /*#__PURE__*/React.createElement(TableCellHead, null, i18n.t('Status')), /*#__PURE__*/React.createElement(TableCellHead, null, i18n.t('Description')))), /*#__PURE__*/React.createElement(TableBody, null, /*#__PURE__*/React.createElement(TableRow, null, /*#__PURE__*/React.createElement(TableCell, null, status), /*#__PURE__*/React.createElement(TableCell, null, description))));\n};\nSingleStatusTable.propTypes = {\n  description: PropTypes.string,\n  status: PropTypes.string\n};\nexport { SingleStatusTable };","import i18n from '@dhis2/d2-i18n';\nimport { Table, TableBody, TableCell, TableHead, TableRow, TableRowHead, TableCellHead } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { FormField } from '../../index.js';\nimport { statsPropType } from '../helper.js';\nimport { SingleStatusTable } from '../SingleStatusTable/SingleStatusTable.js';\nconst SingleSummary = _ref => {\n  var _ref2, _importCount$imported, _validationReport$err;\n  let {\n    importType,\n    importCount,\n    status,\n    description,\n    conflicts,\n    validationReport,\n    id\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(FormField, {\n    label: id ? `${i18n.t('Summary')} #${id}` : i18n.t('Summary'),\n    dataTest: \"job-summary-single-summary\",\n    name: \"summary\"\n  }, /*#__PURE__*/React.createElement(React.Fragment, null, status && description && /*#__PURE__*/React.createElement(SingleStatusTable, {\n    description: description,\n    status: status\n  }), /*#__PURE__*/React.createElement(Table, null, /*#__PURE__*/React.createElement(TableHead, null, /*#__PURE__*/React.createElement(TableRowHead, null, /*#__PURE__*/React.createElement(TableCellHead, null, i18n.t('Created')), /*#__PURE__*/React.createElement(TableCellHead, null, i18n.t('Deleted')), /*#__PURE__*/React.createElement(TableCellHead, null, i18n.t('Ignored')), /*#__PURE__*/React.createElement(TableCellHead, null, i18n.t('Updated')), /*#__PURE__*/React.createElement(TableCellHead, null, i18n.t('Total')))), /*#__PURE__*/React.createElement(TableBody, null, /*#__PURE__*/React.createElement(TableRow, null, /*#__PURE__*/React.createElement(TableCell, null, (_ref2 = (_importCount$imported = importCount === null || importCount === void 0 ? void 0 : importCount.imported) !== null && _importCount$imported !== void 0 ? _importCount$imported : importCount === null || importCount === void 0 ? void 0 : importCount.created) !== null && _ref2 !== void 0 ? _ref2 : '0'), /*#__PURE__*/React.createElement(TableCell, null, importCount === null || importCount === void 0 ? void 0 : importCount.deleted), /*#__PURE__*/React.createElement(TableCell, null, importCount === null || importCount === void 0 ? void 0 : importCount.ignored), /*#__PURE__*/React.createElement(TableCell, null, importCount === null || importCount === void 0 ? void 0 : importCount.updated), /*#__PURE__*/React.createElement(TableCell, null, importCount === null || importCount === void 0 ? void 0 : importCount.total)))))), !!(validationReport !== null && validationReport !== void 0 && (_validationReport$err = validationReport.errorReports) !== null && _validationReport$err !== void 0 && _validationReport$err.length) && /*#__PURE__*/React.createElement(FormField, {\n    label: `${i18n.t('Reports')}`,\n    dataTest: \"tracker-summary-reports\",\n    name: \"tracker-reports\"\n  }, /*#__PURE__*/React.createElement(Table, null, /*#__PURE__*/React.createElement(TableHead, null, /*#__PURE__*/React.createElement(TableRowHead, null, /*#__PURE__*/React.createElement(TableCellHead, null, i18n.t('UID')), /*#__PURE__*/React.createElement(TableCellHead, null, i18n.t('Error Code')), /*#__PURE__*/React.createElement(TableCellHead, null, i18n.t('Message')), /*#__PURE__*/React.createElement(TableCellHead, null, i18n.t('Tracker Type')))), /*#__PURE__*/React.createElement(TableBody, null, validationReport.errorReports.map((c, i) => {\n    var _c$warningCode;\n    return /*#__PURE__*/React.createElement(TableRow, {\n      key: `job-summary-report-${c.object}-${i}`\n    }, /*#__PURE__*/React.createElement(TableCell, null, c.uid), /*#__PURE__*/React.createElement(TableCell, null, /*#__PURE__*/React.createElement(\"a\", {\n      target: \"_blank\",\n      rel: \"noreferrer\",\n      href: \"https://docs.dhis2.org/en/develop/using-the-api/dhis-core-version-master/tracker.html#webapi_nti_error_codes\"\n    }, (_c$warningCode = c.warningCode) !== null && _c$warningCode !== void 0 ? _c$warningCode : c.errorCode)), /*#__PURE__*/React.createElement(TableCell, null, c.message), /*#__PURE__*/React.createElement(TableCell, null, c.trackerType));\n  })))), conflicts && /*#__PURE__*/React.createElement(FormField, {\n    label: `${i18n.t('Conflicts')}`,\n    dataTest: \"job-summary-conflicts\",\n    name: \"conflicts\"\n  }, /*#__PURE__*/React.createElement(Table, null, /*#__PURE__*/React.createElement(TableHead, null, /*#__PURE__*/React.createElement(TableRowHead, null, /*#__PURE__*/React.createElement(TableCellHead, null, importType !== 'GEOJSON_IMPORT' ? i18n.t('Object') : i18n.t('Indexes')), /*#__PURE__*/React.createElement(TableCellHead, null, i18n.t('Value')))), /*#__PURE__*/React.createElement(TableBody, null, conflicts.map((c, i) => /*#__PURE__*/React.createElement(TableRow, {\n    key: `job-summary-conflicts-${c.object}-${i}`\n  }, /*#__PURE__*/React.createElement(TableCell, null, importType !== 'GEOJSON_IMPORT' ? c.object : (c.indexes || []).join(',')), /*#__PURE__*/React.createElement(TableCell, null, c.value)))))));\n};\nSingleSummary.propTypes = {\n  importCount: statsPropType.isRequired,\n  conflicts: PropTypes.arrayOf(PropTypes.shape({\n    value: PropTypes.string.isRequired,\n    indexes: PropTypes.arrayOf(PropTypes.number),\n    object: PropTypes.string\n  })),\n  description: PropTypes.string,\n  id: PropTypes.string,\n  importType: PropTypes.string,\n  status: PropTypes.string,\n  validationReport: PropTypes.shape({\n    errorReports: PropTypes.arrayOf(PropTypes.shape({\n      errorCode: PropTypes.string,\n      message: PropTypes.string,\n      trackerType: PropTypes.string,\n      uid: PropTypes.string\n    })),\n    warningReports: PropTypes.arrayOf(PropTypes.shape({\n      errorCode: PropTypes.string,\n      message: PropTypes.string,\n      trackerType: PropTypes.string,\n      uid: PropTypes.string\n    }))\n  })\n};\nexport { SingleSummary };","import i18n from '@dhis2/d2-i18n';\nimport { Table, TableBody, TableCell, TableHead, TableRow, TableRowHead, TableCellHead } from '@dhis2/ui';\nimport React from 'react';\nimport { FormField } from '../../index.js';\nimport { messagesPropType } from '../helper.js';\nconst Messages = _ref => {\n  let {\n    messages\n  } = _ref;\n  if (messages.length == 0) {\n    return null;\n  }\n  return /*#__PURE__*/React.createElement(FormField, {\n    label: `${i18n.t('Messages')}`,\n    dataTest: \"job-summary-messages\",\n    name: \"messages\"\n  }, /*#__PURE__*/React.createElement(Table, null, /*#__PURE__*/React.createElement(TableHead, null, /*#__PURE__*/React.createElement(TableRowHead, null, /*#__PURE__*/React.createElement(TableCellHead, null, i18n.t('UID')), /*#__PURE__*/React.createElement(TableCellHead, null, i18n.t('Type')), /*#__PURE__*/React.createElement(TableCellHead, null, i18n.t('Property')), /*#__PURE__*/React.createElement(TableCellHead, null, i18n.t('Message')))), /*#__PURE__*/React.createElement(TableBody, null, messages.map((m, i) => /*#__PURE__*/React.createElement(TableRow, {\n    key: `job-summary-messages-${i}`\n  }, /*#__PURE__*/React.createElement(TableCell, null, m.uid), /*#__PURE__*/React.createElement(TableCell, null, m.type), /*#__PURE__*/React.createElement(TableCell, null, m.property), /*#__PURE__*/React.createElement(TableCell, null, m.message))))));\n};\nMessages.propTypes = {\n  messages: messagesPropType.isRequired\n};\nexport { Messages, messagesPropType };","import i18n from '@dhis2/d2-i18n';\nimport { Table, TableBody, TableCell, TableHead, TableRow, TableRowHead, TableCellHead } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { FormField } from '../../index.js';\nimport { statsPropTypeObj } from '../helper.js';\nconst TypeCount = _ref => {\n  let {\n    stats\n  } = _ref;\n  if (stats.length == 0) {\n    return null;\n  }\n  return /*#__PURE__*/React.createElement(FormField, {\n    label: `${i18n.t('Details by type')}`,\n    dataTest: \"job-summary-type-count\",\n    name: \"typeCount\"\n  }, /*#__PURE__*/React.createElement(Table, null, /*#__PURE__*/React.createElement(TableHead, null, /*#__PURE__*/React.createElement(TableRowHead, null, /*#__PURE__*/React.createElement(TableCellHead, null, i18n.t('Type')), /*#__PURE__*/React.createElement(TableCellHead, null, i18n.t('Created')), /*#__PURE__*/React.createElement(TableCellHead, null, i18n.t('Deleted')), /*#__PURE__*/React.createElement(TableCellHead, null, i18n.t('Ignored')), /*#__PURE__*/React.createElement(TableCellHead, null, i18n.t('Updated')), /*#__PURE__*/React.createElement(TableCellHead, null, i18n.t('Total')))), /*#__PURE__*/React.createElement(TableBody, null, stats.map((s, i) => /*#__PURE__*/React.createElement(TableRow, {\n    key: `job-summary-type-count-${i}`\n  }, /*#__PURE__*/React.createElement(TableCell, null, s.type), /*#__PURE__*/React.createElement(TableCell, null, s.created), /*#__PURE__*/React.createElement(TableCell, null, s.deleted), /*#__PURE__*/React.createElement(TableCell, null, s.ignored), /*#__PURE__*/React.createElement(TableCell, null, s.updated), /*#__PURE__*/React.createElement(TableCell, null, s.total))))));\n};\nconst typeCountStatsPropTypeObj = {\n  ...statsPropTypeObj,\n  type: PropTypes.string.isRequired\n};\nTypeCount.propTypes = {\n  stats: PropTypes.arrayOf(PropTypes.shape(typeCountStatsPropTypeObj)).isRequired\n};\nexport { TypeCount, typeCountStatsPropTypeObj };","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { statsPropType, messagesPropType } from '../helper.js';\nimport { Messages } from '../Messages/Messages.js';\nimport { SingleSummary } from '../SingleSummary/SingleSummary.js';\nimport { TypeCount, typeCountStatsPropTypeObj } from '../TypeCount/TypeCount.js';\nconst TypeReportSummary = _ref => {\n  let {\n    overviewStats,\n    stats,\n    messages\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(SingleSummary, {\n    importCount: overviewStats\n  }), /*#__PURE__*/React.createElement(TypeCount, {\n    stats: stats\n  }), /*#__PURE__*/React.createElement(Messages, {\n    messages: messages\n  }));\n};\nTypeReportSummary.propTypes = {\n  messages: messagesPropType.isRequired,\n  overviewStats: statsPropType.isRequired,\n  stats: PropTypes.arrayOf(PropTypes.exact(typeCountStatsPropTypeObj)).isRequired\n};\nexport { TypeReportSummary };","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"Summary_container__tHRWI\",\"rest\":\"Summary_rest__vtp39\",\"typeReportSummary\":\"Summary_typeReportSummary__lIle3\"};","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { typeReportParse } from '../helper.js';\nimport { SingleSummary } from '../SingleSummary/SingleSummary.js';\nimport { TypeReportSummary } from '../TypeReportSummary/TypeReportSummary.js';\nimport styles from './Summary.module.css';\nconst extractStats = summary => {\n  if (summary.responseType == 'ImportSummaries') {\n    const {\n      imported,\n      deleted,\n      ignored,\n      updated,\n      total\n    } = summary;\n    return {\n      imported,\n      deleted,\n      ignored,\n      updated,\n      total\n    };\n  } else if (summary.importCount) {\n    const {\n      imported,\n      deleted,\n      ignored,\n      updated\n    } = summary.importCount;\n    const total = imported + deleted + ignored + updated;\n    return {\n      imported,\n      deleted,\n      ignored,\n      updated,\n      total\n    };\n  } else if (summary.stats) {\n    return summary.stats;\n  }\n};\nconst Summary = _ref => {\n  let {\n    summary,\n    importType\n  } = _ref;\n  // gml import type object return\n  if (summary.typeReports) {\n    const overviewStats = {\n      ...summary.stats,\n      imported: summary.stats.created\n    };\n    const {\n      stats,\n      messages\n    } = typeReportParse(summary.typeReports);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      \"data-test\": \"job-summary-summary\",\n      className: styles.typeReportSummary\n    }, /*#__PURE__*/React.createElement(TypeReportSummary, {\n      overviewStats: overviewStats,\n      stats: stats,\n      messages: messages\n    }));\n  }\n  const importCount = extractStats(summary);\n  const overviewSummary = /*#__PURE__*/React.createElement(SingleSummary, {\n    importType: importType,\n    importCount: importCount,\n    status: summary.status,\n    description: summary.description,\n    validationReport: summary.validationReport,\n    conflicts: summary.conflicts && (summary.conflicts.length || null) && summary.conflicts\n  });\n  const allSummaries = summary.responseType == 'ImportSummaries' && summary.importSummaries ? summary.importSummaries.map((s, i) => {\n    const importCount = extractStats(s);\n    return /*#__PURE__*/React.createElement(SingleSummary, {\n      key: `single-summary-${i}`,\n      importType: importType,\n      importCount: importCount,\n      status: s.status,\n      description: s.description,\n      conflicts: s.conflicts,\n      id: `${i + 1}`\n    });\n  }) : null;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": \"job-summary-summary\",\n    className: styles.container\n  }, overviewSummary, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.rest,\n    \"data-test\": \"job-summary-summary-rest\"\n  }, allSummaries));\n};\nSummary.propTypes = {\n  summary: PropTypes.object.isRequired,\n  importType: PropTypes.string\n};\nexport { Summary };","import i18n from '@dhis2/d2-i18n';\nimport { Divider, Tag } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { jsDateToString } from '../../utils/helper.js';\nimport { Details } from './Details/Details.js';\nimport styles from './JobSummary.module.css';\nimport { Log } from './Log/Log.js';\nimport { Summary } from './Summary/Summary.js';\nconst Header = _ref => {\n  var _jobDetails$files;\n  let {\n    jobDetails,\n    task,\n    showFileDetails\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.header\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: styles.title\n  }, `${i18n.t('Job summary')}`), showFileDetails && (jobDetails === null || jobDetails === void 0 ? void 0 : (_jobDetails$files = jobDetails.files) === null || _jobDetails$files === void 0 ? void 0 : _jobDetails$files.length) && /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.taskDetails\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    \"data-test\": \"job-summary-filename\"\n  }, jobDetails.files[0].name), ' ', \"-\", ' ', /*#__PURE__*/React.createElement(\"span\", {\n    \"data-test\": \"job-summary-date\"\n  }, jsDateToString(task.created), ' ')));\n};\nHeader.propTypes = {\n  jobDetails: PropTypes.object.isRequired,\n  task: PropTypes.object.isRequired,\n  showFileDetails: PropTypes.bool\n};\nconst Tags = _ref2 => {\n  let {\n    jobDetails,\n    task\n  } = _ref2;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.tags,\n    \"data-test\": \"job-summary-tags\"\n  }, task.completed ? /*#__PURE__*/React.createElement(Tag, {\n    positive: true\n  }, i18n.t('Completed')) : /*#__PURE__*/React.createElement(Tag, {\n    neutral: true\n  }, i18n.t('In progress')), task.error && /*#__PURE__*/React.createElement(Tag, {\n    negative: true,\n    bold: true\n  }, i18n.t('Error')), task.summary && task.summary.conflicts && (task.summary.conflicts.length || null) && /*#__PURE__*/React.createElement(Tag, {\n    negative: true\n  }, i18n.t('Conflicts')), jobDetails.dryRun && /*#__PURE__*/React.createElement(Tag, {\n    neutral: true,\n    bold: true\n  }, i18n.t('Dry run')));\n};\nTags.propTypes = {\n  jobDetails: PropTypes.object.isRequired,\n  task: PropTypes.object.isRequired\n};\nconst JobSummary = _ref3 => {\n  let {\n    task,\n    showFileDetails = true,\n    showJobDetails = false,\n    dataTest\n  } = _ref3;\n  if (!task) {\n    return null;\n  }\n  const {\n    jobDetails\n  } = task;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.container,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(Header, {\n    jobDetails: jobDetails,\n    task: task,\n    showFileDetails: showFileDetails\n  }), /*#__PURE__*/React.createElement(Tags, {\n    jobDetails: jobDetails,\n    task: task\n  }), /*#__PURE__*/React.createElement(Divider, null), task.completed && task.summary && /*#__PURE__*/React.createElement(Summary, {\n    summary: task.summary,\n    importType: task.importType\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.events\n  }, /*#__PURE__*/React.createElement(Log, {\n    events: task.events\n  })), showJobDetails && /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.jobDetails\n  }, /*#__PURE__*/React.createElement(Details, {\n    details: task.jobDetails\n  })));\n};\nJobSummary.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  showFileDetails: PropTypes.bool,\n  showJobDetails: PropTypes.bool,\n  task: PropTypes.object\n};\nexport { JobSummary };","import i18n from '@dhis2/d2-i18n';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { MoreOptions } from '../../index.js';\nimport { JobSummary } from '../JobSummary.js';\nconst MiniJobSummary = _ref => {\n  let {\n    task,\n    dataTest\n  } = _ref;\n  if (!task) {\n    return null;\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(MoreOptions, {\n    label: i18n.t('View summary of recently started import job'),\n    dataTest: `${dataTest}-MoreOptions`,\n    noBottomMargin: true\n  }, /*#__PURE__*/React.createElement(JobSummary, {\n    task: task,\n    dataTest: `${dataTest}-JobSummary`\n  })));\n};\nMiniJobSummary.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  task: PropTypes.object\n};\nexport { MiniJobSummary };","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"MoreOptions_container__CWfQn\",\"header\":\"MoreOptions_header__QONmT\",\"label\":\"MoreOptions_label__0GSpv\",\"children\":\"MoreOptions_children__MLC8H\",\"hidden\":\"MoreOptions_hidden__DJB9i\",\"chevronHidden\":\"MoreOptions_chevronHidden__4yICN\",\"chevronVisible\":\"MoreOptions_chevronVisible__g-zwu\"};","import i18n from '@dhis2/d2-i18n';\nimport { Divider, IconChevronRight24 } from '@dhis2/ui';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { useState } from 'react';\nimport styles from './MoreOptions.module.css';\n\n/**\n * If not initially visible, doesn't render children. After opening the first\n * time, however, children are instead hidden by CSS on toggle to preserve\n * state\n */\nconst MoreOptions = _ref => {\n  let {\n    children,\n    initiallyVisible,\n    noBottomMargin,\n    label = i18n.t('Advanced options'),\n    dataTest = 'interaction-more-options'\n  } = _ref;\n  const [hidden, setHidden] = useState(!initiallyVisible);\n  const [hasOpened, setHasOpened] = useState(initiallyVisible);\n  const onToggle = () => {\n    if (!hasOpened) {\n      setHasOpened(true);\n    }\n    setHidden(!hidden);\n  };\n  return /*#__PURE__*/React.createElement(\"section\", {\n    className: cx({\n      [styles.container]: !noBottomMargin\n    }),\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    className: styles.header,\n    onClick: onToggle,\n    \"data-test\": `${dataTest}-header`\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: cx({\n      [styles.chevronHidden]: hidden,\n      [styles.chevronVisible]: !hidden\n    })\n  }, /*#__PURE__*/React.createElement(IconChevronRight24, null)), /*#__PURE__*/React.createElement(\"h2\", {\n    className: styles.label\n  }, label)), !hidden && /*#__PURE__*/React.createElement(Divider, null), /*#__PURE__*/React.createElement(\"div\", {\n    className: cx(styles.children, {\n      [styles.hidden]: hidden\n    }),\n    \"data-test\": `${dataTest}-children`\n  }, hasOpened && children));\n};\nMoreOptions.defaultProps = {\n  initiallyVisible: false,\n  noBottomMargin: false\n};\nMoreOptions.propTypes = {\n  children: PropTypes.oneOfType([PropTypes.object, PropTypes.array]).isRequired,\n  dataTest: PropTypes.string,\n  initiallyVisible: PropTypes.bool,\n  label: PropTypes.string,\n  noBottomMargin: PropTypes.bool\n};\nexport { MoreOptions };","import { useConfig } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { SingleSelectFieldFF } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React, { useEffect, useState } from 'react';\nimport { fetchAttributes } from '../../utils/helper.js';\nimport { optionsPropType } from '../../utils/options.js';\nimport { StyledField } from '../index.js';\nconst OrgUnitIdScheme = _ref => {\n  let {\n    name,\n    label,\n    orgUnitIdSchemeOptions,\n    dataTest\n  } = _ref;\n  const {\n    baseUrl\n  } = useConfig();\n  const [loading, setLoading] = useState(true);\n  const [schemes, setSchemes] = useState([]);\n  const [error, setError] = useState(undefined);\n  useEffect(() => {\n    fetchAttributes(`${baseUrl}/api/`, 'organisationUnitAttribute').then(attributes => setSchemes(attributes)).catch(error => setError(error)).finally(() => setLoading(false));\n  }, []);\n  const validationText = error && `${i18n.t('Something went wrong when loading the additional organisation unit ID schemes')} : ${error.message}`;\n  const options = [...orgUnitIdSchemeOptions, ...schemes];\n  return /*#__PURE__*/React.createElement(StyledField, {\n    component: SingleSelectFieldFF,\n    name: name,\n    label: label,\n    options: options,\n    dataTest: dataTest,\n    loading: loading,\n    validationText: validationText,\n    error: !!error\n  });\n};\nOrgUnitIdScheme.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  label: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  orgUnitIdSchemeOptions: optionsPropType.isRequired\n};\nexport { OrgUnitIdScheme };","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"OrgUnitTreeField_wrapper__eX25k\"};","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport { useDataQuery } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { CircularLoader, Help, ReactFinalForm, OrganisationUnitTree } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport styles from './OrgUnitTreeField.module.css';\nconst {\n  Field\n} = ReactFinalForm;\nconst rootQuery = {\n  roots: {\n    resource: 'organisationUnits',\n    params: {\n      filter: 'level:eq:1',\n      fields: 'id',\n      paging: 'false'\n    }\n  }\n};\nconst SINGLE_ORG_VALIDATOR = selectedOrgUnits => selectedOrgUnits.length == 0 ? i18n.t('At least one organisation unit must be selected') : undefined;\nconst SINGLE_EXACT_ORG_VALIDATOR = selectedOrgUnits => selectedOrgUnits.length != 1 ? i18n.t('One organisation unit must be selected') : undefined;\nconst Wrapper = _ref => {\n  let {\n    input: {\n      value,\n      onChange\n    },\n    meta,\n    multiSelect,\n    ...rest\n  } = _ref;\n  const {\n    loading,\n    data,\n    error\n  } = useDataQuery(rootQuery);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, loading && /*#__PURE__*/React.createElement(CircularLoader, null), error && /*#__PURE__*/React.createElement(Help, {\n    error: true\n  }, i18n.t('Something went wrong when loading the organisation units!')), data && /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.wrapper\n  }, /*#__PURE__*/React.createElement(OrganisationUnitTree, _extends({\n    onChange: _ref2 => {\n      let {\n        selected\n      } = _ref2;\n      onChange(selected);\n    },\n    selected: value,\n    roots: data.roots.organisationUnits.map(ou => ou.id)\n  }, rest, {\n    singleSelection: !multiSelect\n  }))), (meta.touched || !meta.pristine) && meta.error && /*#__PURE__*/React.createElement(Help, {\n    error: true\n  }, meta.error));\n};\nWrapper.propTypes = {\n  input: PropTypes.shape({\n    value: PropTypes.arrayOf(PropTypes.string).isRequired,\n    onChange: PropTypes.func\n  }).isRequired,\n  meta: PropTypes.shape({\n    error: PropTypes.string,\n    pristine: PropTypes.bool,\n    touched: PropTypes.bool\n  }).isRequired,\n  multiSelect: PropTypes.bool\n};\nconst OrgUnitTreeField = _ref3 => {\n  let {\n    name,\n    validator,\n    ...rest\n  } = _ref3;\n  return /*#__PURE__*/React.createElement(Field, _extends({\n    component: Wrapper,\n    name: name,\n    validate: validator\n  }, rest));\n};\nOrgUnitTreeField.propTypes = {\n  name: PropTypes.string.isRequired,\n  validator: PropTypes.func\n};\nexport { OrgUnitTreeField, SINGLE_ORG_VALIDATOR, SINGLE_EXACT_ORG_VALIDATOR };","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"Page_container__uuxzX\",\"limitedWidth\":\"Page_limitedWidth__pUAt6\",\"content\":\"Page_content__gCqpz\",\"preBody\":\"Page_preBody__q77A8\",\"header\":\"Page_header__GACJQ\",\"title\":\"Page_title__nkXsQ\",\"desc\":\"Page_desc__eb-0r\",\"loading\":\"Page_loading__2h8Ym\",\"transparent\":\"Page_transparent__xvLml\"};","import { Card, CenteredContent, CircularLoader, ComponentCover, LinearLoader } from '@dhis2/ui';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { JobSummary, MiniJobSummary } from '../index.js';\nimport styles from './Page.module.css';\nconst Page = _ref => {\n  let {\n    title,\n    desc,\n    summaryTask,\n    showFullSummaryTask = false,\n    limitWidth = true,\n    children,\n    loading = false,\n    dataTest,\n    transparent = false\n  } = _ref;\n  const loadingEl = typeof loading == 'number' ? /*#__PURE__*/React.createElement(LinearLoader, {\n    amount: loading\n  }) : /*#__PURE__*/React.createElement(CircularLoader, null);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: cx(styles.container, {\n      [styles.limitedWidth]: limitWidth,\n      [styles.transparent]: transparent\n    }),\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    className: styles.header\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: styles.title\n  }, title), /*#__PURE__*/React.createElement(\"p\", {\n    className: styles.desc\n  }, desc)), summaryTask && /*#__PURE__*/React.createElement(Card, {\n    className: styles.preBody\n  }, showFullSummaryTask ? /*#__PURE__*/React.createElement(JobSummary, {\n    task: summaryTask,\n    dataTest: \"job-summary-container\"\n  }) : /*#__PURE__*/React.createElement(MiniJobSummary, {\n    task: summaryTask,\n    dataTest: \"mini-job-summary-container\"\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.content\n  }, !!loading && /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.loading\n  }, /*#__PURE__*/React.createElement(ComponentCover, {\n    translucent: true\n  }, /*#__PURE__*/React.createElement(CenteredContent, null, loadingEl))), children));\n};\nPage.propTypes = {\n  children: PropTypes.oneOfType([PropTypes.object, PropTypes.array]).isRequired,\n  dataTest: PropTypes.string.isRequired,\n  desc: PropTypes.string.isRequired,\n  title: PropTypes.string.isRequired,\n  limitWidth: PropTypes.bool,\n  loading: PropTypes.oneOfType([PropTypes.bool, PropTypes.number]),\n  showFullSummaryTask: PropTypes.bool,\n  summaryTask: PropTypes.object,\n  transparent: PropTypes.bool\n};\nexport { Page };","import { useDataEngine } from '@dhis2/app-runtime';\nimport { useState } from 'react';\nimport { allCategories } from '../utils/tasks.js';\nconst jobEventQuery = {\n  events: {\n    resource: 'system/tasks/',\n    id: _ref => {\n      let {\n        type,\n        taskId\n      } = _ref;\n      return `${type}/${taskId}`;\n    }\n  }\n};\nconst jobSummaryQuery = {\n  summary: {\n    resource: 'system/taskSummaries/',\n    id: _ref2 => {\n      let {\n        type,\n        taskId\n      } = _ref2;\n      return `${type}/${taskId}`;\n    }\n  }\n};\nconst trackerEventQuery = {\n  events: {\n    resource: 'tracker/jobs/',\n    id: _ref3 => {\n      let {\n        taskId\n      } = _ref3;\n      return `${taskId}`;\n    }\n  }\n};\nconst trackerSummaryQuery = {\n  summary: {\n    resource: 'tracker/jobs/',\n    id: _ref4 => {\n      let {\n        taskId\n      } = _ref4;\n      return `${taskId}/report`;\n    }\n  }\n};\nconst defaultTasks = {\n  data: {},\n  event: {},\n  gml: {},\n  earthengine: {},\n  geojson: {},\n  metadata: {},\n  tei: {}\n};\nconst defaultJobOverview = {\n  activeTypes: allCategories,\n  selectedJob: undefined\n};\nconst defaultRefetchPeriod = 2000;\nconst createFetchEvents = (engine, setTasks, fetchSummary) => (type, id, task) => {\n  const fetchEvents = async () => {\n    if (task.completed) {\n      return;\n    }\n    const newTask = {\n      ...task\n    };\n    const query = task.importType === 'TRACKER_IMPORT_JOB' ? trackerEventQuery : jobEventQuery;\n    const response = await engine.query(query, {\n      variables: {\n        type: task.importType,\n        taskId: task.id\n      }\n    });\n    const {\n      events,\n      error\n    } = response;\n    if (error) {\n      console.error('fetchEvents error: ', error);\n      return;\n    }\n    if (events && events.length) {\n      const newEvents = events.filter(e => !task.events.some(te => te.id == e.uid)).map(e => ({\n        id: e.uid,\n        level: e.level,\n        text: e.message,\n        date: new Date(e.time)\n      }));\n      const errorEvent = newEvents.find(e => e.level == 'ERROR');\n      if (errorEvent) {\n        newTask.error = errorEvent.text;\n      }\n      newTask.events = [...newTask.events, ...newEvents.reverse()];\n      newTask.completed = events[0].completed;\n    }\n    newTask.lastUpdated = new Date();\n    if (!newTask.completed) {\n      // Add timeout handling for stuck jobs\n      const timeSinceCreated = new Date() - new Date(newTask.created);\n      const maxWaitTime = 1 * 30 * 1000;\n      if (timeSinceCreated > maxWaitTime && newTask.events.length === 1 && newTask.events[0].id === 'init') {\n        // Job has been stuck at init for too long\n        console.warn(`Job ${id} has been stuck at init for ${Math.round(timeSinceCreated / 1000)} seconds`);\n        newTask.error = 'Job appears to be stuck.';\n        newTask.completed = true;\n        newTask.events.push({\n          id: 'timeout',\n          level: 'ERROR',\n          text: 'Job timeout: Import job stuck at initialization.',\n          date: new Date()\n        });\n      } else {\n        setTimeout(() => fetchEvents(type, id, newTask), defaultRefetchPeriod);\n      }\n    } else {\n      fetchSummary(type, id, newTask);\n    }\n    setTasks(tasks => ({\n      ...tasks,\n      [type]: {\n        ...tasks[type],\n        [id]: newTask\n      }\n    }));\n  };\n  fetchEvents();\n};\nconst createFetchSummary = (engine, setTasks) => async (type, id, task) => {\n  const newTask = {\n    ...task\n  };\n\n  // we could still keep one query here (the jobs query), but tracker provides a facade to these\n  // and even though this branches the logic unnecessarily, we should stick to\n  // trackers' endpoint for tracker imports and they could abstract some job-related details\n  // more details here: https://docs.dhis2.org/en/develop/using-the-api/dhis-core-version-master/tracker.html#webapi_nti_import_summary\n  const query = task.importType === 'TRACKER_IMPORT_JOB' ? trackerSummaryQuery : jobSummaryQuery;\n  const response = await engine.query(query, {\n    variables: {\n      type: task.importType,\n      taskId: task.id\n    }\n  });\n  const {\n    summary,\n    error\n  } = response;\n  if (error) {\n    console.error('fetchSummary error: ', error);\n    return;\n  }\n  if (summary && summary.status == 'ERROR' && !newTask.error) {\n    newTask.error = true;\n  }\n  newTask.summary = summary;\n  setTasks(tasks => ({\n    ...tasks,\n    [type]: {\n      ...tasks[type],\n      [id]: newTask\n    }\n  }));\n};\nconst createAddTask = (setTasks, fetchEvents) => (type, id, entry) => {\n  setTasks(tasks => ({\n    ...tasks,\n    [type]: {\n      ...tasks[type],\n      [id]: entry\n    }\n  }));\n  fetchEvents(type, id, entry);\n};\nconst createUpdateJobOverview = setJobOverview => val => {\n  setJobOverview(jobOverview => ({\n    ...jobOverview,\n    ...val\n  }));\n};\nconst useTasks = () => {\n  const engine = useDataEngine();\n  const [tasks, setTasks] = useState(defaultTasks);\n  const [jobOverview, setJobOverview] = useState(defaultJobOverview);\n  const fetchSummary = createFetchSummary(engine, setTasks);\n  const fetchEvents = createFetchEvents(engine, setTasks, fetchSummary);\n  const addTask = createAddTask(setTasks, fetchEvents);\n  const updateJobOverview = createUpdateJobOverview(setJobOverview);\n  return {\n    tasks,\n    addTask,\n    jobOverview,\n    updateJobOverview\n  };\n};\nexport { useTasks };","import { useDataQuery } from '@dhis2/app-runtime';\nconst userQuery = {\n  user: {\n    resource: 'me'\n  }\n};\nconst useUser = () => {\n  const {\n    loading,\n    error,\n    data\n  } = useDataQuery(userQuery);\n  if (error) {\n    console.log('useUser error: ', error);\n  }\n  return {\n    loading,\n    error,\n    user: data && data.user\n  };\n};\nexport { useUser };","import { useDataEngine } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { useState, useEffect } from 'react';\nconst programStageQuery = {\n  data: {\n    resource: 'programs',\n    fields: 'id,displayName',\n    id: _ref => {\n      let {\n        id\n      } = _ref;\n      return `${id}`;\n    },\n    params: {\n      fields: 'programStages[id,displayName]',\n      paging: 'false'\n    }\n  }\n};\nconst ALL_VALUE = 'ALL';\nconst ALL_LABEL = i18n.t('All program stages');\nconst useProgramStages = (program, setSelected) => {\n  const engine = useDataEngine();\n  const [error, setError] = useState(undefined);\n  const [loading, setLoading] = useState(true);\n  const [stages, setStages] = useState([]);\n  useEffect(() => {\n    if (program) {\n      setLoading(true);\n      setSelected(undefined);\n    } else {\n      setLoading(false);\n    }\n    if (program) {\n      engine.query(programStageQuery, {\n        variables: {\n          id: program\n        },\n        onComplete: data => {\n          const list = data.data.programStages;\n          const formattedList = list.map(e => ({\n            value: e.id,\n            label: e.displayName\n          }));\n          setStages([{\n            value: ALL_VALUE,\n            label: ALL_LABEL\n          }, ...formattedList]);\n          setSelected(ALL_VALUE);\n          setLoading(false);\n        },\n        onError: error => {\n          setError(error);\n          console.error('useProgramStages error: ', error);\n        }\n      });\n    }\n  }, [program]);\n  const validationText = error && `${i18n.t('Something went wrong when loading the program stages')} : ${error.message}`;\n  return {\n    loading,\n    error,\n    validationText,\n    programStages: stages\n  };\n};\nexport { useProgramStages, ALL_VALUE };","import { useDataQuery } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { useState } from 'react';\nconst classKeyQuery = {\n  keys: {\n    resource: 'metadata/csvImportClasses'\n  }\n};\nconst useClassKeys = (setValue, prevValue) => {\n  const [classKeys, setClassKeys] = useState([]);\n  const {\n    loading,\n    error\n  } = useDataQuery(classKeyQuery, {\n    onComplete: classData => {\n      setClassKeys(classData.keys.map(k => ({\n        value: k,\n        label: k\n      })));\n      if (prevValue) {\n        setValue(prevValue);\n      } else {\n        setValue(classData.keys[0]);\n      }\n    },\n    onError: error => {\n      console.error('useClassKeys error: ', error);\n    }\n  });\n  const validationText = error && `${i18n.t('Something went wrong when loading the class keys')} : ${error.message}`;\n  return {\n    loading,\n    error,\n    validationText,\n    classKeys\n  };\n};\nexport { useClassKeys };","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"ProgramStages_container__y4ozC\"};","import i18n from '@dhis2/d2-i18n';\nimport { SingleSelectFieldFF } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { useProgramStages } from '../../hooks/index.js';\nimport { StyledField } from '../index.js';\nimport styles from './ProgramStages.module.css';\nconst SINGLE_EXACT_PROGRAMSTAGE_VALIDATOR = programStage => !programStage ? i18n.t('One program stage must be selected') : undefined;\nconst ProgramStages = _ref => {\n  let {\n    name,\n    label,\n    selectedProgram,\n    form,\n    validator,\n    dataTest\n  } = _ref;\n  const setProgramStage = val => form.change(name, val);\n  const {\n    loading: programStagesLoading,\n    error: programStagesError,\n    validationText: programStagesValidationText,\n    programStages\n  } = useProgramStages(selectedProgram, setProgramStage);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.container\n  }, /*#__PURE__*/React.createElement(StyledField, {\n    component: SingleSelectFieldFF,\n    name: name,\n    loading: programStagesLoading,\n    label: label,\n    validate: validator,\n    dataTest: dataTest,\n    options: programStages,\n    validationText: programStagesValidationText,\n    error: !!programStagesError\n  }));\n};\nProgramStages.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  form: PropTypes.object.isRequired,\n  label: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  selectedProgram: PropTypes.string.isRequired,\n  validator: PropTypes.func\n};\nexport { ProgramStages, SINGLE_EXACT_PROGRAMSTAGE_VALIDATOR };","// extracted by mini-css-extract-plugin\nexport default {\"horizontal\":\"RadioGroup_horizontal__Qf7+S\",\"vertical\":\"RadioGroup_vertical__fZnq5\",\"children\":\"RadioGroup_children__4ju7+\",\"prefix\":\"RadioGroup_prefix__pVAEI\",\"prefixCritical\":\"RadioGroup_prefixCritical__MQbZi\"};","import { Help, Radio } from '@dhis2/ui';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { FormField } from '../index.js';\nimport styles from './RadioGroup.module.css';\nconst Label = _ref => {\n  let {\n    label,\n    prefix,\n    type\n  } = _ref;\n  if (!prefix) {\n    return label;\n  }\n  return /*#__PURE__*/React.createElement(\"span\", null, /*#__PURE__*/React.createElement(\"span\", {\n    className: cx(styles.prefix, {\n      [styles.prefixCritical]: type === 'critical'\n    })\n  }, prefix), label);\n};\nLabel.propTypes = {\n  label: PropTypes.string.isRequired,\n  prefix: PropTypes.string,\n  type: PropTypes.oneOf(['critical'])\n};\nconst RadioGroup = _ref2 => {\n  let {\n    name,\n    label,\n    options,\n    checked,\n    setValue,\n    vertical,\n    helpText,\n    children,\n    dataTest\n  } = _ref2;\n  return /*#__PURE__*/React.createElement(FormField, {\n    label: label,\n    dataTest: dataTest,\n    name: name\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: cx({\n      [styles.vertical]: vertical,\n      [styles.horizontal]: !vertical\n    })\n  }, options.map(o => /*#__PURE__*/React.createElement(\"div\", {\n    key: o.value\n  }, /*#__PURE__*/React.createElement(Radio, {\n    name: name,\n    value: o.value,\n    label: /*#__PURE__*/React.createElement(Label, {\n      label: o.label,\n      prefix: o.prefix,\n      type: o.type\n    }),\n    checked: o.value == checked,\n    onChange: () => setValue(o.value),\n    dataTest: `${dataTest}-${o.value}`\n  }), o.help && /*#__PURE__*/React.createElement(Help, null, o.help)))), helpText && /*#__PURE__*/React.createElement(Help, null, helpText), children && /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.children\n  }, children));\n};\nRadioGroup.propTypes = {\n  checked: PropTypes.string.isRequired,\n  dataTest: PropTypes.string.isRequired,\n  label: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  options: PropTypes.arrayOf(PropTypes.shape({\n    label: PropTypes.string.isRequired,\n    value: PropTypes.string.isRequired,\n    prefix: PropTypes.string,\n    type: PropTypes.oneOf(['critical'])\n  })).isRequired,\n  setValue: PropTypes.func.isRequired,\n  children: PropTypes.node,\n  helpText: PropTypes.string,\n  vertical: PropTypes.bool\n};\nexport { RadioGroup };","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport { ReactFinalForm } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { RadioGroup } from '../index.js';\nconst {\n  Field\n} = ReactFinalForm;\nconst Wrapper = _ref => {\n  let {\n    input: {\n      value,\n      onChange\n    },\n    meta: {\n      error\n    },\n    inputName,\n    ...rest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(RadioGroup, _extends({\n    name: inputName,\n    error: error,\n    checked: value,\n    setValue: onChange\n  }, rest));\n};\nWrapper.propTypes = {\n  input: PropTypes.shape({\n    value: PropTypes.string.isRequired,\n    onChange: PropTypes.func\n  }).isRequired,\n  inputName: PropTypes.string.isRequired,\n  meta: PropTypes.shape({\n    error: PropTypes.string,\n    pristine: PropTypes.bool,\n    touched: PropTypes.bool\n  }).isRequired\n};\nconst RadioGroupField = _ref2 => {\n  let {\n    name,\n    ...rest\n  } = _ref2;\n  return /*#__PURE__*/React.createElement(Field, _extends({\n    component: Wrapper,\n    name: name,\n    inputName: name\n  }, rest));\n};\nRadioGroupField.propTypes = {\n  name: PropTypes.string.isRequired\n};\nexport { RadioGroupField };","import i18n from '@dhis2/d2-i18n';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { SINGLE_FILE_VALIDATOR } from '../FileUpload/FileUpload.js';\nimport { FileUpload as FileUploadGeneric } from '../index.js';\nconst NAME = 'files';\nconst LABEL = i18n.t('Select a file to import values from');\nconst DATATEST = 'input-file-upload';\nconst VALIDATOR = SINGLE_FILE_VALIDATOR;\nconst FileUpload = _ref => {\n  let {\n    helpText\n  } = _ref;\n  return /*#__PURE__*/React.createElement(FileUploadGeneric, {\n    name: NAME,\n    label: LABEL,\n    validator: VALIDATOR,\n    dataTest: DATATEST,\n    helpText: helpText\n  });\n};\nFileUpload.propTypes = {\n  helpText: PropTypes.string\n};\nexport { FileUpload };","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { ImportButtonStrip as ImportButtonStripGeneric } from '../index.js';\nconst DRYRUNDATATEST = 'input-dry-run';\nconst IMPORTDATATEST = 'input-import-submit';\nconst DATATEST = 'input-import-button-strip';\nconst ImportButtonStrip = _ref => {\n  let {\n    form\n  } = _ref;\n  return /*#__PURE__*/React.createElement(ImportButtonStripGeneric, {\n    form: form,\n    dryRunDataTest: DRYRUNDATATEST,\n    importDataTest: IMPORTDATATEST,\n    dataTest: DATATEST\n  });\n};\nImportButtonStrip.propTypes = {\n  form: PropTypes.object.isRequired\n};\nexport { ImportButtonStrip };","import React from 'react';\nimport { FormAlerts as FormAlertsGeneric } from '../index.js';\nconst DATATEST = 'input-form-alerts';\nconst FormAlerts = _ref => {\n  let {\n    alerts\n  } = _ref;\n  return /*#__PURE__*/React.createElement(FormAlertsGeneric, {\n    alerts: alerts,\n    dataTest: DATATEST\n  });\n};\nFormAlerts.propTypes = {\n  alerts: FormAlertsGeneric.propTypes.alerts\n};\nexport { FormAlerts };","import i18n from '@dhis2/d2-i18n';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { optionsPropType } from '../../utils/options.js';\nimport { RadioGroupField } from '../index.js';\nconst formatOptions = [{\n  value: 'json',\n  label: i18n.t('JSON')\n}, {\n  value: 'csv',\n  label: i18n.t('CSV')\n}, {\n  value: 'xml',\n  label: i18n.t('DXF2 (XML)')\n}];\nconst formatNoCsvOptions = formatOptions.filter(f => f.value != 'csv');\nconst formatNoXmlOptions = formatOptions.filter(f => f.value != 'xml');\nconst formatNoXmlNoCsvOptions = formatOptions.filter(f => !['xml', 'csv'].includes(f.value));\nconst formatAdxOptions = [...formatOptions, {\n  value: 'adx',\n  label: i18n.t('ADX (XML)')\n}];\nconst formatAdxXMLOptions = [...formatOptions, {\n  value: 'adx+xml',\n  label: i18n.t('ADX (XML)')\n}];\nconst formatAdxPdfOptions = [...formatAdxOptions, {\n  value: 'pdf',\n  label: i18n.t('PDF')\n}];\nconst formatJsonpOptions = [...formatOptions, {\n  value: 'jsonp',\n  label: i18n.t('JSONP')\n}];\nconst defaultFormatOption = formatOptions[0].value;\nconst NAME = 'format';\nconst DATATEST = 'input-format';\nconst IMPORT_LABEL = i18n.t('What format is the data to import?');\nconst EXPORT_LABEL = i18n.t('What format should the data be exported as?');\nconst typeToLabel = type => type === 'import' ? IMPORT_LABEL : EXPORT_LABEL;\nconst Format = _ref => {\n  let {\n    availableFormats,\n    type\n  } = _ref;\n  return /*#__PURE__*/React.createElement(RadioGroupField, {\n    name: NAME,\n    label: typeToLabel(type),\n    options: availableFormats,\n    dataTest: DATATEST\n  });\n};\nFormat.propTypes = {\n  availableFormats: optionsPropType.isRequired,\n  type: PropTypes.oneOf(['import', 'export'])\n};\nexport { Format, formatOptions, formatNoCsvOptions, formatNoXmlOptions, formatNoXmlNoCsvOptions, formatAdxOptions, formatAdxXMLOptions, formatAdxPdfOptions, formatJsonpOptions, defaultFormatOption };","import i18n from '@dhis2/d2-i18n';\nimport { ReactFinalForm, CheckboxFieldFF } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { FormField } from '../index.js';\nconst {\n  Field\n} = ReactFinalForm;\nconst defaultFirstRowIsHeaderOption = false;\nconst NAME = 'firstRowIsHeader';\nconst DATATEST = 'input-first-row-is-header';\nconst SHORT_LABEL = i18n.t('Is the first row a header row?');\nconst LABEL = i18n.t('First row is header');\nconst HELPTEXT = i18n.t('A header row will be ignored during import');\nconst FirstRowIsHeader = _ref => {\n  let {\n    show\n  } = _ref;\n  return show && /*#__PURE__*/React.createElement(FormField, {\n    label: SHORT_LABEL,\n    dataTest: DATATEST\n  }, /*#__PURE__*/React.createElement(Field, {\n    type: \"checkbox\",\n    component: CheckboxFieldFF,\n    name: NAME,\n    label: LABEL,\n    helpText: HELPTEXT,\n    dataTest: `${DATATEST}-sf`\n  }));\n};\nFirstRowIsHeader.propTypes = {\n  show: PropTypes.bool.isRequired\n};\nexport { FirstRowIsHeader, defaultFirstRowIsHeaderOption };","import i18n from '@dhis2/d2-i18n';\nimport { SingleSelectFieldFF } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { useClassKeys } from '../../hooks/index.js';\nimport { StyledField } from '../index.js';\nconst NAME = 'classKey';\nconst LABEL = i18n.t('Class key');\nconst DATATEST = 'input-class-key';\nconst ClassKey = _ref => {\n  let {\n    form,\n    prevValue,\n    show = true\n  } = _ref;\n  const setClassKey = val => form.change(NAME, val);\n  const {\n    loading: classKeysLoading,\n    error: classKeysError,\n    validationText: classKeysValidationText,\n    classKeys\n  } = useClassKeys(setClassKey, prevValue);\n  return show && /*#__PURE__*/React.createElement(StyledField, {\n    component: SingleSelectFieldFF,\n    name: NAME,\n    label: LABEL,\n    options: classKeys,\n    loading: classKeysLoading,\n    dataTest: DATATEST,\n    validationText: classKeysValidationText,\n    error: !!classKeysError,\n    filterable: true\n  });\n};\nClassKey.propTypes = {\n  form: PropTypes.object.isRequired,\n  prevValue: PropTypes.string,\n  show: PropTypes.bool\n};\nexport { ClassKey };","import i18n from '@dhis2/d2-i18n';\nimport { NoticeBox } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { RadioGroupField } from '../index.js';\nconst strategyOptions = [{\n  value: 'NEW_AND_UPDATES',\n  label: i18n.t('Import new values and update existing'),\n  prefix: i18n.t('Merge')\n}, {\n  value: 'NEW',\n  label: i18n.t('Import new values only'),\n  prefix: i18n.t('Append')\n}, {\n  value: 'UPDATES',\n  label: i18n.t('Only update existing values, ignore new values'),\n  prefix: i18n.t('Update')\n}, {\n  value: 'DELETE',\n  label: i18n.t('Remove values included in uploaded file'),\n  prefix: i18n.t('Delete'),\n  type: 'critical'\n}];\nconst defaultStrategyOption = strategyOptions[0].value;\nconst DELETE_WARNING_TITLE = i18n.t('Data will be deleted');\nconst DELETE_WARNING = i18n.t('Values in the uploaded file will be deleted from the database. Make sure this is the correct action; it cannot be undone.');\nconst NAME = 'strategy';\nconst DATATEST = 'input-strategy';\nconst LABEL = i18n.t('Strategy');\nconst Strategy = _ref => {\n  let {\n    value\n  } = _ref;\n  return /*#__PURE__*/React.createElement(RadioGroupField, {\n    name: NAME,\n    label: LABEL,\n    options: strategyOptions,\n    dataTest: DATATEST,\n    vertical: true\n  }, value === 'DELETE' && /*#__PURE__*/React.createElement(NoticeBox, {\n    title: DELETE_WARNING_TITLE,\n    warning: true\n  }, DELETE_WARNING));\n};\nStrategy.propTypes = {\n  value: PropTypes.string.isRequired\n};\nexport { Strategy, defaultStrategyOption };","import i18n from '@dhis2/d2-i18n';\nimport { ReactFinalForm, CheckboxFieldFF } from '@dhis2/ui';\nimport React from 'react';\nimport { FormField } from '../index.js';\nconst {\n  Field\n} = ReactFinalForm;\nconst defaultPreheatCacheOption = false;\nconst NAME = 'preheatCache';\nconst DATATEST = 'input-preheat-cache';\nconst SHORT_LABEL = i18n.t('Preheat cache');\nconst LABEL = i18n.t('Preheat cache to make large imports faster');\nconst HELPTEXT = i18n.t('Large imports will be processed faster but will consume more resources');\nconst PreheatCache = () => /*#__PURE__*/React.createElement(FormField, {\n  label: SHORT_LABEL,\n  dataTest: DATATEST\n}, /*#__PURE__*/React.createElement(Field, {\n  type: \"checkbox\",\n  component: CheckboxFieldFF,\n  name: NAME,\n  label: LABEL,\n  helpText: HELPTEXT,\n  dataTest: `${DATATEST}-sf`\n}));\nexport { PreheatCache, defaultPreheatCacheOption };","import i18n from '@dhis2/d2-i18n';\nimport { ReactFinalForm, CheckboxFieldFF } from '@dhis2/ui';\nimport React from 'react';\nimport { FormField } from '../index.js';\nconst {\n  Field\n} = ReactFinalForm;\nconst defaultSkipAuditOption = false;\nconst NAME = 'skipAudit';\nconst DATATEST = 'input-has-authority-to-skip-audit';\nconst SHORT_LABEL = i18n.t('Skip audit');\nconst LABEL = i18n.t('Skip audit, meaning audit values will not be generated');\nconst HELPTEXT = i18n.t('Improves performance at the cost of ability to audit changes');\nconst SkipAudit = () => /*#__PURE__*/React.createElement(FormField, {\n  label: SHORT_LABEL,\n  dataTest: DATATEST\n}, /*#__PURE__*/React.createElement(Field, {\n  type: \"checkbox\",\n  component: CheckboxFieldFF,\n  name: NAME,\n  label: LABEL,\n  helpText: HELPTEXT,\n  dataTest: `${DATATEST}-sf`\n}));\nexport { SkipAudit, defaultSkipAuditOption };","import i18n from '@dhis2/d2-i18n';\nimport { ReactFinalForm, CheckboxFieldFF } from '@dhis2/ui';\nimport React from 'react';\nimport { FormField } from '../index.js';\nconst {\n  Field\n} = ReactFinalForm;\nconst defaultSkipExistingCheckOption = false;\nconst NAME = 'skipExistingCheck';\nconst DATATEST = 'input-skip-exisiting-check';\nconst SHORT_LABEL = i18n.t('Skip exisiting check');\nconst LABEL = i18n.t('Skip checks for existing data values');\nconst HELPTEXT = i18n.t('Improves performance and should only be used for empty databases or when the data values to import do not exist already');\nconst SkipExistingCheck = () => /*#__PURE__*/React.createElement(FormField, {\n  label: SHORT_LABEL,\n  dataTest: DATATEST\n}, /*#__PURE__*/React.createElement(Field, {\n  type: \"checkbox\",\n  component: CheckboxFieldFF,\n  name: NAME,\n  label: LABEL,\n  helpText: HELPTEXT,\n  dataTest: `${DATATEST}-sf`\n}));\nexport { SkipExistingCheck, defaultSkipExistingCheckOption };","import i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport { RadioGroupField } from '../index.js';\nconst identifierOptions = [{\n  value: 'UID',\n  label: i18n.t('UID')\n}, {\n  value: 'CODE',\n  label: i18n.t('Code')\n}];\nconst defaultIdentifierOption = identifierOptions[0].value;\nconst NAME = 'identifier';\nconst DATATEST = 'input-identifier';\nconst LABEL = i18n.t('Identifier');\nconst HELPTEXT = i18n.t('Identifier scheme to use for reference matching');\nconst Identifier = () => /*#__PURE__*/React.createElement(RadioGroupField, {\n  name: NAME,\n  label: LABEL,\n  options: identifierOptions,\n  helpText: HELPTEXT,\n  dataTest: DATATEST\n});\nexport { Identifier, defaultIdentifierOption };","import i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport { RadioGroupField } from '../index.js';\nconst importReportModeOptions = [{\n  value: 'ERRORS',\n  label: i18n.t('Only include reports for objects that have errors'),\n  prefix: i18n.t('Errors')\n}, {\n  value: 'FULL',\n  label: i18n.t('Reports for all objects imported'),\n  prefix: i18n.t('Full')\n}, {\n  value: 'DEBUG',\n  label: i18n.t('Reports for all objects imported along with their names (if available)'),\n  prefix: i18n.t('Debug')\n}];\nconst defaultImportReportModeOption = importReportModeOptions[0].value;\nconst NAME = 'importReportMode';\nconst DATATEST = 'input-import-report-mode';\nconst LABEL = i18n.t('Import report mode');\nconst HELPTEXT = i18n.t('Controls what should be reported after the import is done');\nconst ImportReportMode = () => /*#__PURE__*/React.createElement(RadioGroupField, {\n  name: NAME,\n  label: LABEL,\n  options: importReportModeOptions,\n  helpText: HELPTEXT,\n  dataTest: DATATEST,\n  vertical: true\n});\nexport { ImportReportMode, defaultImportReportModeOption };","import i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport { RadioGroupField } from '../index.js';\nconst preheatModeOptions = [{\n  value: 'REFERENCE',\n  label: i18n.t('Intelligent scan (reference)')\n}, {\n  value: 'ALL',\n  label: i18n.t('All')\n}, {\n  value: 'NONE',\n  label: i18n.t('None')\n}];\nconst defaultPreheatModeOption = preheatModeOptions[0].value;\nconst NAME = 'preheatMode';\nconst DATATEST = 'input-preheat-mode';\nconst LABEL = i18n.t('Preheat mode');\nconst HELPTEXT = i18n.t('Controls the level of preheating that should be done');\nconst PreheatMode = () => /*#__PURE__*/React.createElement(RadioGroupField, {\n  name: NAME,\n  label: LABEL,\n  options: preheatModeOptions,\n  helpText: HELPTEXT,\n  dataTest: DATATEST\n});\nexport { PreheatMode, defaultPreheatModeOption };","import i18n from '@dhis2/d2-i18n';\nimport { NoticeBox } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { RadioGroupField } from '../index.js';\nconst importStrategyOptions = [{\n  value: 'CREATE_AND_UPDATE',\n  label: i18n.t('Import new values and update existing'),\n  prefix: i18n.t('Merge')\n}, {\n  value: 'CREATE',\n  label: i18n.t('Import new values only'),\n  prefix: i18n.t('Append')\n}, {\n  value: 'UPDATE',\n  label: i18n.t('Only update existing values, ignore new values'),\n  prefix: i18n.t('Update')\n}, {\n  value: 'DELETE',\n  label: i18n.t('Remove values included in uploaded file'),\n  prefix: i18n.t('Delete'),\n  type: 'critical'\n}];\nconst defaultImportStrategyOption = importStrategyOptions[0].value;\nconst DELETE_WARNING_TITLE = i18n.t('Data will be deleted');\nconst DELETE_WARNING = i18n.t('Values in the uploaded file will be deleted from the database. Make sure this is the correct action; it cannot be undone.');\nconst NAME = 'importStrategy';\nconst DATATEST = 'input-import-strategy';\nconst LABEL = i18n.t('Import strategy');\nconst ImportStrategy = _ref => {\n  let {\n    value\n  } = _ref;\n  return /*#__PURE__*/React.createElement(RadioGroupField, {\n    name: NAME,\n    label: LABEL,\n    options: importStrategyOptions,\n    dataTest: DATATEST,\n    vertical: true\n  }, value === 'DELETE' && /*#__PURE__*/React.createElement(NoticeBox, {\n    title: DELETE_WARNING_TITLE,\n    warning: true\n  }, DELETE_WARNING));\n};\nImportStrategy.propTypes = {\n  value: PropTypes.string.isRequired\n};\nexport { ImportStrategy, defaultImportStrategyOption };","import i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport { RadioGroupField } from '../index.js';\nconst atomicModeOptions = [{\n  value: 'ALL',\n  label: i18n.t('Do not import')\n}, {\n  value: 'OBJECT',\n  label: i18n.t('Import')\n}];\nconst defaultAtomicModeOption = atomicModeOptions[0].value;\nconst NAME = 'atomicMode';\nconst DATATEST = 'input-atomic-mode';\nconst LABEL = i18n.t('Atomic mode');\nconst HELPTEXT = i18n.t('Whether to import objects even if some references do not exist');\nconst AtomicMode = () => /*#__PURE__*/React.createElement(RadioGroupField, {\n  name: NAME,\n  label: LABEL,\n  options: atomicModeOptions,\n  helpText: HELPTEXT,\n  dataTest: DATATEST\n});\nexport { AtomicMode, defaultAtomicModeOption };","import i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport { RadioGroupField } from '../index.js';\nconst mergeModeOptions = [{\n  value: 'MERGE',\n  label: i18n.t('Only overwrite the old property if the new property value is not-null'),\n  prefix: i18n.t('Merge')\n}, {\n  value: 'REPLACE',\n  label: i18n.t('Overwrite regardless of whether the new property value is null'),\n  prefix: i18n.t('Replace')\n}];\nconst defaultMergeModeOption = mergeModeOptions[0].value;\nconst NAME = 'mergeMode';\nconst DATATEST = 'input-merge-mode';\nconst LABEL = i18n.t('Merge mode');\nconst HELPTEXT = i18n.t('Strategy to take when merging two objects');\nconst MergeMode = () => /*#__PURE__*/React.createElement(RadioGroupField, {\n  name: NAME,\n  label: LABEL,\n  options: mergeModeOptions,\n  helpText: HELPTEXT,\n  dataTest: DATATEST,\n  vertical: true\n});\nexport { MergeMode, defaultMergeModeOption };","import i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport { RadioGroupField } from '../index.js';\nconst flushModeOptions = [{\n  value: 'AUTO',\n  label: i18n.t('Auto (recommended)')\n}, {\n  value: 'OBJECT',\n  label: i18n.t('Object (debugging purposes)')\n}];\nconst defaultFlushModeOption = flushModeOptions[0].value;\nconst NAME = 'flushMode';\nconst DATATEST = 'input-flush-mode';\nconst LABEL = i18n.t('Flush mode');\nconst HELPTEXT = i18n.t('Controls when to flush the internal cache');\nconst FlushMode = () => /*#__PURE__*/React.createElement(RadioGroupField, {\n  name: NAME,\n  label: LABEL,\n  options: flushModeOptions,\n  helpText: HELPTEXT,\n  dataTest: DATATEST\n});\nexport { FlushMode, defaultFlushModeOption };","import i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport { RadioGroupField } from '../index.js';\nconst inclusionStrategyOptions = [{\n  value: 'NON_NULL',\n  label: i18n.t('Includes properties which are not null'),\n  prefix: i18n.t('Non null')\n}, {\n  value: 'ALWAYS',\n  label: i18n.t('Include all properties'),\n  prefix: i18n.t('Always')\n}, {\n  value: 'NON_EMPTY',\n  label: i18n.t('Include non-empty properties'),\n  prefix: i18n.t('Non empty')\n}];\nconst defaultInclusionStrategyOption = inclusionStrategyOptions[0].value;\nconst NAME = 'inclusionStrategy';\nconst DATATEST = 'input-inclusion-strategy';\nconst LABEL = i18n.t('Inclusion strategy');\nconst HELPTEXT = i18n.t('Controls which properties to include');\nconst InclusionStrategy = () => /*#__PURE__*/React.createElement(RadioGroupField, {\n  name: NAME,\n  label: LABEL,\n  options: inclusionStrategyOptions,\n  helpText: HELPTEXT,\n  dataTest: DATATEST,\n  vertical: true\n});\nexport { InclusionStrategy, defaultInclusionStrategyOption };","import i18n from '@dhis2/d2-i18n';\nimport { ReactFinalForm, CheckboxFieldFF } from '@dhis2/ui';\nimport React from 'react';\nimport { FormField } from '../index.js';\nconst {\n  Field\n} = ReactFinalForm;\nconst defaultSkipSharingOption = false;\nconst NAME = 'skipSharing';\nconst DATATEST = 'input-skip-sharing';\nconst SHORT_LABEL = i18n.t('Skip sharing');\nconst LABEL = i18n.t('Skip sharing and access settings');\nconst HELPTEXT = i18n.t('Skip sharing properties, do not merge sharing when doing updates, and do not add user group access when creating new objects');\nconst SkipSharing = () => /*#__PURE__*/React.createElement(FormField, {\n  label: SHORT_LABEL,\n  dataTest: DATATEST\n}, /*#__PURE__*/React.createElement(Field, {\n  type: \"checkbox\",\n  component: CheckboxFieldFF,\n  name: NAME,\n  label: LABEL,\n  helpText: HELPTEXT,\n  dataTest: `${DATATEST}-sf`\n}));\nexport { SkipSharing, defaultSkipSharingOption };","import i18n from '@dhis2/d2-i18n';\nimport { ReactFinalForm, CheckboxFieldFF } from '@dhis2/ui';\nimport React from 'react';\nimport { FormField } from '../index.js';\nconst {\n  Field\n} = ReactFinalForm;\nconst defaultSkipValidationOption = false;\nconst NAME = 'skipValidation';\nconst DATATEST = 'input-skip-validation';\nconst SHORT_LABEL = i18n.t('Skip validation');\nconst LABEL = i18n.t('Skip validation for import (not recommended)');\nconst SkipValidation = () => /*#__PURE__*/React.createElement(FormField, {\n  label: SHORT_LABEL,\n  dataTest: DATATEST\n}, /*#__PURE__*/React.createElement(Field, {\n  type: \"checkbox\",\n  component: CheckboxFieldFF,\n  name: NAME,\n  label: LABEL,\n  dataTest: `${DATATEST}-sf`\n}));\nexport { SkipValidation, defaultSkipValidationOption };","import i18n from '@dhis2/d2-i18n';\nimport { ReactFinalForm, CheckboxFieldFF } from '@dhis2/ui';\nimport React from 'react';\nimport { FormField } from '../index.js';\nconst {\n  Field\n} = ReactFinalForm;\nconst defaultIsAsyncOption = true;\nconst NAME = 'isAsync';\nconst DATATEST = 'input-is-async';\nconst SHORT_LABEL = i18n.t('Async');\nconst LABEL = i18n.t('Asynchronous import');\nconst HELPTEXT = i18n.t('Controls whether the import is done asynchronously');\nconst IsAsync = () => /*#__PURE__*/React.createElement(FormField, {\n  label: SHORT_LABEL,\n  dataTest: DATATEST\n}, /*#__PURE__*/React.createElement(Field, {\n  type: \"checkbox\",\n  component: CheckboxFieldFF,\n  name: NAME,\n  label: LABEL,\n  helpText: HELPTEXT,\n  dataTest: `${DATATEST}-sf`\n}));\nexport { IsAsync, defaultIsAsyncOption };","import { hasValue, composeValidators } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { OrgUnitTreeField, FormField } from '../index.js';\nimport { SINGLE_ORG_VALIDATOR, SINGLE_EXACT_ORG_VALIDATOR } from '../OrgUnitTree/OrgUnitTreeField.js';\nconst NAME = 'selectedOrgUnits';\nconst LABEL = 'Thematic Area(s) to export data from';\nconst DATATEST = 'input-org-unit-tree';\nconst OrgUnitTree = _ref => {\n  let {\n    multiSelect\n  } = _ref;\n  const orgValidator = multiSelect ? SINGLE_ORG_VALIDATOR : SINGLE_EXACT_ORG_VALIDATOR;\n  const validator = composeValidators(hasValue, orgValidator);\n  return /*#__PURE__*/React.createElement(FormField, {\n    label: LABEL,\n    dataTest: DATATEST\n  }, /*#__PURE__*/React.createElement(OrgUnitTreeField, {\n    name: NAME,\n    validator: validator,\n    multiSelect: multiSelect,\n    label: LABEL,\n    dataTest: DATATEST\n  }));\n};\nOrgUnitTree.defaultProps = {\n  multiSelect: true\n};\nOrgUnitTree.propTypes = {\n  multiSelect: PropTypes.bool\n};\nexport { OrgUnitTree };","const resourceTypes = {\n  DATASET: 1,\n  PROGRAM: 2,\n  TETYPE: 3,\n  USER: 4,\n  GEOJSON_ATTRIBUTE: 5,\n  PROGRAM_WITH_EVENTS: 6\n};\nexport { resourceTypes };","import i18n from '@dhis2/d2-i18n';\nimport { hasValue, composeValidators } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { ResourcePickerField } from '../index.js';\nimport { resourceTypes } from '../ResourcePicker/resourceTypes.js';\nconst NAME = 'selectedDataSets';\nconst LABEL = i18n.t('Which data sets should be included in export?');\nconst DATATEST = 'input-data-set-picker';\nconst LISTNAME = 'dataSetPicker';\nconst FILTERLABEL = i18n.t('Filter data sets');\nconst SELECTEDLABEL = i18n.t('Selected data sets');\nconst ERRORMESSAGE = i18n.t('Something went wrong when loading the data sets!');\nconst RESOURCETYPE = resourceTypes.DATASET;\nconst SINGLE_DATASET_VALIDATOR = selectedDataSets => selectedDataSets.length == 0 ? i18n.t('At least one data set must be selected') : undefined;\nconst SINGLE_EXACT_DATASET_VALIDATOR = selectedDataSets => selectedDataSets.length != 1 ? i18n.t('One data set must be selected') : undefined;\nconst DataSetPicker = _ref => {\n  let {\n    multiSelect = true\n  } = _ref;\n  const dataSetValidator = multiSelect ? SINGLE_DATASET_VALIDATOR : SINGLE_EXACT_DATASET_VALIDATOR;\n  const validator = composeValidators(hasValue, dataSetValidator);\n  return /*#__PURE__*/React.createElement(ResourcePickerField, {\n    name: NAME,\n    resourceType: RESOURCETYPE,\n    errorMessage: ERRORMESSAGE,\n    listName: LISTNAME,\n    label: LABEL,\n    filterLabel: FILTERLABEL,\n    selectedLabel: SELECTEDLABEL,\n    dataTest: DATATEST,\n    validator: validator,\n    multiSelect: multiSelect\n  });\n};\nDataSetPicker.propTypes = {\n  multiSelect: PropTypes.bool\n};\nexport { DataSetPicker };","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport i18n from '@dhis2/d2-i18n';\nimport { hasValue, composeValidators } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { ResourcePickerField } from '../index.js';\nimport { resourceTypes } from '../ResourcePicker/resourceTypes.js';\nconst NAME = 'selectedPrograms';\nconst LABEL = i18n.t('Program to export events from');\nconst DATATEST = 'input-program-picker';\nconst LISTNAME = 'selectedPrograms';\nconst FILTERLABEL = i18n.t('Filter programs');\nconst SELECTEDLABEL = i18n.t('Selected programs');\nconst ERRORMESSAGE = i18n.t('Something went wrong when loading the programs!');\nconst PROGRAM_RESOURCE_TYPE = resourceTypes.PROGRAM;\nconst PROGRAM_WITH_EVENTS_RESOURCE_TYPE = resourceTypes.PROGRAM_WITH_EVENTS;\nconst SINGLE_PROGRAM_VALIDATOR = selectedPrograms => selectedPrograms.length == 0 ? i18n.t('At least one program must be selected') : undefined;\nconst SINGLE_EXACT_PROGRAM_VALIDATOR = selectedPrograms => !selectedPrograms ? i18n.t('One program must be selected') : undefined;\nconst ProgramPicker = _ref => {\n  let {\n    multiSelect,\n    label,\n    show,\n    includeEvents,\n    ...rest\n  } = _ref;\n  const programValidator = multiSelect ? SINGLE_PROGRAM_VALIDATOR : SINGLE_EXACT_PROGRAM_VALIDATOR;\n  const validator = composeValidators(hasValue, programValidator);\n  const resourceType = includeEvents ? PROGRAM_WITH_EVENTS_RESOURCE_TYPE : PROGRAM_RESOURCE_TYPE;\n  return show && /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      maxWidth: '480px'\n    }\n  }, /*#__PURE__*/React.createElement(ResourcePickerField, _extends({\n    name: NAME,\n    resourceType: resourceType,\n    errorMessage: ERRORMESSAGE,\n    listName: LISTNAME,\n    label: label,\n    filterLabel: FILTERLABEL,\n    selectedLabel: SELECTEDLABEL,\n    dataTest: DATATEST,\n    multiSelect: multiSelect,\n    validator: validator,\n    autoSelectFirst: true\n  }, rest)));\n};\nProgramPicker.defaultProps = {\n  label: LABEL,\n  multiSelect: false,\n  show: true,\n  includeEvents: false\n};\nProgramPicker.propTypes = {\n  includeEvents: PropTypes.bool,\n  label: PropTypes.string,\n  multiSelect: PropTypes.bool,\n  show: PropTypes.bool\n};\nexport { ProgramPicker };","import i18n from '@dhis2/d2-i18n';\nimport { ReactFinalForm, CheckboxFieldFF } from '@dhis2/ui';\nimport React from 'react';\nimport { FormField } from '../index.js';\nconst {\n  Field\n} = ReactFinalForm;\nconst NAME = 'includeChildren';\nconst DATATEST = 'input-include-children';\nconst SHORT_LABEL = i18n.t('Include descendants');\nconst LABEL = 'Include descendants of selected thematic areas';\nconst IncludeChildren = () => /*#__PURE__*/React.createElement(FormField, {\n  label: SHORT_LABEL,\n  dataTest: DATATEST\n}, /*#__PURE__*/React.createElement(Field, {\n  type: \"checkbox\",\n  component: CheckboxFieldFF,\n  name: NAME,\n  label: LABEL,\n  dataTest: `${DATATEST}-sf`\n}));\nexport { IncludeChildren };","import i18n from '@dhis2/d2-i18n';\nimport { ReactFinalForm, CheckboxFieldFF } from '@dhis2/ui';\nimport React from 'react';\nimport { FormField } from '../index.js';\nconst {\n  Field\n} = ReactFinalForm;\nconst NAME = 'includeDeleted';\nconst DATATEST = 'input-include-deleted';\nconst SHORT_LABEL = i18n.t('Include deleted');\nconst LABEL = i18n.t('Include deleted data in export');\nconst IncludeDeleted = () => /*#__PURE__*/React.createElement(FormField, {\n  label: SHORT_LABEL,\n  dataTest: DATATEST\n}, /*#__PURE__*/React.createElement(Field, {\n  type: \"checkbox\",\n  component: CheckboxFieldFF,\n  name: NAME,\n  label: LABEL,\n  dataTest: `${DATATEST}-sf`\n}));\nexport { IncludeDeleted };","import i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport { RadioGroupField } from '../index.js';\nconst compressionOptions = [{\n  value: 'zip',\n  label: i18n.t('Zip')\n}, {\n  value: 'gz',\n  label: i18n.t('GZip')\n}, {\n  value: '',\n  label: i18n.t('Uncompressed')\n}];\nconst defaultCompressionOption = compressionOptions[0].value;\nconst NAME = 'compression';\nconst DATATEST = 'input-compression';\nconst LABEL = i18n.t('Compression mode');\nconst Compression = () => /*#__PURE__*/React.createElement(RadioGroupField, {\n  name: NAME,\n  label: LABEL,\n  options: compressionOptions,\n  dataTest: DATATEST\n});\nexport { Compression, defaultCompressionOption };","import i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport { RadioGroupField } from '../index.js';\nconst inclusionOptions = [{\n  value: 'SELECTED',\n  label: 'Only include selected thematic area / program',\n  prefix: i18n.t('Selected')\n}, {\n  value: 'CHILDREN',\n  label: i18n.t('Include the first level of units inside selections'),\n  prefix: i18n.t('Directly below')\n}, {\n  value: 'DESCENDANTS',\n  label: i18n.t('Include all units inside selections'),\n  prefix: i18n.t('All below')\n}];\nconst defaultInclusionOption = inclusionOptions[0].value;\nconst NAME = 'inclusion';\nconst DATATEST = 'input-inclusion';\nconst LABEL = 'How should thematic areas / programs inside the selection be included?';\nconst Inclusion = () => /*#__PURE__*/React.createElement(RadioGroupField, {\n  name: NAME,\n  label: LABEL,\n  options: inclusionOptions,\n  dataTest: DATATEST,\n  vertical: true\n});\nexport { Inclusion, defaultInclusionOption };","import i18n from '@dhis2/d2-i18n';\nimport { hasValue, composeValidators } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { DATE_VALIDATOR } from '../DatePicker/DatePickerField.js';\nimport { DatePickerField } from '../index.js';\nconst NAME = 'startDate';\nconst DATATEST = 'input-start-date';\nconst LABEL = i18n.t('Start date');\nconst VALIDATOR = composeValidators(hasValue, DATE_VALIDATOR);\nconst StartDate = _ref => {\n  let {\n    name,\n    label\n  } = _ref;\n  return /*#__PURE__*/React.createElement(DatePickerField, {\n    name: name !== null && name !== void 0 ? name : NAME,\n    validator: VALIDATOR,\n    label: label !== null && label !== void 0 ? label : LABEL,\n    dataTest: DATATEST\n  });\n};\nStartDate.propTypes = {\n  label: PropTypes.string,\n  name: PropTypes.string\n};\nexport { StartDate };","import i18n from '@dhis2/d2-i18n';\nimport { hasValue, composeValidators } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { DATE_VALIDATOR } from '../DatePicker/DatePickerField.js';\nimport { DatePickerField } from '../index.js';\nconst NAME = 'endDate';\nconst DATATEST = 'input-end-date';\nconst LABEL = i18n.t('End date');\nconst VALIDATOR = composeValidators(hasValue, DATE_VALIDATOR);\nconst EndDate = _ref => {\n  let {\n    name,\n    label\n  } = _ref;\n  return /*#__PURE__*/React.createElement(DatePickerField, {\n    name: name !== null && name !== void 0 ? name : NAME,\n    validator: VALIDATOR,\n    label: label !== null && label !== void 0 ? label : LABEL,\n    dataTest: DATATEST\n  });\n};\nEndDate.propTypes = {\n  label: PropTypes.string,\n  name: PropTypes.string\n};\nexport { EndDate };","import i18n from '@dhis2/d2-i18n';\nimport { Button } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nconst DATATEST = 'input-export-submit';\nconst ExportButton = _ref => {\n  let {\n    label,\n    disabledLabel,\n    disabled\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginBottom: 'var(--spacers-dp24)'\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    primary: true,\n    type: \"submit\",\n    dataTest: DATATEST,\n    disabled: disabled\n  }, disabled ? disabledLabel : label));\n};\nExportButton.defaultProps = {\n  disabledLabel: i18n.t('Loading export...')\n};\nExportButton.propTypes = {\n  label: PropTypes.string.isRequired,\n  disabled: PropTypes.bool,\n  disabledLabel: PropTypes.string\n};\nexport { ExportButton };","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport i18n from '@dhis2/d2-i18n';\nimport { hasValue, composeValidators } from '@dhis2/ui';\nimport React from 'react';\nimport { ProgramStages as ProgramStagesGeneric } from '../index.js';\nimport { SINGLE_EXACT_PROGRAMSTAGE_VALIDATOR } from '../ProgramStages/ProgramStages.js';\nconst VALIDATOR = composeValidators(hasValue, SINGLE_EXACT_PROGRAMSTAGE_VALIDATOR);\nconst NAME = 'programStage';\nconst LABEL = i18n.t('Which program stage should be included?');\nconst DATATEST = 'input-program-stage-select';\nconst ProgramStages = props => /*#__PURE__*/React.createElement(ProgramStagesGeneric, _extends({\n  name: NAME,\n  label: LABEL,\n  validator: VALIDATOR,\n  dataTest: DATATEST\n}, props));\nexport { ProgramStages };","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport i18n from '@dhis2/d2-i18n';\nimport { ReactFinalForm } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Schemas } from '../index.js';\nconst {\n  Field\n} = ReactFinalForm;\nconst SINGLE_SCHEMA_VALIDATOR = checkedSchemas => checkedSchemas.length == 0 ? i18n.t('At least one schema must be selected') : undefined;\nconst Wrapper = _ref => {\n  let {\n    input: {\n      onChange\n    },\n    meta,\n    ...rest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(Schemas, _extends({\n    meta: meta,\n    setCheckedSchemas: onChange\n  }, rest));\n};\nWrapper.propTypes = {\n  input: PropTypes.shape({\n    value: PropTypes.arrayOf(PropTypes.string).isRequired,\n    onChange: PropTypes.func\n  }).isRequired,\n  meta: PropTypes.shape({\n    error: PropTypes.string,\n    pristine: PropTypes.bool,\n    touched: PropTypes.bool\n  }).isRequired\n};\nconst SchemasField = _ref2 => {\n  let {\n    name,\n    validator,\n    ...rest\n  } = _ref2;\n  return /*#__PURE__*/React.createElement(Field, _extends({\n    component: Wrapper,\n    name: name,\n    validate: validator\n  }, rest));\n};\nSchemasField.propTypes = {\n  name: PropTypes.string.isRequired,\n  validator: PropTypes.func\n};\nexport { SchemasField, SINGLE_SCHEMA_VALIDATOR };","import { hasValue, composeValidators } from '@dhis2/ui';\nimport React from 'react';\nimport { SchemasField } from '../index.js';\nimport { SINGLE_SCHEMA_VALIDATOR } from '../Schemas/SchemasField.js';\nconst NAME = 'checkedSchemas';\nconst VALIDATOR = composeValidators(hasValue, SINGLE_SCHEMA_VALIDATOR);\nconst DATATEST = 'input-schemas';\nconst EXCLUDE_SCHEMAS = new Set(['analyticsTableHooks', 'charts', 'constants', 'dataElementDimensions', 'dataEntryForms', 'dataSetNotificationTemplates', 'dataStores', 'documents', 'eventCharts', 'eventReports', 'icons', 'jobConfigurations', 'messageConversations', 'metadataVersions', 'minMaxDataElements', 'oAuth2Clients', 'programDataElements', 'programNotificationTemplates', 'pushAnalysis', 'reportTables', 'reportingRates', 'reports', 'sections', 'smsCommands', 'sqlViews', 'trackedEntityInstanceFilters', 'validationNotificationTemplates']);\nconst Schemas = () => /*#__PURE__*/React.createElement(SchemasField, {\n  name: NAME,\n  excludeSchemas: EXCLUDE_SCHEMAS,\n  validator: VALIDATOR,\n  checkedByDefault: true,\n  dataTest: DATATEST\n});\nexport { Schemas };","import i18n from '@dhis2/d2-i18n';\nimport { SingleSelectFieldFF } from '@dhis2/ui';\nimport React from 'react';\nimport { StyledField } from '../index.js';\nconst objectTypeOptions = [{\n  value: 'dataSets',\n  label: i18n.t('Data sets')\n}, {\n  value: 'programs',\n  label: i18n.t('Programs')\n}, {\n  value: 'categoryCombos',\n  label: i18n.t('Category combination')\n}, {\n  value: 'dashboards',\n  label: i18n.t('Dashboard')\n}, {\n  value: 'dataElementGroups',\n  label: i18n.t('Data element groups')\n}, {\n  value: 'optionSets',\n  label: i18n.t('Option sets')\n}];\nconst defaultObjectTypeOption = objectTypeOptions[0].value;\nconst NAME = 'objectType';\nconst LABEL = i18n.t('Object type');\nconst DATATEST = 'input-object-type';\nconst ObjectType = () => /*#__PURE__*/React.createElement(\"div\", {\n  style: {\n    maxWidth: '480px'\n  }\n}, /*#__PURE__*/React.createElement(StyledField, {\n  component: SingleSelectFieldFF,\n  name: NAME,\n  label: LABEL,\n  options: objectTypeOptions,\n  dataTest: DATATEST,\n  filled: true,\n  initialFocus: true\n}));\nexport { ObjectType, defaultObjectTypeOption };","import i18n from '@dhis2/d2-i18n';\nimport { hasValue, composeValidators, SingleSelectFieldFF } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { useObjects } from '../../hooks/index.js';\nimport { StyledField } from '../index.js';\nconst SINGLE_EXACT_OBJECT_VALIDATOR = object => !object ? i18n.t('One object must be selected') : undefined;\nconst NAME = 'object';\nconst LABEL = i18n.t('Object');\nconst VALIDATOR = composeValidators(hasValue, SINGLE_EXACT_OBJECT_VALIDATOR);\nconst DATATEST = 'input-object-select';\nconst Objects = _ref => {\n  let {\n    objectType,\n    form\n  } = _ref;\n  const setObjectListSelected = val => form.change(NAME, val);\n  const {\n    loading: objectsLoading,\n    error: objectsError,\n    validationText: objectsValidationText,\n    objects\n  } = useObjects(objectType, setObjectListSelected);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      maxWidth: '480px'\n    }\n  }, /*#__PURE__*/React.createElement(StyledField, {\n    component: SingleSelectFieldFF,\n    loading: objectsLoading,\n    name: NAME,\n    label: LABEL,\n    options: objects,\n    validate: VALIDATOR,\n    dataTest: DATATEST,\n    validationText: objectsValidationText,\n    error: !!objectsError,\n    filterable: true\n  }));\n};\nObjects.propTypes = {\n  form: PropTypes.object.isRequired,\n  objectType: PropTypes.string.isRequired\n};\nexport { Objects };","import { useDataEngine } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { useState, useEffect } from 'react';\nconst listQuery = resource => ({\n  data: {\n    resource: resource,\n    fields: 'id,displayName',\n    params: {\n      paging: 'false'\n    }\n  }\n});\nconst useObjects = (type, setSelected) => {\n  const engine = useDataEngine();\n  const [error, setError] = useState(undefined);\n  const [loading, setLoading] = useState(true);\n  const [objects, setObjects] = useState([]);\n  useEffect(() => {\n    setLoading(true);\n    setSelected(undefined);\n    engine.query(listQuery(type), {\n      onComplete: data => {\n        const list = data.data[type];\n        const formattedList = list.map(e => ({\n          value: e.id,\n          label: e.displayName\n        }));\n        setObjects(formattedList);\n        setSelected(formattedList[0].value);\n        setLoading(false);\n      },\n      onError: error => {\n        setError(error);\n        console.error('useObjects error: ', error);\n      }\n    });\n  }, [type]);\n  const validationText = error && `${i18n.t('Something went wrong when loading the objects')} : ${error.message}`;\n  return {\n    loading,\n    error,\n    validationText,\n    objects\n  };\n};\nexport { useObjects };","import i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport { DataElementIdScheme as DataElementIdSchemeGeneric } from '../index.js';\nconst dataElementIdSchemeOptions = [{\n  value: 'UID',\n  label: i18n.t('Uid')\n}, {\n  value: 'CODE',\n  label: i18n.t('Code')\n}, {\n  value: 'NAME',\n  label: i18n.t('Name')\n}];\nconst defaultDataElementIdSchemeOption = dataElementIdSchemeOptions[0].value;\nconst NAME = 'dataElementIdScheme';\nconst DATATEST = 'input-data-element-id-scheme';\nconst LABEL = i18n.t('Data element ID scheme');\nconst DataElementIdScheme = () => /*#__PURE__*/React.createElement(DataElementIdSchemeGeneric, {\n  name: NAME,\n  label: LABEL,\n  dataElementIdSchemeOptions: dataElementIdSchemeOptions,\n  dataTest: DATATEST\n});\nexport { DataElementIdScheme, defaultDataElementIdSchemeOption };","import i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport { EventIdScheme as EventIdSchemeGeneric } from '../index.js';\nconst eventIdSchemeOptions = [{\n  value: 'UID',\n  label: i18n.t('Uid')\n}, {\n  value: 'CODE',\n  label: i18n.t('Code')\n}];\nconst defaultEventIdSchemeOption = eventIdSchemeOptions[0].value;\nconst NAME = 'eventIdScheme';\nconst DATATEST = 'input-event-id-scheme';\nconst LABEL = i18n.t('Event ID scheme');\nconst EventIdScheme = () => /*#__PURE__*/React.createElement(EventIdSchemeGeneric, {\n  name: NAME,\n  label: LABEL,\n  eventIdSchemeOptions: eventIdSchemeOptions,\n  dataTest: DATATEST\n});\nexport { EventIdScheme, defaultEventIdSchemeOption };","import i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport { IdScheme as IdSchemeGeneric } from '../index.js';\nconst idSchemeOptions = [{\n  value: 'UID',\n  label: i18n.t('Uid')\n}, {\n  value: 'CODE',\n  label: i18n.t('Code')\n}];\nconst defaultIdSchemeOption = idSchemeOptions[0].value;\nconst NAME = 'idScheme';\nconst DATATEST = 'input-id-scheme';\nconst LABEL = i18n.t('ID scheme');\nconst IdScheme = () => /*#__PURE__*/React.createElement(IdSchemeGeneric, {\n  name: NAME,\n  label: LABEL,\n  idSchemeOptions: idSchemeOptions,\n  dataTest: DATATEST\n});\nexport { IdScheme, defaultIdSchemeOption };","import i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport { OrgUnitIdScheme as OrgUnitIdSchemeGeneric } from '../index.js';\nconst orgUnitIdSchemeOptions = [{\n  value: 'UID',\n  label: i18n.t('Uid')\n}, {\n  value: 'CODE',\n  label: i18n.t('Code')\n}, {\n  value: 'NAME',\n  label: i18n.t('Name')\n}];\nconst defaultOrgUnitIdSchemeOption = orgUnitIdSchemeOptions[0].value;\nconst NAME = 'orgUnitIdScheme';\nconst DATATEST = 'input-org-unit-id-scheme';\nconst LABEL = 'Thematic area ID scheme';\nconst OrgUnitIdScheme = () => /*#__PURE__*/React.createElement(OrgUnitIdSchemeGeneric, {\n  name: NAME,\n  label: LABEL,\n  orgUnitIdSchemeOptions: orgUnitIdSchemeOptions,\n  dataTest: DATATEST\n});\nexport { OrgUnitIdScheme, defaultOrgUnitIdSchemeOption };","import i18n from '@dhis2/d2-i18n';\nimport { SingleSelectFieldFF } from '@dhis2/ui';\nimport React from 'react';\nimport { StyledField } from '../index.js';\nconst orgUnitIdSchemeOptions = [{\n  value: 'ID',\n  label: i18n.t('Id')\n}, {\n  value: 'CODE',\n  label: i18n.t('Code')\n}, {\n  value: 'NAME',\n  label: i18n.t('Name')\n}];\nconst defaultOrgUnitIdSchemeCoreOption = orgUnitIdSchemeOptions[0].value;\nconst NAME = 'orgUnitIdSchemeCore';\nconst DATATEST = 'input-org-unit-id-scheme-core';\nconst LABEL = 'Thematic area ID scheme';\nconst OrgUnitIdSchemeCore = () => /*#__PURE__*/React.createElement(StyledField, {\n  component: SingleSelectFieldFF,\n  name: NAME,\n  label: LABEL,\n  options: orgUnitIdSchemeOptions,\n  dataTest: DATATEST\n});\nexport { OrgUnitIdSchemeCore, defaultOrgUnitIdSchemeCoreOption };","const hasAuthorityToSkipAudit = authorities => authorities.includes('ALL') || authorities.includes('F_SKIP_DATA_IMPORT_AUDIT');\nconst hasAuthorityToSelectAllOrgUnits = authorities => authorities.includes('ALL');\nexport { hasAuthorityToSkipAudit, hasAuthorityToSelectAllOrgUnits };","import i18n from '@dhis2/d2-i18n';\nimport PropTypes from 'prop-types';\nimport React, { useContext } from 'react';\nimport { UserContext } from '../../contexts/index.js';\nimport { RadioGroupField } from '../index.js';\nimport { hasAuthorityToSelectAllOrgUnits } from '../WithAuthority/predicates.js';\nimport { OrgUnitTree, Inclusion } from './index.js';\nconst OU_MODE_MANUAL_VALUE = ':MANUAL:';\nconst orgUnitSelectionModeOptions = [{\n  value: 'ACCESSIBLE',\n  label: i18n.t('Data view organisation units associated with the current user'),\n  prefix: i18n.t('Accessible')\n}, {\n  value: 'CAPTURE',\n  label: i18n.t('Data capture organisation units associated with the current user'),\n  prefix: i18n.t('Capture')\n}, {\n  value: 'ALL',\n  label: i18n.t('All organisation units in the system'),\n  prefix: i18n.t('All')\n}, {\n  value: OU_MODE_MANUAL_VALUE,\n  label: i18n.t('Manually select organisation units from list')\n}];\nconst defaultOrgUnitSelectionModeOption = orgUnitSelectionModeOptions[3].value;\nconst NAME = 'ouMode';\nconst DATATEST = 'input-ouMode';\nconst LABEL = i18n.t('Which organisation units should be included?');\nconst OrgUnitMode = _ref => {\n  let {\n    value\n  } = _ref;\n  const user = useContext(UserContext);\n  const canSelectAllOrgUnits = user ? hasAuthorityToSelectAllOrgUnits(user.authorities) : false;\n  const options = canSelectAllOrgUnits ? orgUnitSelectionModeOptions : orgUnitSelectionModeOptions.filter(_ref2 => {\n    let {\n      value\n    } = _ref2;\n    return value != 'ALL';\n  });\n  return /*#__PURE__*/React.createElement(RadioGroupField, {\n    name: NAME,\n    label: LABEL,\n    options: options,\n    dataTest: DATATEST,\n    vertical: true\n  }, value === OU_MODE_MANUAL_VALUE && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(OrgUnitTree, null), /*#__PURE__*/React.createElement(Inclusion, null)));\n};\nOrgUnitMode.propTypes = {\n  value: PropTypes.string.isRequired\n};\nexport { OrgUnitMode, defaultOrgUnitSelectionModeOption, OU_MODE_MANUAL_VALUE };","import i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport { RadioGroupField } from '../index.js';\nconst teiTypeFilterOptions = [{\n  value: 'PROGRAM',\n  label: i18n.t('Program')\n}, {\n  value: 'TE',\n  label: i18n.t('Tracked entity type')\n}];\nconst defaultTEITypeFilterOption = teiTypeFilterOptions[0].value;\nconst NAME = 'teiTypeFilter';\nconst DATATEST = 'input-tei-type-filter';\nconst LABEL = i18n.t('Filter by');\nconst TEITypeFilter = () => /*#__PURE__*/React.createElement(RadioGroupField, {\n  name: NAME,\n  label: LABEL,\n  options: teiTypeFilterOptions,\n  dataTest: DATATEST\n});\nexport { TEITypeFilter, defaultTEITypeFilterOption };","import i18n from '@dhis2/d2-i18n';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { RadioGroupField } from '../index.js';\nconst programStatusOptions = [{\n  value: '',\n  label: i18n.t('All statuses')\n}, {\n  value: 'ACTIVE',\n  label: i18n.t('Active')\n}, {\n  value: 'COMPLETED',\n  label: i18n.t('Completed')\n}, {\n  value: 'CANCELLED',\n  label: i18n.t('Cancelled')\n}];\nconst defaultProgramStatusOption = programStatusOptions[0].value;\nconst NAME = 'programStatus';\nconst DATATEST = 'input-program-status';\nconst LABEL = i18n.t('Include only entities with status');\nconst ProgramStatus = _ref => {\n  let {\n    show\n  } = _ref;\n  return show && /*#__PURE__*/React.createElement(RadioGroupField, {\n    name: NAME,\n    label: LABEL,\n    options: programStatusOptions,\n    dataTest: DATATEST\n  });\n};\nProgramStatus.propTypes = {\n  show: PropTypes.bool\n};\nexport { ProgramStatus, defaultProgramStatusOption };","import i18n from '@dhis2/d2-i18n';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { RadioGroupField } from '../index.js';\nconst followUpStatusOptions = [{\n  value: 'ALL',\n  label: i18n.t('All')\n}, {\n  value: 'true',\n  label: i18n.t('Marked for follow-up')\n}, {\n  value: 'false',\n  label: i18n.t('Not marked for follow-up')\n}];\nconst defaultFollowUpStatusOption = followUpStatusOptions[0].value;\nconst NAME = 'followUp';\nconst DATATEST = 'input-follow-up-status';\nconst LABEL = i18n.t('Include only entities with follow-up status');\nconst FollowUpStatus = _ref => {\n  let {\n    show\n  } = _ref;\n  return show && /*#__PURE__*/React.createElement(RadioGroupField, {\n    name: NAME,\n    label: LABEL,\n    options: followUpStatusOptions,\n    dataTest: DATATEST\n  });\n};\nFollowUpStatus.propTypes = {\n  show: PropTypes.bool\n};\nexport { FollowUpStatus, defaultFollowUpStatusOption };","import i18n from '@dhis2/d2-i18n';\nimport { composeValidators } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { OPTIONAL_DATE_VALIDATOR } from '../DatePicker/DatePickerField.js';\nimport { DatePickerField } from '../index.js';\nconst NAME = 'enrollmentEnrolledAfter';\nconst DATATEST = 'input-program-start-date';\nconst LABEL = i18n.t('Start date');\nconst VALIDATOR = composeValidators(OPTIONAL_DATE_VALIDATOR);\nconst ProgramStartDate = _ref => {\n  let {\n    show\n  } = _ref;\n  return show && /*#__PURE__*/React.createElement(DatePickerField, {\n    name: NAME,\n    validator: VALIDATOR,\n    label: LABEL,\n    dataTest: DATATEST\n  });\n};\nProgramStartDate.propTypes = {\n  show: PropTypes.bool\n};\nexport { ProgramStartDate };","import i18n from '@dhis2/d2-i18n';\nimport { composeValidators } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { OPTIONAL_DATE_VALIDATOR } from '../DatePicker/DatePickerField.js';\nimport { DatePickerField } from '../index.js';\nconst NAME = 'enrollmentEnrolledBefore';\nconst DATATEST = 'input-program-end-date';\nconst LABEL = i18n.t('End date');\nconst VALIDATOR = composeValidators(OPTIONAL_DATE_VALIDATOR);\nconst ProgramEndDate = _ref => {\n  let {\n    show\n  } = _ref;\n  return show && /*#__PURE__*/React.createElement(DatePickerField, {\n    name: NAME,\n    validator: VALIDATOR,\n    label: LABEL,\n    dataTest: DATATEST\n  });\n};\nProgramEndDate.propTypes = {\n  show: PropTypes.bool\n};\nexport { ProgramEndDate };","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport i18n from '@dhis2/d2-i18n';\nimport { hasValue, composeValidators } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { ResourcePickerField } from '../index.js';\nimport { resourceTypes } from '../ResourcePicker/resourceTypes.js';\nconst NAME = 'selectedTETypes';\nconst DATATEST = 'input-te-type-picker';\nconst LABEL = i18n.t('Tracked entity types');\nconst LISTNAME = 'selectedTETypes';\nconst FILTERLABEL = i18n.t('Filter tracked entity types by name');\nconst SELECTEDLABEL = i18n.t('Selected tracked entity types');\nconst ERRORMESSAGE = i18n.t('Something went wrong when loading the tracked entity types!');\nconst RESOURCETYPE = resourceTypes.TETYPE;\nconst SINGLE_TETYPE_VALIDATOR = selectedTypes => selectedTypes.length == 0 ? i18n.t('At least one tracked entity type must be selected') : undefined;\nconst SINGLE_EXACT_TETYPE_VALIDATOR = selectedTypes => !selectedTypes ? i18n.t('One tracked entity type must be selected') : undefined;\nconst TETypePicker = _ref => {\n  let {\n    multiSelect,\n    show,\n    ...rest\n  } = _ref;\n  const teTypeValidator = multiSelect ? SINGLE_TETYPE_VALIDATOR : SINGLE_EXACT_TETYPE_VALIDATOR;\n  const validator = composeValidators(hasValue, teTypeValidator);\n  return show && /*#__PURE__*/React.createElement(ResourcePickerField, _extends({\n    name: NAME,\n    resourceType: RESOURCETYPE,\n    errorMessage: ERRORMESSAGE,\n    listName: LISTNAME,\n    label: LABEL,\n    filterLabel: FILTERLABEL,\n    selectedLabel: SELECTEDLABEL,\n    dataTest: DATATEST,\n    multiSelect: multiSelect,\n    validator: validator,\n    withActions: false,\n    autoSelectFirst: true\n  }, rest));\n};\nTETypePicker.defaultProps = {\n  multiSelect: false\n};\nTETypePicker.propTypes = {\n  multiSelect: PropTypes.bool,\n  show: PropTypes.bool\n};\nexport { TETypePicker };","import i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport { RadioGroupField } from '../index.js';\nconst lastUpdatedFilterOptions = [{\n  value: 'NONE',\n  label: i18n.t('Do not filter by last updated date')\n}, {\n  value: 'DATE',\n  label: i18n.t('Start/end dates')\n}, {\n  value: 'DURATION',\n  label: i18n.t('Time since last updated')\n}];\nconst defaultLastUpdatedFilterOption = lastUpdatedFilterOptions[0].value;\nconst NAME = 'lastUpdatedFilter';\nconst DATATEST = 'input-last-updated-filter';\nconst LABEL = i18n.t('Filter by last updated date');\nconst LastUpdatedFilter = () => /*#__PURE__*/React.createElement(RadioGroupField, {\n  name: NAME,\n  label: LABEL,\n  options: lastUpdatedFilterOptions,\n  dataTest: DATATEST\n});\nexport { LastUpdatedFilter, defaultLastUpdatedFilterOption };","import i18n from '@dhis2/d2-i18n';\nimport { composeValidators } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { OPTIONAL_DATE_VALIDATOR } from '../DatePicker/DatePickerField.js';\nimport { DatePickerField } from '../index.js';\nconst NAME = 'updatedAfter';\nconst DATATEST = 'input-last-updated-start-date';\nconst LABEL = i18n.t('Last updated start date');\nconst VALIDATOR = composeValidators(OPTIONAL_DATE_VALIDATOR);\nconst LastUpdatedStartDate = _ref => {\n  let {\n    show\n  } = _ref;\n  return show && /*#__PURE__*/React.createElement(DatePickerField, {\n    name: NAME,\n    validator: VALIDATOR,\n    label: LABEL,\n    dataTest: DATATEST\n  });\n};\nLastUpdatedStartDate.propTypes = {\n  show: PropTypes.bool\n};\nexport { LastUpdatedStartDate };","import i18n from '@dhis2/d2-i18n';\nimport { composeValidators } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { OPTIONAL_DATE_VALIDATOR } from '../DatePicker/DatePickerField.js';\nimport { DatePickerField } from '../index.js';\nconst NAME = 'updatedBefore';\nconst DATATEST = 'input-last-updated-end-date';\nconst LABEL = i18n.t('Last updated end date');\nconst VALIDATOR = composeValidators(OPTIONAL_DATE_VALIDATOR);\nconst LastUpdatedEndDate = _ref => {\n  let {\n    show\n  } = _ref;\n  return show && /*#__PURE__*/React.createElement(DatePickerField, {\n    name: NAME,\n    validator: VALIDATOR,\n    label: LABEL,\n    dataTest: DATATEST\n  });\n};\nLastUpdatedEndDate.propTypes = {\n  show: PropTypes.bool\n};\nexport { LastUpdatedEndDate };","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport i18n from '@dhis2/d2-i18n';\nimport { InputField, ReactFinalForm } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { FormField } from '../index.js';\nconst {\n  Field\n} = ReactFinalForm;\n\n// (\\d+d)?: one or more numbers followed by d; d for days\n// rest of the capturing groups are similar to the one described above\nconst durationRegex = /^(\\d+d)?(\\d+h)?(\\d+m)?(\\d+s)?$/;\nconst DURATION_VALIDATOR = duration => !duration || duration.match(durationRegex) ? undefined : i18n.t('Invalid duration');\nconst formatHelpText = `${i18n.t('Format')}: 00d00h00m00s`;\nconst exampleDuration = '100d5h30m';\nconst Wrapper = _ref => {\n  let {\n    input: {\n      value,\n      onChange\n    },\n    meta: {\n      error\n    },\n    inputName,\n    label,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(FormField, {\n    label: label,\n    dataTest: dataTest\n  }, /*#__PURE__*/React.createElement(InputField, {\n    name: inputName,\n    value: value,\n    onChange: _ref2 => {\n      let {\n        value\n      } = _ref2;\n      return onChange(value);\n    },\n    inputWidth: \"200px\",\n    error: !!error,\n    validationText: error,\n    helpText: formatHelpText,\n    placeholder: exampleDuration\n  }));\n};\nWrapper.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  input: PropTypes.shape({\n    value: PropTypes.oneOfType([PropTypes.instanceOf(Date), PropTypes.string]),\n    onChange: PropTypes.func\n  }).isRequired,\n  inputName: PropTypes.string.isRequired,\n  label: PropTypes.string.isRequired,\n  meta: PropTypes.shape({\n    error: PropTypes.string\n  }).isRequired\n};\nconst DurationField = _ref3 => {\n  let {\n    name,\n    validator,\n    ...rest\n  } = _ref3;\n  return /*#__PURE__*/React.createElement(Field, _extends({\n    component: Wrapper,\n    name: name,\n    inputName: name,\n    validate: validator\n  }, rest));\n};\nDurationField.propTypes = {\n  name: PropTypes.string.isRequired,\n  validator: PropTypes.func.isRequired\n};\nexport { DurationField, DURATION_VALIDATOR };","import i18n from '@dhis2/d2-i18n';\nimport { hasValue, composeValidators } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { DURATION_VALIDATOR } from '../Duration/DurationField.js';\nimport { DurationField } from '../index.js';\nconst NAME = 'updatedWithin';\nconst DATATEST = 'input-last-updated-duration';\nconst LABEL = i18n.t('Last updated duration');\nconst VALIDATOR = composeValidators(hasValue, DURATION_VALIDATOR);\nconst LastUpdatedDuration = _ref => {\n  let {\n    show\n  } = _ref;\n  return show && /*#__PURE__*/React.createElement(DurationField, {\n    name: NAME,\n    validator: VALIDATOR,\n    label: LABEL,\n    dataTest: DATATEST\n  });\n};\nLastUpdatedDuration.propTypes = {\n  show: PropTypes.bool\n};\nexport { LastUpdatedDuration };","import i18n from '@dhis2/d2-i18n';\nimport { ReactFinalForm, CheckboxFieldFF } from '@dhis2/ui';\nimport React from 'react';\nimport { FormField, RadioGroupField } from '../index.js';\nimport { UserPicker } from './index.js';\nconst {\n  useField,\n  Field\n} = ReactFinalForm;\nconst assignedUserModeOptions = [{\n  value: 'ANY',\n  label: i18n.t('Any user')\n}, {\n  value: 'CURRENT',\n  label: i18n.t('Current user')\n}, {\n  value: 'NONE',\n  label: i18n.t('No user/unassigned')\n}, {\n  value: 'PROVIDED',\n  label: i18n.t('Selected users')\n}];\nconst defaultAssignedUserModeOption = assignedUserModeOptions[0].value;\nconst FILTER_NAME = 'assignedUserModeFilter';\nconst FILTER_DATATEST = 'input-assigned-user-mode-filter';\nconst FILTER_SHORT_LABEL = i18n.t('Filter by assigned user');\nconst FILTER_LABEL = i18n.t('Export only instances with events assigned to specific users');\nconst NAME = 'assignedUserMode';\nconst DATATEST = 'input-assigned-user-mode';\nconst LABEL = i18n.t('Assigned user(s)');\nconst AssignedUserMode = () => {\n  const {\n    input: filterInput\n  } = useField(FILTER_NAME);\n  const {\n    value: showOptions\n  } = filterInput;\n  const {\n    input: userInput\n  } = useField(NAME);\n  const {\n    value: userMode\n  } = userInput;\n  const showUserPicker = userMode === 'PROVIDED';\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(FormField, {\n    label: FILTER_SHORT_LABEL,\n    dataTest: FILTER_DATATEST\n  }, /*#__PURE__*/React.createElement(Field, {\n    type: \"checkbox\",\n    component: CheckboxFieldFF,\n    name: FILTER_NAME,\n    label: FILTER_LABEL,\n    dataTest: `${FILTER_DATATEST}-sf`\n  }), showOptions && /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginLeft: 'var(--spacers-dp16)',\n      marginTop: 'var(--spacers-dp16)'\n    }\n  }, /*#__PURE__*/React.createElement(RadioGroupField, {\n    name: NAME,\n    options: assignedUserModeOptions,\n    dataTest: DATATEST,\n    label: LABEL\n  }), /*#__PURE__*/React.createElement(UserPicker, {\n    show: showUserPicker\n  }))));\n};\nexport { AssignedUserMode, defaultAssignedUserModeOption };","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport i18n from '@dhis2/d2-i18n';\nimport { hasValue, composeValidators } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { ResourcePickerField } from '../index.js';\nimport { resourceTypes } from '../ResourcePicker/resourceTypes.js';\nconst NAME = 'selectedUsers';\nconst DATATEST = 'input-user-picker';\nconst LABEL = i18n.t('Which users should be used?');\nconst LISTNAME = 'userPicker';\nconst FILTERLABEL = i18n.t('Filter users');\nconst SELECTEDLABEL = i18n.t('Selected users');\nconst ERRORMESSAGE = i18n.t('Something went wrong when loading the users!');\nconst RESOURCETYPE = resourceTypes.USER;\nconst SINGLE_USER_VALIDATOR = selectedUsers => selectedUsers.length == 0 ? i18n.t('At least one user must be selected') : undefined;\nconst SINGLE_EXACT_USER_VALIDATOR = selectedUsers => selectedUsers.length != 1 ? i18n.t('One user must be selected') : undefined;\nconst UserPicker = _ref => {\n  let {\n    multiSelect,\n    show,\n    ...rest\n  } = _ref;\n  const userValidator = multiSelect ? SINGLE_USER_VALIDATOR : SINGLE_EXACT_USER_VALIDATOR;\n  const validator = composeValidators(hasValue, userValidator);\n  return show && /*#__PURE__*/React.createElement(ResourcePickerField, _extends({\n    name: NAME,\n    resourceType: RESOURCETYPE,\n    errorMessage: ERRORMESSAGE,\n    listName: LISTNAME,\n    label: LABEL,\n    filterLabel: FILTERLABEL,\n    selectedLabel: SELECTEDLABEL,\n    dataTest: DATATEST,\n    multiSelect: multiSelect,\n    validator: validator,\n    withActions: true\n  }, rest));\n};\nUserPicker.defaultProps = {\n  multiSelect: true\n};\nUserPicker.propTypes = {\n  multiSelect: PropTypes.bool,\n  show: PropTypes.bool\n};\nexport { UserPicker };","import i18n from '@dhis2/d2-i18n';\nimport { ReactFinalForm, CheckboxFieldFF } from '@dhis2/ui';\nimport React from 'react';\nimport { FormField } from '../index.js';\nconst {\n  Field\n} = ReactFinalForm;\nconst NAME = 'includeAllAttributes';\nconst DATATEST = 'input-include-all-attributes';\nconst SHORT_LABEL = i18n.t('Include all attributes');\nconst LABEL = i18n.t('Include all attributes');\nconst IncludeAllAttributes = () => /*#__PURE__*/React.createElement(FormField, {\n  label: SHORT_LABEL,\n  dataTest: DATATEST\n}, /*#__PURE__*/React.createElement(Field, {\n  type: \"checkbox\",\n  component: CheckboxFieldFF,\n  name: NAME,\n  label: LABEL,\n  dataTest: `${DATATEST}-sf`\n}));\nexport { IncludeAllAttributes };","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { FormField } from '../index.js';\nconst DATATEST = 'input-dates';\nconst Dates = _ref => {\n  let {\n    label,\n    show,\n    children\n  } = _ref;\n  return show && /*#__PURE__*/React.createElement(FormField, {\n    label: label,\n    dataTest: DATATEST\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'flex'\n    }\n  }, children[0], /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      marginLeft: 'var(--spacers-dp8)'\n    }\n  }, children[1])));\n};\nDates.defaultProps = {\n  label: '',\n  show: true\n};\nDates.propTypes = {\n  children: PropTypes.node.isRequired,\n  label: PropTypes.string,\n  show: PropTypes.bool\n};\nexport { Dates };","import i18n from '@dhis2/d2-i18n';\nexport const FORM_ERROR = 'FINAL_FORM/form-error';\nexport const ARRAY_ERROR = 'FINAL_FORM/array-error';\nexport const jobStartedMessage = {\n  [FORM_ERROR]: [{\n    id: `job-started`,\n    info: true,\n    message: i18n.t('Job started.')\n  }]\n};","import i18n from '@dhis2/d2-i18n';\nimport { FORM_ERROR, jobStartedMessage } from '../../utils/final-form.js';\nimport { uploadFile } from '../../utils/helper.js';\nconst onImport = _ref => {\n  let {\n    baseUrl,\n    setProgress,\n    addTask,\n    setShowFullSummaryTask\n  } = _ref;\n  return async values => {\n    const {\n      dryRun,\n      files,\n      format,\n      identifier,\n      importReportMode,\n      importStrategy,\n      atomicMode,\n      mergeMode,\n      flushMode,\n      skipSharing,\n      skipValidation,\n      inclusionStrategy,\n      isAsync,\n      firstRowIsHeader,\n      classKey\n    } = values;\n\n    // send xhr\n    const apiBaseUrl = `${baseUrl}/api/`;\n    const endpoint = 'metadata.json';\n    const params = [`importMode=${dryRun ? 'VALIDATE' : 'COMMIT'}`, `identifier=${identifier}`, `importReportMode=${importReportMode}`, `importStrategy=${importStrategy}`, `atomicMode=${atomicMode}`, `mergeMode=${mergeMode}`, `flushMode=${flushMode}`, `skipSharing=${skipSharing}`, `skipValidation=${skipValidation}`, `inclusionStrategy=${inclusionStrategy}`, `async=${isAsync}`, `format=${format}`, format == 'csv' ? `firstRowIsHeader=${firstRowIsHeader}&classKey=${classKey}` : ''].filter(s => s != '').join('&');\n    const url = `${apiBaseUrl}${endpoint}?${params}`;\n    try {\n      await uploadFile({\n        url,\n        file: files[0],\n        format: format,\n        type: 'METADATA_IMPORT',\n        isAsync: isAsync,\n        setProgress,\n        addEntry: (id, entry) => addTask('metadata', id, {\n          ...entry,\n          jobDetails: values\n        })\n      });\n      return jobStartedMessage;\n    } catch (e) {\n      const formErrors = validate(values);\n      const allErrors = {\n        [FORM_ERROR]: [e],\n        ...formErrors\n      };\n      return allErrors;\n    } finally {\n      setShowFullSummaryTask(true);\n    }\n  };\n};\nconst validate = values => {\n  const classKeyValidator = (format, classKey) => format == 'csv' && !classKey ? i18n.t('A class key must be selected') : undefined;\n  return {\n    classKey: classKeyValidator(values.format, values.classKey)\n  };\n};\nexport { onImport, validate };","import { useConfig } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { ReactFinalForm } from '@dhis2/ui';\nimport React, { useContext, useState } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { Page, MetadataImportIcon, MoreOptions, BasicOptions, ValidationSummary, mergeOperation, MergeOperationNotice } from '../../components/index.js';\nimport { FileUpload, Format, formatNoXmlOptions, defaultFormatOption, FirstRowIsHeader, defaultFirstRowIsHeaderOption, ClassKey, Identifier, defaultIdentifierOption, ImportReportMode, defaultImportReportModeOption, ImportStrategy, defaultImportStrategyOption, AtomicMode, defaultAtomicModeOption, FlushMode, defaultFlushModeOption, SkipSharing, defaultSkipSharingOption, SkipValidation, defaultSkipValidationOption, IsAsync, defaultIsAsyncOption, InclusionStrategy, defaultInclusionStrategyOption, ImportButtonStrip, FormAlerts } from '../../components/Inputs/index.js';\nimport { TaskContext, getNewestTask } from '../../contexts/index.js';\nimport { getPrevJobDetails, getInitialBoolValue } from '../../utils/helper.js';\nimport { onImport } from './form-helper.js';\nconst {\n  Form\n} = ReactFinalForm;\n\n// PAGE INFO\nexport const PAGE_NAME = i18n.t('Metadata import');\nexport const PAGE_DESCRIPTION = i18n.t('Import metadata, such as data elements and organisation units, using JSON or CSV format.');\nconst PAGE_ICON = /*#__PURE__*/React.createElement(MetadataImportIcon, null);\nconst createInitialValues = prevJobDetails => ({\n  files: prevJobDetails.files,\n  format: prevJobDetails.format || defaultFormatOption,\n  identifier: prevJobDetails.identifier || defaultIdentifierOption,\n  importReportMode: prevJobDetails.importReportMode || defaultImportReportModeOption,\n  importStrategy: prevJobDetails.importStrategy || defaultImportStrategyOption,\n  firstRowIsHeader: getInitialBoolValue(prevJobDetails.firstRowIsHeader, defaultFirstRowIsHeaderOption),\n  atomicMode: prevJobDetails.atomicMode || defaultAtomicModeOption,\n  mergeMode: prevJobDetails.mergeMode || mergeOperation,\n  flushMode: prevJobDetails.flushMode || defaultFlushModeOption,\n  inclusionStrategy: prevJobDetails.inclusionStrategy || defaultInclusionStrategyOption,\n  skipSharing: getInitialBoolValue(prevJobDetails.skipSharing, defaultSkipSharingOption),\n  skipValidation: getInitialBoolValue(prevJobDetails.skipValidation, defaultSkipValidationOption),\n  isAsync: getInitialBoolValue(prevJobDetails.isAsync, defaultIsAsyncOption)\n});\nconst MetadataImport = () => {\n  const {\n    tasks: {\n      metadata: metadataTasks\n    },\n    addTask\n  } = useContext(TaskContext);\n\n  // recreating a previously run job\n  const query = useLocation().query;\n  const prevJobDetails = getPrevJobDetails(query, metadataTasks);\n  const initialValues = createInitialValues(prevJobDetails);\n  const [progress, setProgress] = useState(0);\n  const [showFullSummaryTask, setShowFullSummaryTask] = useState(false);\n  const {\n    baseUrl\n  } = useConfig();\n  const onSubmit = onImport({\n    baseUrl,\n    setProgress,\n    addTask,\n    setShowFullSummaryTask\n  });\n  return /*#__PURE__*/React.createElement(Page, {\n    title: PAGE_NAME,\n    desc: PAGE_DESCRIPTION,\n    icon: PAGE_ICON,\n    loading: progress,\n    dataTest: \"page-import-metadata\",\n    summaryTask: getNewestTask(metadataTasks),\n    showFullSummaryTask: showFullSummaryTask\n  }, /*#__PURE__*/React.createElement(Form, {\n    onSubmit: onSubmit,\n    initialValues: initialValues,\n    subscription: {\n      values: true,\n      submitError: true\n    },\n    render: _ref => {\n      let {\n        handleSubmit,\n        form,\n        values,\n        submitError\n      } = _ref;\n      return /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: handleSubmit\n      }, /*#__PURE__*/React.createElement(BasicOptions, null, /*#__PURE__*/React.createElement(FileUpload, {\n        helpText: i18n.t('Supported file types: JSON and CSV.', {\n          nsSeparator: '>'\n        })\n      }), /*#__PURE__*/React.createElement(Format, {\n        availableFormats: formatNoXmlOptions,\n        type: \"import\"\n      }), /*#__PURE__*/React.createElement(FirstRowIsHeader, {\n        show: values.format == 'csv'\n      }), /*#__PURE__*/React.createElement(ClassKey, {\n        show: values.format == 'csv',\n        form: form,\n        prevValue: prevJobDetails.classKey\n      }), /*#__PURE__*/React.createElement(Identifier, null), /*#__PURE__*/React.createElement(ImportReportMode, null), /*#__PURE__*/React.createElement(ImportStrategy, {\n        value: values.importStrategy\n      }), /*#__PURE__*/React.createElement(AtomicMode, null), /*#__PURE__*/React.createElement(MergeOperationNotice, null)), /*#__PURE__*/React.createElement(MoreOptions, null, /*#__PURE__*/React.createElement(FlushMode, null), /*#__PURE__*/React.createElement(SkipSharing, null), /*#__PURE__*/React.createElement(SkipValidation, null), /*#__PURE__*/React.createElement(IsAsync, null), /*#__PURE__*/React.createElement(InclusionStrategy, null)), /*#__PURE__*/React.createElement(ValidationSummary, null), /*#__PURE__*/React.createElement(ImportButtonStrip, {\n        form: form\n      }), /*#__PURE__*/React.createElement(FormAlerts, {\n        alerts: submitError\n      }));\n    }\n  }));\n};\nexport { MetadataImport };","import { useConfig } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { ReactFinalForm } from '@dhis2/ui';\nimport React, { useState } from 'react';\nimport { Page, MetadataExportIcon, ValidationSummary } from '../../components/index.js';\nimport { Format, formatNoXmlNoCsvOptions, defaultFormatOption, Schemas, Compression, defaultCompressionOption, SkipSharing, ExportButton } from '../../components/Inputs/index.js';\nimport { onExport } from './form-helper.js';\nconst {\n  Form\n} = ReactFinalForm;\n\n// PAGE INFO\nexport const PAGE_NAME = i18n.t('Metadata export');\nexport const PAGE_DESCRIPTION = i18n.t('Export metadata, such as data elements and organisation units, in JSON format.');\nconst PAGE_ICON = /*#__PURE__*/React.createElement(MetadataExportIcon, null);\nconst initialValues = {\n  checkedSchemas: [],\n  format: defaultFormatOption,\n  compression: defaultCompressionOption,\n  skipSharing: false\n};\nconst MetadataExport = () => {\n  const [exportEnabled, setExportEnabled] = useState(true);\n  const {\n    baseUrl\n  } = useConfig();\n  const onSubmit = onExport(baseUrl, setExportEnabled);\n  return /*#__PURE__*/React.createElement(Page, {\n    title: PAGE_NAME,\n    desc: PAGE_DESCRIPTION,\n    icon: PAGE_ICON,\n    limitWidth: false,\n    loading: !exportEnabled,\n    dataTest: \"page-export-metadata\"\n  }, /*#__PURE__*/React.createElement(Form, {\n    onSubmit: onSubmit,\n    initialValues: initialValues,\n    render: _ref => {\n      let {\n        handleSubmit\n      } = _ref;\n      return /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: handleSubmit\n      }, /*#__PURE__*/React.createElement(Schemas, null), /*#__PURE__*/React.createElement(Format, {\n        availableFormats: formatNoXmlNoCsvOptions\n      }), /*#__PURE__*/React.createElement(Compression, null), /*#__PURE__*/React.createElement(SkipSharing, null), /*#__PURE__*/React.createElement(ValidationSummary, null), /*#__PURE__*/React.createElement(ExportButton, {\n        label: i18n.t('Export metadata'),\n        disabled: !exportEnabled\n      }));\n    }\n  }));\n};\nexport { MetadataExport };","import { locationAssign } from '../../utils/helper.js';\nconst onExport = (baseUrl, setExportEnabled) => values => {\n  setExportEnabled(false);\n  const {\n    checkedSchemas,\n    format,\n    compression,\n    skipSharing\n  } = values;\n\n  // generate download url\n  const apiBaseUrl = `${baseUrl}/api/`;\n  const endpoint = `metadata`;\n  const endpointExtension = compression ? `${format}.${compression}` : format;\n  const schemaParams = checkedSchemas.map(name => `${name}=true`).join('&');\n  const downloadUrlParams = `skipSharing=${skipSharing}&download=true&${schemaParams}`;\n  const url = `${apiBaseUrl}${endpoint}.${endpointExtension}?${downloadUrlParams}`;\n  locationAssign(url);\n  setExportEnabled(true);\n\n  // log for debugging purposes\n  console.log('metadata-export:', {\n    url,\n    params: downloadUrlParams\n  });\n};\nexport { onExport };","import { useConfig } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { ReactFinalForm } from '@dhis2/ui';\nimport React, { useState } from 'react';\nimport { Page, MetadataDependencyExportIcon, ValidationSummary } from '../../components/index.js';\nimport { Format, formatNoXmlNoCsvOptions, defaultFormatOption, Compression, defaultCompressionOption, ObjectType, defaultObjectTypeOption, Objects, SkipSharing, ExportButton } from '../../components/Inputs/index.js';\nimport { onExport } from './form-helper.js';\nconst {\n  Form\n} = ReactFinalForm;\n\n// PAGE INFO\nexport const PAGE_NAME = i18n.t('Metadata dependency export');\nexport const PAGE_DESCRIPTION = i18n.t('Export metadata dependencies, such as data sets and programs, including related metadata objects, in JSON format.');\nconst PAGE_ICON = /*#__PURE__*/React.createElement(MetadataDependencyExportIcon, null);\nconst initialValues = {\n  objectType: defaultObjectTypeOption,\n  object: undefined,\n  format: defaultFormatOption,\n  compression: defaultCompressionOption,\n  skipSharing: false\n};\nconst MetadataDependencyExport = () => {\n  const [exportEnabled, setExportEnabled] = useState(true);\n  const {\n    baseUrl\n  } = useConfig();\n  const onSubmit = onExport(baseUrl, setExportEnabled);\n  return /*#__PURE__*/React.createElement(Page, {\n    title: PAGE_NAME,\n    desc: PAGE_DESCRIPTION,\n    icon: PAGE_ICON,\n    loading: !exportEnabled,\n    dataTest: \"page-export-metadata-dependency\"\n  }, /*#__PURE__*/React.createElement(Form, {\n    onSubmit: onSubmit,\n    initialValues: initialValues,\n    subscription: {\n      values: true\n    },\n    render: _ref => {\n      let {\n        handleSubmit,\n        form,\n        values\n      } = _ref;\n      return /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: handleSubmit\n      }, /*#__PURE__*/React.createElement(ObjectType, null), /*#__PURE__*/React.createElement(Objects, {\n        objectType: values.objectType,\n        form: form\n      }), /*#__PURE__*/React.createElement(Format, {\n        availableFormats: formatNoXmlNoCsvOptions\n      }), /*#__PURE__*/React.createElement(Compression, null), /*#__PURE__*/React.createElement(SkipSharing, null), /*#__PURE__*/React.createElement(ValidationSummary, null), /*#__PURE__*/React.createElement(ExportButton, {\n        label: i18n.t('Export metadata dependencies'),\n        disabled: !exportEnabled\n      }));\n    }\n  }));\n};\nexport { MetadataDependencyExport };","import { locationAssign } from '../../utils/helper.js';\nconst onExport = (baseUrl, setExportEnabled) => values => {\n  setExportEnabled(false);\n  const {\n    objectType,\n    object,\n    format,\n    compression,\n    skipSharing\n  } = values;\n\n  // generate URL and redirect\n  const apiBaseUrl = `${baseUrl}/api/`;\n  const endpoint = `${objectType}/${object}/metadata`;\n  const endpointExtension = compression ? `${format}.${compression}` : format;\n  const downloadUrlParams = `skipSharing=${skipSharing}&download=true`;\n  const url = `${apiBaseUrl}${endpoint}.${endpointExtension}?${downloadUrlParams}`;\n  locationAssign(url);\n  setExportEnabled(true);\n\n  // log for debugging purposes\n  console.log('metadata-dependency-export:', {\n    url,\n    params: downloadUrlParams\n  });\n};\nexport { onExport };","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"JobOverview_container__kcBYK\"};","import i18n from '@dhis2/d2-i18n';\nimport React, { useContext } from 'react';\nimport { JobOverview as JobOverviewComponent, Page, TasksIcon } from '../../components/index.js';\nimport { TaskContext } from '../../contexts/index.js';\nimport styles from './JobOverview.module.css';\nconst JobOverview = () => {\n  const {\n    jobOverview,\n    updateJobOverview\n  } = useContext(TaskContext);\n  const setActiveTypes = types => {\n    const selectedJob = jobOverview.selectedJob;\n    const job = selectedJob && types.includes(selectedJob.importType) ? selectedJob : null;\n    updateJobOverview({\n      activeTypes: types,\n      selectedJob: job\n    });\n  };\n  const setSelectedJob = job => {\n    updateJobOverview({\n      selectedJob: job\n    });\n  };\n  return /*#__PURE__*/React.createElement(Page, {\n    title: PAGE_NAME,\n    desc: PAGE_DESCRIPTION,\n    icon: PAGE_ICON,\n    limitWidth: false,\n    dataTest: \"job-overview-page\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.container\n  }, /*#__PURE__*/React.createElement(JobOverviewComponent, {\n    activeTypes: jobOverview.activeTypes,\n    setActiveTypes: setActiveTypes,\n    selectedJob: jobOverview.selectedJob,\n    setSelectedJob: setSelectedJob\n  })));\n};\n\n// PAGE INFO\nconst PAGE_NAME = i18n.t('Job overview');\nconst PAGE_DESCRIPTION = i18n.t('An overview of all import jobs started this session.');\nconst PAGE_ICON = /*#__PURE__*/React.createElement(TasksIcon, null);\nexport { JobOverview };","// extracted by mini-css-extract-plugin\nexport default {\"geometryFormat\":\"GeometryFormat_geometryFormat__mBb0k\"};","import { SegmentedControl } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport styles from './GeometryFormat.module.css';\nconst geometryFormats = [{\n  label: 'GeoJSON',\n  value: 'geojson',\n  path: '/import/geometry'\n}, {\n  label: 'GML',\n  value: 'gml',\n  path: '/import/gml'\n}];\nconst GeometryFormat = _ref => {\n  let {\n    format = 'geojson'\n  } = _ref;\n  const history = useHistory();\n  const onChange = _ref2 => {\n    let {\n      value\n    } = _ref2;\n    if (value !== format) {\n      const {\n        path\n      } = geometryFormats.find(f => f.value === value);\n      history.push(path);\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.geometryFormat\n  }, /*#__PURE__*/React.createElement(SegmentedControl, {\n    options: geometryFormats,\n    selected: format,\n    onChange: onChange\n  }));\n};\nGeometryFormat.propTypes = {\n  format: PropTypes.string\n};\nexport { GeometryFormat };","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"GeometryPropertyMatch_container__JYC1+\",\"indent\":\"GeometryPropertyMatch_indent__0FbV8\"};","import i18n from '@dhis2/d2-i18n';\nimport { ReactFinalForm, CheckboxFieldFF, InputFieldFF } from '@dhis2/ui';\nimport React from 'react';\nimport { StyledField } from '../index.js';\nimport { OrgUnitIdSchemeCore } from '../Inputs/index.js';\nimport styles from './GeometryPropertyMatch.module.css';\nconst {\n  useField,\n  Field\n} = ReactFinalForm;\nconst MATCH_PROPERTY_NAME = 'matchProperty';\nconst MATCH_PROPERTY_LABEL = i18n.t('Match GeoJSON property to organisation unit scheme');\nconst MATCH_PROPERTY_DATATEST = 'input-match-property';\nconst NAME = 'geojsonProperty';\nconst DATATEST = 'input-geometry-property';\nconst LABEL = i18n.t('GeoJSON property name');\nconst HELPTEXT = i18n.t('GeoJSON feature property that holds the organisation unit identifier');\nconst GeometryPropertyMatch = () => {\n  const {\n    input\n  } = useField(MATCH_PROPERTY_NAME);\n  const {\n    value: matchProperty\n  } = input;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.container\n  }, /*#__PURE__*/React.createElement(Field, {\n    type: \"checkbox\",\n    component: CheckboxFieldFF,\n    name: MATCH_PROPERTY_NAME,\n    label: MATCH_PROPERTY_LABEL,\n    dataTest: `${MATCH_PROPERTY_DATATEST}-sf`\n  }), matchProperty && /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.indent\n  }, /*#__PURE__*/React.createElement(StyledField, {\n    type: \"text\",\n    component: InputFieldFF,\n    name: NAME,\n    label: LABEL,\n    helpText: HELPTEXT,\n    dataTest: `${DATATEST}-sf`\n  }), /*#__PURE__*/React.createElement(OrgUnitIdSchemeCore, null)));\n};\nexport { GeometryPropertyMatch };","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"GeometryAttributePicker_container__zexsh\",\"indent\":\"GeometryAttributePicker_indent__yqldA\",\"help\":\"GeometryAttributePicker_help__yYsOB\",\"hidden\":\"GeometryAttributePicker_hidden__v1FUO\"};","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport i18n from '@dhis2/d2-i18n';\nimport { ReactFinalForm, CheckboxFieldFF } from '@dhis2/ui';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { ResourcePickerField } from '../index.js';\nimport { resourceTypes } from '../ResourcePicker/resourceTypes.js';\nimport styles from './GeometryAttributePicker.module.css';\nconst {\n  useField,\n  Field\n} = ReactFinalForm;\nconst USE_ATTRIBUTE_NAME = 'useAttribute';\nconst USE_ATTRIBUTE_LABEL = i18n.t('Import as associated geometry');\nconst USE_ATTRIBUTE_DATATEST = 'input-use-attribute';\nconst NAME = 'geojsonAttribute';\nconst LABEL = i18n.t('Store geometry as value of attribute');\nconst DATATEST = 'input-geojson-attribute-picker';\nconst LISTNAME = 'geojsonAttribute';\nconst FILTERLABEL = '';\nconst SELECTEDLABEL = i18n.t('Selected programs');\nconst ERRORMESSAGE = i18n.t('Something went wrong when loading the attributes!');\nconst RESOURCETYPE = resourceTypes.GEOJSON_ATTRIBUTE;\nconst VALIDATOR = function () {\n  let selectedAttributes = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  return selectedAttributes.length === 0 ? i18n.t('One attribute must be selected') : undefined;\n};\nconst HELPTEXT = i18n.t('Associated geometry import requires an attribute of type \"GeoJSON\" applied to \"Organisation unit\". It can be defined in the Maintenance app.');\nconst GeometryAttributePicker = _ref => {\n  let {\n    multiSelect,\n    label,\n    withFilter,\n    ...rest\n  } = _ref;\n  const {\n    input: checkbox\n  } = useField(USE_ATTRIBUTE_NAME);\n  const {\n    value: useAttribute\n  } = checkbox;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.container\n  }, /*#__PURE__*/React.createElement(Field, {\n    type: \"checkbox\",\n    component: CheckboxFieldFF,\n    name: USE_ATTRIBUTE_NAME,\n    label: USE_ATTRIBUTE_LABEL,\n    dataTest: `${USE_ATTRIBUTE_DATATEST}-sf`\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: cx(styles.indent, {\n      [styles.hidden]: !useAttribute\n    })\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: styles.help\n  }, HELPTEXT), /*#__PURE__*/React.createElement(ResourcePickerField, _extends({\n    name: NAME,\n    resourceType: RESOURCETYPE,\n    errorMessage: ERRORMESSAGE,\n    listName: LISTNAME,\n    label: label,\n    withFilter: withFilter,\n    filterLabel: FILTERLABEL,\n    selectedLabel: SELECTEDLABEL,\n    dataTest: DATATEST,\n    multiSelect: multiSelect,\n    validator: useAttribute ? VALIDATOR : Function.prototype,\n    autoSelectFirst: true\n  }, rest))));\n};\nGeometryAttributePicker.defaultProps = {\n  label: LABEL,\n  multiSelect: false,\n  withFilter: false\n};\nGeometryAttributePicker.propTypes = {\n  label: PropTypes.string,\n  multiSelect: PropTypes.bool,\n  withFilter: PropTypes.bool\n};\nexport { GeometryAttributePicker };","import { FORM_ERROR, jobStartedMessage } from '../../utils/final-form.js';\nimport { uploadFile } from '../../utils/helper.js';\nconst isAsync = true;\nconst onImport = _ref => {\n  let {\n    baseUrl,\n    setProgress,\n    addTask,\n    setShowFullSummaryTask\n  } = _ref;\n  return async values => {\n    const {\n      dryRun,\n      files,\n      matchProperty,\n      geojsonProperty,\n      orgUnitIdSchemeCore,\n      useAttribute,\n      geojsonAttribute\n    } = values;\n    const apiUrl = `${baseUrl}/api/organisationUnits/geometry`;\n    const params = {\n      dryRun,\n      async: isAsync\n    };\n    if (matchProperty && geojsonProperty && orgUnitIdSchemeCore) {\n      params.geoJsonId = false;\n      params.geoJsonProperty = geojsonProperty;\n      params.orgUnitProperty = orgUnitIdSchemeCore;\n    }\n    if (useAttribute && geojsonAttribute) {\n      params.attributeId = geojsonAttribute;\n    }\n    const paramsString = Object.keys(params).map(key => `${key}=${params[key]}`).join('&');\n    const url = `${apiUrl}?${paramsString}`;\n    try {\n      await uploadFile({\n        url,\n        file: files[0],\n        format: 'geojson',\n        type: 'GEOJSON_IMPORT',\n        isAsync: isAsync,\n        setProgress,\n        addEntry: (id, entry) => addTask('geojson', id, {\n          ...entry,\n          jobDetails: values\n        })\n      });\n      return jobStartedMessage;\n    } catch (e) {\n      const errors = [e];\n      return {\n        [FORM_ERROR]: errors\n      };\n    } finally {\n      setShowFullSummaryTask(true);\n    }\n  };\n};\nexport { onImport };","import { useConfig } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { ReactFinalForm } from '@dhis2/ui';\nimport React, { useContext, useState } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { GeometryFormat, GeometryPropertyMatch, GeometryAttributePicker } from '../../components/Geometry/index.js';\nimport { Page, GeometryIcon, ValidationSummary } from '../../components/index.js';\nimport { FileUpload, defaultOrgUnitIdSchemeOption, ImportButtonStrip, FormAlerts } from '../../components/Inputs/index.js';\nimport { TaskContext, getNewestTask } from '../../contexts/index.js';\nimport { getPrevJobDetails } from '../../utils/helper.js';\nimport { onImport } from './geojson-helper.js';\nconst {\n  Form\n} = ReactFinalForm;\n\n// PAGE INFO\nexport const PAGE_NAME = i18n.t('Organisation unit geometry import');\nexport const PAGE_DESCRIPTION = i18n.t('Import geographic data for organisation units. GeoJSON is the recommend format and can also be used for associated geometries or catchment areas.');\nexport const PAGE_ICON = /*#__PURE__*/React.createElement(GeometryIcon, null);\nconst createInitialValues = prevJobDetails => ({\n  files: prevJobDetails.files,\n  orgUnitIdScheme: prevJobDetails.orgUnitIdScheme || defaultOrgUnitIdSchemeOption\n});\nconst GeometryImport = () => {\n  const {\n    tasks: {\n      geojson: geojsonTasks\n    },\n    addTask\n  } = useContext(TaskContext);\n\n  // recreating a previously run job\n  const {\n    query\n  } = useLocation();\n  const prevJobDetails = getPrevJobDetails(query, geojsonTasks);\n  const initialValues = createInitialValues(prevJobDetails);\n  const [progress, setProgress] = useState(0);\n  const [showFullSummaryTask, setShowFullSummaryTask] = useState(false);\n  const {\n    baseUrl\n  } = useConfig();\n  const onSubmit = onImport({\n    baseUrl,\n    setProgress,\n    addTask,\n    setShowFullSummaryTask\n  });\n  return /*#__PURE__*/React.createElement(Page, {\n    title: PAGE_NAME,\n    desc: PAGE_DESCRIPTION,\n    icon: PAGE_ICON,\n    loading: progress,\n    dataTest: \"page-import-geojson\",\n    summaryTask: getNewestTask(geojsonTasks),\n    showFullSummaryTask: showFullSummaryTask\n  }, /*#__PURE__*/React.createElement(GeometryFormat, {\n    format: \"geojson\"\n  }), /*#__PURE__*/React.createElement(Form, {\n    onSubmit: onSubmit,\n    initialValues: initialValues,\n    render: _ref => {\n      let {\n        handleSubmit,\n        form,\n        submitError\n      } = _ref;\n      return /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: handleSubmit\n      }, /*#__PURE__*/React.createElement(FileUpload, {\n        helpText: i18n.t('GeoJSON feature id should match the organsation unit id, or match by a feature property below.')\n      }), /*#__PURE__*/React.createElement(GeometryPropertyMatch, null), /*#__PURE__*/React.createElement(GeometryAttributePicker, null), /*#__PURE__*/React.createElement(ValidationSummary, null), /*#__PURE__*/React.createElement(ImportButtonStrip, {\n        form: form\n      }), /*#__PURE__*/React.createElement(FormAlerts, {\n        alerts: submitError\n      }));\n    }\n  }));\n};\nexport { GeometryImport };","import { useConfig } from '@dhis2/app-runtime';\nimport { ReactFinalForm } from '@dhis2/ui';\nimport React, { useContext, useState } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { GeometryFormat } from '../../components/Geometry/index.js';\nimport { Page, ValidationSummary } from '../../components/index.js';\nimport { FileUpload, ImportButtonStrip, FormAlerts } from '../../components/Inputs/index.js';\nimport { TaskContext, getNewestTask } from '../../contexts/index.js';\nimport { getPrevJobDetails } from '../../utils/helper.js';\nimport { PAGE_NAME, PAGE_DESCRIPTION, PAGE_ICON } from './GeometryImport.js';\nimport { onImport } from './gml-helper.js';\nconst {\n  Form\n} = ReactFinalForm;\nconst createInitialValues = prevJobDetails => ({\n  files: prevJobDetails.files\n});\nconst GMLImport = () => {\n  const {\n    tasks: {\n      gml: gmlTasks\n    },\n    addTask\n  } = useContext(TaskContext);\n\n  // recreating a previously run job\n  const {\n    query\n  } = useLocation();\n  const prevJobDetails = getPrevJobDetails(query, gmlTasks);\n  const initialValues = createInitialValues(prevJobDetails);\n  const [progress, setProgress] = useState(0);\n  const [showFullSummaryTask, setShowFullSummaryTask] = useState(false);\n  const {\n    baseUrl\n  } = useConfig();\n  const onSubmit = onImport({\n    baseUrl,\n    setProgress,\n    addTask,\n    setShowFullSummaryTask\n  });\n  return /*#__PURE__*/React.createElement(Page, {\n    title: PAGE_NAME,\n    desc: PAGE_DESCRIPTION,\n    icon: PAGE_ICON,\n    loading: progress,\n    dataTest: \"page-import-gml\",\n    summaryTask: getNewestTask(gmlTasks),\n    showFullSummaryTask: showFullSummaryTask\n  }, /*#__PURE__*/React.createElement(GeometryFormat, {\n    format: \"gml\"\n  }), /*#__PURE__*/React.createElement(Form, {\n    onSubmit: onSubmit,\n    initialValues: initialValues,\n    render: _ref => {\n      let {\n        handleSubmit,\n        form,\n        submitError\n      } = _ref;\n      return /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: handleSubmit\n      }, /*#__PURE__*/React.createElement(FileUpload, null), /*#__PURE__*/React.createElement(ValidationSummary, null), /*#__PURE__*/React.createElement(ImportButtonStrip, {\n        form: form\n      }), /*#__PURE__*/React.createElement(FormAlerts, {\n        alerts: submitError\n      }));\n    }\n  }));\n};\nexport { GMLImport };","import { FORM_ERROR, jobStartedMessage } from '../../utils/final-form.js';\nimport { uploadFile } from '../../utils/helper.js';\nconst isAsync = true;\nconst onImport = _ref => {\n  let {\n    baseUrl,\n    setProgress,\n    addTask,\n    setShowFullSummaryTask\n  } = _ref;\n  return async values => {\n    const {\n      dryRun,\n      files\n    } = values;\n\n    // send xhr\n    const apiBaseUrl = `${baseUrl}/api/`;\n    const endpoint = 'metadata/gml.json';\n    const params = [`dryRun=${dryRun}`, 'format=json'].join('&');\n    const url = `${apiBaseUrl}${endpoint}?${params}`;\n    try {\n      await uploadFile({\n        url,\n        file: files[0],\n        format: 'gml',\n        type: 'GML_IMPORT',\n        isAsync: isAsync,\n        setProgress,\n        addEntry: (id, entry) => addTask('gml', id, {\n          ...entry,\n          jobDetails: values\n        })\n      });\n      return jobStartedMessage;\n    } catch (e) {\n      const errors = [e];\n      return {\n        [FORM_ERROR]: errors\n      };\n    } finally {\n      setShowFullSummaryTask(true);\n    }\n  };\n};\nexport { onImport };","import { FORM_ERROR, jobStartedMessage } from '../../utils/final-form.js';\nimport { uploadFile } from '../../utils/helper.js';\n\n// Fetch metadata for programs, org units and events\n// eslint-disable-next-line max-params\nconst fetchEventMetadata = async (baseUrl, orgUnitNames, eventIds, projectNames) => {\n  const metadata = {\n    programs: {},\n    programStages: {},\n    orgUnits: {},\n    dataElements: {}\n  };\n  try {\n    // Fetch DHIS2 programs by project names from CSV\n    for (const projectName of [...new Set(projectNames)]) {\n      const programUrl = `${baseUrl}/api/programs.json?filter=name:eq:${encodeURIComponent(projectName)}&fields=id,name,programStages[id]`;\n      try {\n        const response = await fetch(programUrl, {\n          credentials: 'include'\n        });\n        const data = await response.json();\n        if (data.programs && data.programs.length > 0) {\n          const program = data.programs[0];\n          metadata.programs[projectName] = program.id;\n          console.log(`Found program: \"${program.name}\" (ID: ${program.id})`);\n          if (program.programStages && program.programStages.length > 0) {\n            metadata.programStages[projectName] = program.programStages[0].id;\n          }\n        } else {\n          console.warn(`Program \"${projectName}\" not found`);\n        }\n      } catch (e) {\n        console.error(`Error fetching program ${projectName}:`, e);\n      }\n    }\n\n    // Fetch organization units by names from CSV 'program' field\n    for (const orgUnitName of [...new Set(orgUnitNames)]) {\n      const orgUnitUrl = `${baseUrl}/api/organisationUnits.json?filter=name:eq:${encodeURIComponent(orgUnitName)}&fields=id,name`;\n      try {\n        const response = await fetch(orgUnitUrl, {\n          credentials: 'include'\n        });\n        const data = await response.json();\n        if (data.organisationUnits && data.organisationUnits.length > 0) {\n          const orgUnit = data.organisationUnits[0];\n          metadata.orgUnits[orgUnitName] = orgUnit.id;\n          console.log(`Found org unit: \"${orgUnit.name}\" (ID: ${orgUnit.id})`);\n        } else {\n          console.warn(`Organization unit \"${orgUnitName}\" not found`);\n        }\n      } catch (e) {\n        console.error(`Error fetching org unit ${orgUnitName}:`, e);\n      }\n    }\n\n    // Fetch existing events to get org units and other metadata\n    for (const eventId of [...new Set(eventIds)]) {\n      const eventUrl = `${baseUrl}/api/tracker/events/${eventId}.json`;\n      try {\n        const response = await fetch(eventUrl, {\n          credentials: 'include'\n        });\n        const eventData = await response.json();\n        if (eventData && eventData.orgUnit) {\n          metadata.orgUnits[eventId] = eventData.orgUnit;\n        }\n        if (eventData && eventData.programStage) {\n          metadata.programStages[eventId] = eventData.programStage;\n        }\n      } catch (e) {\n        // Event doesn't exist, will be created as new event\n        console.log(`Event ${eventId} doesn't exist, will create new event`);\n      }\n    }\n\n    // Fetch data elements for the program stages found\n    const programStageIds = [...new Set(Object.values(metadata.programStages))];\n    for (const stageId of programStageIds) {\n      if (stageId) {\n        const stageUrl = `${baseUrl}/api/programStages/${stageId}.json?fields=programStageDataElements[dataElement[id,name]]`;\n        try {\n          const response = await fetch(stageUrl, {\n            credentials: 'include'\n          });\n          const stageData = await response.json();\n          if (stageData.programStageDataElements) {\n            console.log(`Available data elements for program stage ${stageId}:`);\n            stageData.programStageDataElements.forEach(psde => {\n              const de = psde.dataElement;\n              console.log(`- \"${de.name}\" (ID: ${de.id})`);\n              const name = de.name.toLowerCase();\n\n              // Map data elements that match our CSV fields\n              if (name.includes('male') && !name.includes('female')) {\n                metadata.dataElements.males = de.id;\n              } else if (name.includes('female')) {\n                metadata.dataElements.females = de.id;\n              } else if (name.includes('total') && name.includes('person')) {\n                metadata.dataElements.total = de.id;\n              } else if (name.includes('project')) {\n                metadata.dataElements.project = de.id;\n              } else if (name.includes('district')) {\n                metadata.dataElements.district = de.id;\n              }\n            });\n            console.log(`Mapped data elements:`, metadata.dataElements);\n          }\n        } catch (e) {\n          console.warn(`Could not fetch data elements for program stage ${stageId}:`, e);\n        }\n      }\n    }\n  } catch (error) {\n    console.error('Error fetching metadata:', error);\n  }\n  return metadata;\n};\nconst transformCSVToTrackerFormat = async (csvData, baseUrl) => {\n  const lines = csvData.trim().split('\\n');\n  const headers = lines[0].split(',').map(h => h.replace(/\"/g, '').trim());\n\n  // Parse CSV to collect org unit names, project names, and event IDs\n  const orgUnitNames = []; // CSV 'program' field\n  const projectNames = []; // CSV 'project' field\n  const eventIds = [];\n  const rows = [];\n  for (let i = 1; i < lines.length; i++) {\n    const values = lines[i].split(',').map(v => v.replace(/\"/g, '').trim());\n    if (values.length !== headers.length) {\n      continue;\n    }\n    const row = {};\n    headers.forEach((header, index) => {\n      row[header] = values[index];\n    });\n    rows.push(row);\n    orgUnitNames.push(row.program); // \"Test Test\" - org unit\n    projectNames.push(row.project); // \"Workshop 2\" - DHIS2 program\n    eventIds.push(row.event);\n  }\n\n  // Fetch metadata for org units, programs and events\n  const metadata = await fetchEventMetadata(baseUrl, orgUnitNames, eventIds, projectNames);\n  const events = [];\n\n  // Transform each row using fetched metadata\n  for (const row of rows) {\n    // Use specific program and org unit from CSV fields\n    const programId = metadata.programs[row.project]; // \"Workshop 2\" -> DHIS2 program ID\n    const programStageId = metadata.programStages[row.project]; // Program stage from \"Workshop 2\" program\n    const orgUnitId = metadata.orgUnits[row.program]; // \"Test Test\" -> org unit ID\n\n    // Skip if we don't have required metadata\n    if (!programId || !programStageId || !orgUnitId) {\n      console.warn(`Skipping event ${row.event}: Missing metadata - program: ${programId} (from \"${row.project}\"), programStage: ${programStageId}, orgUnit: ${orgUnitId} (from \"${row.program}\")`);\n      continue;\n    }\n\n    // Transform to DHIS2 tracker event format\n    const event = {\n      event: row.event,\n      status: row.status,\n      occurredAt: row.occurredAt,\n      createdAt: row.createdAt,\n      updatedAt: row.updatedAt,\n      program: programId,\n      programStage: programStageId,\n      orgUnit: orgUnitId,\n      dataValues: []\n    };\n\n    // Add data values if we have matching data elements\n    if (metadata.dataElements.males && row.Males) {\n      event.dataValues.push({\n        dataElement: metadata.dataElements.males,\n        value: row.Males\n      });\n    }\n    if (metadata.dataElements.females && row.Females) {\n      event.dataValues.push({\n        dataElement: metadata.dataElements.females,\n        value: row.Females\n      });\n    }\n    if (metadata.dataElements.total && row['Total Persons reached']) {\n      event.dataValues.push({\n        dataElement: metadata.dataElements.total,\n        value: row['Total Persons reached']\n      });\n    }\n    if (metadata.dataElements.project && row.project) {\n      event.dataValues.push({\n        dataElement: metadata.dataElements.project,\n        value: row.project\n      });\n    }\n    if (metadata.dataElements.district && row.District) {\n      event.dataValues.push({\n        dataElement: metadata.dataElements.district,\n        value: row.District\n      });\n    }\n    events.push(event);\n  }\n  return {\n    events: events\n  };\n};\nconst isAsync = true;\nconst onImport = _ref => {\n  let {\n    baseUrl,\n    setProgress,\n    addTask,\n    setShowFullSummaryTask\n  } = _ref;\n  return async values => {\n    const {\n      dryRun,\n      files,\n      format,\n      dataElementIdScheme,\n      orgUnitIdScheme,\n      idScheme\n    } = values;\n    let fileToUpload = files[0];\n\n    // If CSV format, transform the data first\n    if (format === 'csv') {\n      try {\n        const csvText = await new Promise((resolve, reject) => {\n          const reader = new FileReader();\n          reader.onload = e => resolve(e.target.result);\n          reader.onerror = reject;\n          reader.readAsText(files[0]);\n        });\n        const transformedData = await transformCSVToTrackerFormat(csvText, baseUrl);\n        const jsonString = JSON.stringify(transformedData);\n\n        // Create a new JSON file from transformed data\n        fileToUpload = new File([jsonString], 'transformed-events.json', {\n          type: 'application/json'\n        });\n      } catch (error) {\n        console.error('CSV transformation error:', error);\n        return {\n          [FORM_ERROR]: ['Failed to transform CSV data']\n        };\n      }\n    }\n\n    // send xhr\n    const apiBaseUrl = `${baseUrl}/api/tracker`;\n    const params = [`async=${isAsync}`, `importMode=${dryRun ? 'validate' : 'commit'}`, `dataElementIdScheme=${dataElementIdScheme}`, `orgUnitIdScheme=${orgUnitIdScheme}`, `idScheme=${idScheme}`].join('&');\n    const url = `${apiBaseUrl}?${params}`;\n    try {\n      await uploadFile({\n        url,\n        file: fileToUpload,\n        format: format === 'csv' ? 'json' : format,\n        // Always send as JSON after transformation\n        type: 'TRACKER_IMPORT_JOB',\n        isAsync,\n        setProgress,\n        addEntry: (id, entry) => addTask('event', id, {\n          ...entry,\n          jobDetails: values\n        })\n      });\n      return jobStartedMessage;\n    } catch (e) {\n      const errors = [e];\n      return {\n        [FORM_ERROR]: errors\n      };\n    } finally {\n      setShowFullSummaryTask(true);\n    }\n  };\n};\nexport { onImport };","import { useConfig } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { ReactFinalForm } from '@dhis2/ui';\nimport React, { useContext, useState } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { Page, MoreOptions, BasicOptions, SchemeContainer, EventIcon, ValidationSummary } from '../../components/index.js';\nimport { FileUpload, Format, defaultFormatOption, DataElementIdScheme, defaultDataElementIdSchemeOption, EventIdScheme, defaultEventIdSchemeOption, IdScheme, defaultIdSchemeOption, OrgUnitIdScheme, defaultOrgUnitIdSchemeOption, ImportButtonStrip, FormAlerts, formatNoXmlOptions } from '../../components/Inputs/index.js';\nimport { TaskContext, getNewestTask } from '../../contexts/index.js';\nimport { getPrevJobDetails } from '../../utils/helper.js';\nimport { onImport } from './form-helper.js';\n\n// PAGE INFO\nexport const PAGE_NAME = i18n.t('Event import');\nexport const PAGE_DESCRIPTION = i18n.t('Import event data for programs, stages and tracked entities from JSON or CSV format.');\nconst PAGE_ICON = /*#__PURE__*/React.createElement(EventIcon, null);\nconst {\n  Form\n} = ReactFinalForm;\nconst createInitialValues = prevJobDetails => ({\n  files: prevJobDetails.files,\n  format: prevJobDetails.format || defaultFormatOption,\n  dataElementIdScheme: prevJobDetails.dataElementIdScheme || defaultDataElementIdSchemeOption,\n  orgUnitIdScheme: prevJobDetails.orgUnitIdScheme || defaultOrgUnitIdSchemeOption,\n  eventIdScheme: prevJobDetails.eventIdScheme || defaultEventIdSchemeOption,\n  idScheme: prevJobDetails.idScheme || defaultIdSchemeOption\n});\nconst EventImport = () => {\n  const {\n    tasks: {\n      event: eventTasks\n    },\n    addTask\n  } = useContext(TaskContext);\n\n  // recreating a previously run job\n  const query = useLocation().query;\n  const prevJobDetails = getPrevJobDetails(query, eventTasks);\n  const initialValues = createInitialValues(prevJobDetails);\n  const [progress, setProgress] = useState(0);\n  const [showFullSummaryTask, setShowFullSummaryTask] = useState(false);\n  const {\n    baseUrl\n  } = useConfig();\n  const onSubmit = onImport({\n    baseUrl,\n    setProgress,\n    addTask,\n    setShowFullSummaryTask\n  });\n  return /*#__PURE__*/React.createElement(Page, {\n    title: PAGE_NAME,\n    desc: PAGE_DESCRIPTION,\n    icon: PAGE_ICON,\n    loading: progress,\n    dataTest: \"page-import-event\",\n    summaryTask: getNewestTask(eventTasks),\n    showFullSummaryTask: showFullSummaryTask\n  }, /*#__PURE__*/React.createElement(Form, {\n    onSubmit: onSubmit,\n    initialValues: initialValues,\n    subscription: {\n      values: true,\n      submitError: true\n    },\n    render: _ref => {\n      let {\n        handleSubmit,\n        form,\n        submitError\n      } = _ref;\n      return /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: handleSubmit\n      }, /*#__PURE__*/React.createElement(BasicOptions, null, /*#__PURE__*/React.createElement(FileUpload, {\n        helpText: i18n.t('Supported file types: JSON and CSV.', {\n          nsSeparator: '>'\n        })\n      }), /*#__PURE__*/React.createElement(Format, {\n        availableFormats: formatNoXmlOptions,\n        type: \"import\"\n      })), /*#__PURE__*/React.createElement(MoreOptions, null, /*#__PURE__*/React.createElement(SchemeContainer, null, /*#__PURE__*/React.createElement(EventIdScheme, null), /*#__PURE__*/React.createElement(DataElementIdScheme, null), /*#__PURE__*/React.createElement(OrgUnitIdScheme, null), /*#__PURE__*/React.createElement(IdScheme, null))), /*#__PURE__*/React.createElement(ValidationSummary, null), /*#__PURE__*/React.createElement(ImportButtonStrip, {\n        form: form\n      }), /*#__PURE__*/React.createElement(FormAlerts, {\n        alerts: submitError\n      }));\n    }\n  }));\n};\nexport { EventImport };","import { useDataEngine } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { Layer, CenteredContent, CircularLoader, NoticeBox } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React, { createContext, useContext, useState, useEffect } from 'react';\n\n// A similar version of this provider is available in @dhis2/analytics@^23\n\nconst CachedDataQueryCtx = /*#__PURE__*/createContext({});\nconst NO_DATA = {};\nconst CachedDataQueryProvider = _ref => {\n  let {\n    query,\n    dataTransformation,\n    children\n  } = _ref;\n  const [data, setData] = useState(null);\n  const [error, setError] = useState(null);\n  const engine = useDataEngine();\n  useEffect(() => {\n    engine.query(query, {\n      onComplete: resp => {\n        const dt = resp ? dataTransformation(resp) : NO_DATA;\n        setData(dt);\n      },\n      onError: error => {\n        console.log('Error', 'The app could not retrieve required data.', error);\n        setError(error);\n        setData(NO_DATA);\n      }\n    });\n  }, [engine, dataTransformation, query]);\n  if (!data && !error) {\n    return /*#__PURE__*/React.createElement(Layer, {\n      translucent: true\n    }, /*#__PURE__*/React.createElement(CenteredContent, null, /*#__PURE__*/React.createElement(CircularLoader, null)));\n  }\n  if (error) {\n    const fallbackMsg = i18n.t('The app could not retrieve required data.');\n    return /*#__PURE__*/React.createElement(NoticeBox, {\n      error: true,\n      title: i18n.t('Network error')\n    }, error.message || fallbackMsg);\n  }\n  return /*#__PURE__*/React.createElement(CachedDataQueryCtx.Provider, {\n    value: data\n  }, children);\n};\nCachedDataQueryProvider.propTypes = {\n  children: PropTypes.node.isRequired,\n  query: PropTypes.object.isRequired,\n  dataTransformation: PropTypes.func\n};\nconst useCachedDataQuery = () => useContext(CachedDataQueryCtx);\nexport { CachedDataQueryProvider, useCachedDataQuery };","export const EARTH_ENGINE_ID = 'earthEngineId';\nexport const PERIOD = 'period';\nexport const ORGANISATION_UNITS = 'organisationUnits';\nexport const ROUNDING = 'rounding';\nexport const DATA_ELEMENT_ID = 'dataElementId';\nexport const AGGREGATION_TYPE = 'aggregationType';\nexport const BAND_COCS = 'bandCocs';\nexport const ASSOCIATED_GEOMETRY = 'associatedGeometry';","import i18n from '@dhis2/d2-i18n';\nimport { SingleSelectFieldFF } from '@dhis2/ui';\nimport React from 'react';\nimport { StyledField } from '../../../components/index.js';\nimport { useCachedDataQuery } from '../util/CachedQueryProvider.js';\nimport { ASSOCIATED_GEOMETRY } from '../util/formFieldConstants.js';\nexport const NO_ASSOCIATED_GEOMETRY = 'Noassociatedgeometry';\nconst AssociatedGeometry = () => {\n  const {\n    associatedGeometry\n  } = useCachedDataQuery();\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      maxWidth: '300px',\n      width: '300px'\n    }\n  }, /*#__PURE__*/React.createElement(StyledField, {\n    component: SingleSelectFieldFF,\n    name: ASSOCIATED_GEOMETRY,\n    label: i18n.t('Use associated geometry'),\n    options: associatedGeometry,\n    dataTest: \"input-data-elements\",\n    defaultValue: NO_ASSOCIATED_GEOMETRY,\n    helpText: i18n.t('Select associated geometry for selected organisation units'),\n    filled: true\n  }));\n};\nexport { AssociatedGeometry };","import i18n from '@dhis2/d2-i18n';\nconst POPULATION_TOTAL_EE_ID = 'WorldPop/GP/100m/pop_age_sex_cons_unadj_TOTAL';\nconst POPULATION_AGE_GROUPS_EE_ID = 'WorldPop/GP/100m/pop_age_sex_cons_unadj_AGE_GROUPS';\nconst POPULATION_AGE_GROUPS_DATASET_ID = 'WorldPop/GP/100m/pop_age_sex_cons_unadj';\nconst SOURCE_NAME = 'WorldPop / Google Earth Engine';\nconst SOURCE_URL = 'https://developers.google.com/earth-engine/datasets/catalog/WorldPop_GP_100m_pop_age_sex_cons_unadj';\nexport const earthEngines = {\n  [POPULATION_TOTAL_EE_ID]: {\n    earthEngineId: POPULATION_TOTAL_EE_ID,\n    datasetId: POPULATION_AGE_GROUPS_DATASET_ID,\n    name: i18n.t('Population'),\n    source: SOURCE_NAME,\n    sourceUrl: SOURCE_URL,\n    img: 'images/population.png',\n    defaultAggregations: ['sum', 'mean'],\n    periodType: 'Yearly',\n    bandReducer: 'sum',\n    band: 'population',\n    filters: _ref => {\n      let {\n        id,\n        name,\n        year\n      } = _ref;\n      return [{\n        id,\n        name,\n        type: 'eq',\n        arguments: ['year', year]\n      }];\n    },\n    mosaic: true,\n    params: {\n      min: 0,\n      max: 25,\n      palette: '#fee5d9,#fcbba1,#fc9272,#fb6a4a,#de2d26,#a50f15' // Reds\n    }\n  },\n\n  [POPULATION_AGE_GROUPS_EE_ID]: {\n    earthEngineId: POPULATION_AGE_GROUPS_EE_ID,\n    datasetId: POPULATION_AGE_GROUPS_DATASET_ID,\n    name: i18n.t('Population age groups'),\n    source: SOURCE_NAME,\n    sourceUrl: SOURCE_URL,\n    img: 'images/population.png',\n    periodType: 'Yearly',\n    bandReducer: 'sum',\n    defaultAggregations: ['sum', 'mean'],\n    bands: [{\n      id: 'M_0',\n      name: i18n.t('Men 0 - 1 years')\n    }, {\n      id: 'M_1',\n      name: i18n.t('Men 1 - 4 years')\n    }, {\n      id: 'M_5',\n      name: i18n.t('Men 5 - 9 years')\n    }, {\n      id: 'M_10',\n      name: i18n.t('Men 10 - 14 years')\n    }, {\n      id: 'M_15',\n      name: i18n.t('Men 15 - 19 years')\n    }, {\n      id: 'M_20',\n      name: i18n.t('Men 20 - 24 years')\n    }, {\n      id: 'M_25',\n      name: i18n.t('Men 25 - 29 years')\n    }, {\n      id: 'M_30',\n      name: i18n.t('Men 30 - 34 years')\n    }, {\n      id: 'M_35',\n      name: i18n.t('Men 35 - 39 years')\n    }, {\n      id: 'M_40',\n      name: i18n.t('Men 40 - 44 years')\n    }, {\n      id: 'M_45',\n      name: i18n.t('Men 45 - 49 years')\n    }, {\n      id: 'M_50',\n      name: i18n.t('Men 50 - 54 years')\n    }, {\n      id: 'M_55',\n      name: i18n.t('Men 55 - 59 years')\n    }, {\n      id: 'M_60',\n      name: i18n.t('Men 60 - 64 years')\n    }, {\n      id: 'M_65',\n      name: i18n.t('Men 65 - 69 years')\n    }, {\n      id: 'M_70',\n      name: i18n.t('Men 70 - 74 years')\n    }, {\n      id: 'M_75',\n      name: i18n.t('Men 75 - 79 years')\n    }, {\n      id: 'M_80',\n      name: i18n.t('Men 80 years and above')\n    }, {\n      id: 'F_0',\n      name: i18n.t('Women 0 - 1 years')\n    }, {\n      id: 'F_1',\n      name: i18n.t('Women 1 - 4 years')\n    }, {\n      id: 'F_5',\n      name: i18n.t('Women 5 - 9 years')\n    }, {\n      id: 'F_10',\n      name: i18n.t('Women 10 - 14 years')\n    }, {\n      id: 'F_15',\n      name: i18n.t('Women 15 - 19 years')\n    }, {\n      id: 'F_20',\n      name: i18n.t('Women 20 - 24 years')\n    }, {\n      id: 'F_25',\n      name: i18n.t('Women 25 - 29 years')\n    }, {\n      id: 'F_30',\n      name: i18n.t('Women 30 - 34 years')\n    }, {\n      id: 'F_35',\n      name: i18n.t('Women 35 - 39 years')\n    }, {\n      id: 'F_40',\n      name: i18n.t('Women 40 - 44 years')\n    }, {\n      id: 'F_45',\n      name: i18n.t('Women 45 - 49 years')\n    }, {\n      id: 'F_50',\n      name: i18n.t('Women 50 - 54 years')\n    }, {\n      id: 'F_55',\n      name: i18n.t('Women 55 - 59 years')\n    }, {\n      id: 'F_60',\n      name: i18n.t('Women 60 - 64 years')\n    }, {\n      id: 'F_65',\n      name: i18n.t('Women 65 - 69 years')\n    }, {\n      id: 'F_70',\n      name: i18n.t('Women 70 - 74 years'),\n      multiple: true\n    }, {\n      id: 'F_75',\n      name: i18n.t('Women 75 - 79 years')\n    }, {\n      id: 'F_80',\n      name: i18n.t('Women 80 years and above')\n    }],\n    filters: _ref2 => {\n      let {\n        id,\n        name,\n        year\n      } = _ref2;\n      return [{\n        id,\n        name,\n        type: 'eq',\n        arguments: ['year', year]\n      }];\n    },\n    mosaic: true,\n    params: {\n      min: 0,\n      max: 10,\n      palette: '#fee5d9,#fcbba1,#fc9272,#fb6a4a,#de2d26,#a50f15' // Reds\n    }\n  }\n};\n\nconst NO_BANDS = [];\nexport const getEarthEngineBands = eeId => {\n  var _earthEngines$eeId;\n  return ((_earthEngines$eeId = earthEngines[eeId]) === null || _earthEngines$eeId === void 0 ? void 0 : _earthEngines$eeId.bands) || NO_BANDS;\n};\nexport const getDefaultAggregation = eeId => earthEngines[eeId].defaultAggregations[0];","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"BandCocMappingTable_container__tUBl1\",\"noticeBox\":\"BandCocMappingTable_noticeBox__aq2Px\"};","import i18n from '@dhis2/d2-i18n';\nimport { ReactFinalForm, Table, TableHead, TableRowHead, TableCellHead, TableBody, TableRow, TableCell, NoticeBox, SingleSelectFieldFF } from '@dhis2/ui';\nimport React, { useState, useEffect } from 'react';\nimport { FieldArray } from 'react-final-form-arrays';\nimport { useCachedDataQuery } from '../util/CachedQueryProvider.js';\nimport { getEarthEngineBands } from '../util/earthEngines.js';\nimport { BAND_COCS } from '../util/formFieldConstants.js';\nimport styles from './styles/BandCocMappingTable.module.css';\nconst {\n  Field,\n  useFormState,\n  useForm\n} = ReactFinalForm;\nconst BandCocMappingTable = () => {\n  const {\n    values\n  } = useFormState();\n  const {\n    change\n  } = useForm();\n  const {\n    dataElements\n  } = useCachedDataQuery();\n  const [cocs, setCocs] = useState([]);\n  const {\n    earthEngineId,\n    dataElementId,\n    bandCocs\n  } = values;\n  useEffect(() => {\n    //clear form bandCocs when this component is removed\n    return function cleanup() {\n      change(BAND_COCS, []);\n    };\n  }, [change]);\n\n  // dataElementId is a dependency because if it changes then\n  // the BAND_COCS mapping is no longer valid. The mapped\n  // cocs are specific to the dataElementId.\n  useEffect(() => {\n    const dataSetBands = getEarthEngineBands(earthEngineId);\n    change(BAND_COCS, dataSetBands);\n  }, [earthEngineId, dataElementId, change]);\n  useEffect(() => {\n    const newCocs = dataElements.find(_ref => {\n      let {\n        id\n      } = _ref;\n      return id === dataElementId;\n    }).categoryCombo.categoryOptionCombos;\n    setCocs(newCocs);\n  }, [dataElementId, dataElements]);\n  const getCatComboOptions = () => {\n    const unavailableCocs = bandCocs ? bandCocs.filter(bcoc => bcoc.coc).map(bcoc => bcoc.coc) : [];\n    return cocs.map(_ref2 => {\n      let {\n        id,\n        name\n      } = _ref2;\n      return {\n        value: id,\n        label: name,\n        disabled: unavailableCocs.indexOf(id) !== -1\n      };\n    });\n  };\n  const getProbableCocMatch = bandId => {\n    const probableCoc = cocs.find(coc => coc.code === bandId);\n    return (probableCoc === null || probableCoc === void 0 ? void 0 : probableCoc.id) || null;\n  };\n  const catComboOptions = getCatComboOptions();\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.container\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.noticeBox\n  }, /*#__PURE__*/React.createElement(NoticeBox, {\n    title: i18n.t('Import groups to category option combinations')\n  }, i18n.t('Earth Engine data set \"Population age groups\" has disaggregation groups. Choose the category option combinations to import each group into.'))), /*#__PURE__*/React.createElement(Table, {\n    dense: true\n  }, /*#__PURE__*/React.createElement(TableHead, null, /*#__PURE__*/React.createElement(TableRowHead, null, /*#__PURE__*/React.createElement(TableCellHead, {\n    dense: true\n  }, i18n.t('Group name')), /*#__PURE__*/React.createElement(TableCellHead, {\n    dense: true\n  }, i18n.t('Group description')), /*#__PURE__*/React.createElement(TableCellHead, {\n    dense: true\n  }, i18n.t('Category option combination')))), /*#__PURE__*/React.createElement(TableBody, null, /*#__PURE__*/React.createElement(FieldArray, {\n    name: BAND_COCS\n  }, _ref3 => {\n    let {\n      fields\n    } = _ref3;\n    return fields.map((name, i) => {\n      return /*#__PURE__*/React.createElement(TableRow, {\n        key: `row-${i}`\n      }, /*#__PURE__*/React.createElement(TableCell, {\n        dense: true\n      }, fields.value[i].id), /*#__PURE__*/React.createElement(TableCell, {\n        dense: true\n      }, fields.value[i].name), /*#__PURE__*/React.createElement(TableCell, {\n        dense: true\n      }, /*#__PURE__*/React.createElement(Field, {\n        component: SingleSelectFieldFF,\n        name: `${name}.coc`,\n        inputWidth: \"250px\",\n        filterable: true,\n        clearable: true,\n        defaultValue: getProbableCocMatch(fields.value[i].id),\n        noMatchText: i18n.t('No match found'),\n        placeholder: i18n.t('Choose category option combo'),\n        options: catComboOptions\n      })));\n    });\n  }))));\n};\nexport { BandCocMappingTable };","import i18n from '@dhis2/d2-i18n';\nimport { SingleSelectFieldFF, hasValue } from '@dhis2/ui';\nimport React from 'react';\nimport { StyledField } from '../../../components/index.js';\nimport { useCachedDataQuery } from '../util/CachedQueryProvider.js';\nimport { DATA_ELEMENT_ID } from '../util/formFieldConstants.js';\nconst DataElements = () => {\n  const {\n    dataElements\n  } = useCachedDataQuery();\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      maxWidth: '300px',\n      width: '300px'\n    }\n  }, /*#__PURE__*/React.createElement(StyledField, {\n    component: SingleSelectFieldFF,\n    name: DATA_ELEMENT_ID,\n    label: i18n.t('Data element'),\n    placeholder: i18n.t('Select data element'),\n    options: dataElements,\n    dataTest: \"input-data-elements\",\n    helpText: i18n.t('The data element where Earth Engine data will be added'),\n    filled: true,\n    filterable: true,\n    validate: hasValue\n  }));\n};\nexport { DataElements };","// extracted by mini-css-extract-plugin\nexport default {\"table\":\"DataPreview_table__ykezB\",\"parentOuName\":\"DataPreview_parentOuName__J4cGy\",\"current\":\"DataPreview_current__km0zC\"};","import { ouIdHelper } from '@dhis2/analytics';\nimport { useConfig } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { ReactFinalForm } from '@dhis2/ui';\nimport { useState, useEffect } from 'react';\nconst {\n  useFormState\n} = ReactFinalForm;\nconst fetchCurrentValues = async url => {\n  const fetcher = url => fetch(url, {\n    credentials: 'include'\n  }).then(resp => {\n    if (resp.status >= 200 && resp.status < 300) {\n      return Promise.resolve(resp.json());\n    } else {\n      throw resp;\n    }\n  }).catch(resp => {\n    const error = new Error(resp.statusText || resp.status);\n    console.error(`fetchCurrentValues error: `, error);\n    return Promise.reject(error);\n  });\n  return await fetcher(url).catch(error => Promise.reject(error));\n};\nconst useFetchCurrentValues = () => {\n  const {\n    values\n  } = useFormState();\n  const {\n    earthEngineId,\n    organisationUnits,\n    dataElementId,\n    period\n  } = values;\n  const [currentValues, setCurrentValues] = useState([]);\n  const [error, setError] = useState(null);\n  const {\n    baseUrl\n  } = useConfig();\n  useEffect(() => {\n    const fetchCurrVals = async url => {\n      const {\n        dataValues\n      } = await fetchCurrentValues(url);\n      const cv = dataValues.filter(v => v.dataElement === dataElementId);\n      setCurrentValues(cv);\n    };\n    if (organisationUnits && period && dataElementId) {\n      setError(null);\n      const ouQueryParams = organisationUnits.map(_ref => {\n        let {\n          id\n        } = _ref;\n        return `orgUnit=${id}`;\n      }).join('&');\n      const hasLevelPrefix = organisationUnits.find(ou => ouIdHelper.hasLevelPrefix(ou.id));\n      let url = `${baseUrl}/api/dataValueSets?dataElement=${dataElementId}&period=${period}&${ouQueryParams}`;\n      if (hasLevelPrefix) {\n        url = url.concat('&children=true');\n      }\n      fetchCurrVals(url);\n    } else {\n      const missingPeriod = period === undefined ? 'Period' : null;\n      const missingOus = !organisationUnits.length ? 'Organisation units' : null;\n      const missingParams = [missingPeriod, missingOus].filter(m => m !== null).join(', ');\n      setError(i18n.t(`Could not fetch current values due to missing parameters: ${missingParams}`));\n    }\n  }, [earthEngineId, dataElementId, period, organisationUnits, baseUrl]);\n  return {\n    currentValues,\n    error\n  };\n};\nexport { useFetchCurrentValues };","import i18n from '@dhis2/d2-i18n';\nimport { DataTable, DataTableHead, DataTableBody, DataTableRow, DataTableCell, DataTableColumnHeader, DataTableFoot, Pagination, ReactFinalForm, Tag, AlertStack, AlertBar } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React, { useState, useEffect, useRef, useMemo } from 'react';\nimport { useCachedDataQuery } from '../util/CachedQueryProvider.js';\nimport styles from './styles/DataPreview.module.css';\nimport { useFetchCurrentValues } from './useFetchCurrentValues.js';\nconst NO_ROWS = [];\nconst {\n  useFormState\n} = ReactFinalForm;\nconst PopulationAgegroupsDataPreview = _ref => {\n  let {\n    eeData,\n    pointOuRows,\n    rowsPerPage,\n    onRowsPerPageChanged\n  } = _ref;\n  const {\n    values\n  } = useFormState();\n  const {\n    dataElementId,\n    bandCocs\n  } = values;\n  const {\n    dataElements\n  } = useCachedDataQuery();\n  const [tableData, setTableData] = useState([]);\n  const [page, setPage] = useState(1);\n  const {\n    currentValues,\n    error\n  } = useFetchCurrentValues();\n  const tableRef = useRef(null);\n  const [bandCocMap, setBandCocMap] = useState({});\n  useEffect(() => {\n    // Unfortunately bandCocs from react-final-form-array does\n    // not preserve referential equality even though the values\n    // in the array are the same. Since this component\n    // will be unmounted if bandCocs actually changes, it is safe\n    // to only set the bandCocMap once when being initialized\n    if (!Object.keys(bandCocMap).length) {\n      const bcocMap = bandCocs.reduce((acc, curr) => {\n        acc[curr.id] = curr;\n        return acc;\n      }, {});\n      setBandCocMap(bcocMap);\n    }\n  }, [bandCocs, bandCocMap]);\n  const cocMap = useMemo(() => {\n    var _dataElements$find$ca;\n    const cocs = ((_dataElements$find$ca = dataElements.find(_ref2 => {\n      let {\n        id\n      } = _ref2;\n      return id === dataElementId;\n    }).categoryCombo) === null || _dataElements$find$ca === void 0 ? void 0 : _dataElements$find$ca.categoryOptionCombos) || [];\n    return cocs.reduce((acc, curr) => {\n      acc[curr.id] = curr;\n      return acc;\n    }, {});\n  }, [dataElementId, dataElements]);\n  useEffect(() => {\n    if (eeData) {\n      const newArr = eeData.map(d => {\n        var _bandCocMap$d$id, _cocMap$cocId;\n        const cocId = (_bandCocMap$d$id = bandCocMap[d.id]) === null || _bandCocMap$d$id === void 0 ? void 0 : _bandCocMap$d$id.coc;\n        const current = currentValues.filter(v => v.orgUnit === d.ouId).find(v => v.categoryOptionCombo === cocId);\n        return {\n          categoryOptionCombo: (_cocMap$cocId = cocMap[cocId]) === null || _cocMap$cocId === void 0 ? void 0 : _cocMap$cocId.name,\n          current: current === null || current === void 0 ? void 0 : current.value,\n          ...d\n        };\n      }).concat(pointOuRows.map(_ref3 => {\n        let {\n          id,\n          parentName,\n          name\n        } = _ref3;\n        return {\n          ouId: id,\n          ouParentName: parentName,\n          ouName: name,\n          value: i18n.t('Point org. unit - no value'),\n          isNoValue: true\n        };\n      }));\n      setTableData(newArr);\n    }\n  }, [currentValues, eeData, pointOuRows, bandCocMap, cocMap]);\n  useEffect(() => {\n    var _tableRef$current;\n    tableRef === null || tableRef === void 0 ? void 0 : (_tableRef$current = tableRef.current) === null || _tableRef$current === void 0 ? void 0 : _tableRef$current.scrollIntoView({\n      behavior: 'smooth'\n    });\n  }, [tableData, tableRef]);\n  const visibleRows = useMemo(() => {\n    if (!tableData.length) {\n      return NO_ROWS;\n    }\n    const start = (page - 1) * rowsPerPage;\n    const end = start + rowsPerPage;\n    return tableData.slice(start, end);\n  }, [tableData, rowsPerPage, page]);\n  if (!tableData.length) {\n    return null;\n  }\n  const getNumPages = () => Math.ceil(tableData.length / rowsPerPage);\n  const isLastPage = () => page === getNumPages();\n  const getLastPageLength = () => tableData.length % rowsPerPage;\n  const updateTablePaging = rows => {\n    setPage(1);\n    onRowsPerPageChanged(rows);\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    ref: tableRef\n  }, /*#__PURE__*/React.createElement(DataTable, {\n    dense: true,\n    className: styles.table\n  }, /*#__PURE__*/React.createElement(DataTableHead, null, /*#__PURE__*/React.createElement(DataTableRow, null, /*#__PURE__*/React.createElement(DataTableColumnHeader, {\n    dense: true\n  }, i18n.t('Organisation Unit')), /*#__PURE__*/React.createElement(DataTableColumnHeader, {\n    dense: true\n  }, i18n.t('Category option combo')), /*#__PURE__*/React.createElement(DataTableColumnHeader, {\n    dense: true\n  }, i18n.t('Current value')), /*#__PURE__*/React.createElement(DataTableColumnHeader, {\n    dense: true\n  }, i18n.t('New value')))), /*#__PURE__*/React.createElement(DataTableBody, null, visibleRows.map((_ref4, i) => {\n    let {\n      ouId,\n      ouParentName,\n      ouName,\n      categoryOptionCombo,\n      value,\n      current,\n      isNoValue\n    } = _ref4;\n    return /*#__PURE__*/React.createElement(DataTableRow, {\n      key: `${ouId}-${i}`\n    }, /*#__PURE__*/React.createElement(DataTableCell, {\n      dense: true\n    }, /*#__PURE__*/React.createElement(React.Fragment, null, ouParentName && /*#__PURE__*/React.createElement(\"span\", {\n      className: styles.parentOuName\n    }, `${ouParentName} / `), /*#__PURE__*/React.createElement(\"span\", null, ouName))), /*#__PURE__*/React.createElement(DataTableCell, {\n      dense: true\n    }, categoryOptionCombo), /*#__PURE__*/React.createElement(DataTableCell, {\n      dense: true\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: styles.current\n    }, current || '')), /*#__PURE__*/React.createElement(DataTableCell, {\n      dense: true\n    }, isNoValue ? /*#__PURE__*/React.createElement(Tag, {\n      negative: true\n    }, value) : /*#__PURE__*/React.createElement(\"span\", null, value)));\n  })), /*#__PURE__*/React.createElement(DataTableFoot, null, /*#__PURE__*/React.createElement(DataTableRow, null, /*#__PURE__*/React.createElement(DataTableCell, {\n    staticStyle: true,\n    colSpan: '4'\n  }, /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(Pagination, {\n    page: page,\n    isLastPage: isLastPage(),\n    onPageChange: setPage,\n    onPageSizeChange: updateTablePaging,\n    pageSize: rowsPerPage,\n    pageSizeSelectText: i18n.t('Rows per page'),\n    total: tableData.length,\n    pageLength: isLastPage() ? getLastPageLength() : null,\n    pageCount: getNumPages(),\n    pageSummaryText: _ref5 => {\n      let {\n        firstItem,\n        lastItem,\n        page,\n        pageCount,\n        total\n      } = _ref5;\n      return i18n.t('Page {{page}} of {{pageCount}}, row {{firstItem}}-{{lastItem}} of {{total}}', {\n        firstItem,\n        lastItem,\n        page,\n        pageCount,\n        total\n      });\n    }\n  })))))), /*#__PURE__*/React.createElement(AlertStack, null, error && /*#__PURE__*/React.createElement(AlertBar, {\n    warning: true,\n    duration: 2000\n  }, error)));\n};\nPopulationAgegroupsDataPreview.propTypes = {\n  eeData: PropTypes.array,\n  pointOuRows: PropTypes.array,\n  rowsPerPage: PropTypes.number,\n  onRowsPerPageChanged: PropTypes.func\n};\nexport { PopulationAgegroupsDataPreview };","import i18n from '@dhis2/d2-i18n';\nimport { DataTable, DataTableHead, DataTableBody, DataTableRow, DataTableCell, DataTableColumnHeader, DataTableFoot, Pagination, Tag, AlertStack, AlertBar } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React, { useState, useEffect, useMemo, useRef } from 'react';\nimport styles from './styles/DataPreview.module.css';\nimport { useFetchCurrentValues } from './useFetchCurrentValues.js';\nconst NO_ROWS = [];\nconst PopulationDataPreview = _ref => {\n  let {\n    eeData,\n    pointOuRows,\n    rowsPerPage,\n    onRowsPerPageChanged\n  } = _ref;\n  const [tableData, setTableData] = useState([]);\n  const [page, setPage] = useState(1);\n  const {\n    currentValues,\n    error\n  } = useFetchCurrentValues();\n  const tableRef = useRef(null);\n  useEffect(() => {\n    if (eeData) {\n      const newArr = eeData.map(d => {\n        const current = currentValues.find(v => v.orgUnit === d.ouId);\n        return {\n          current: current === null || current === void 0 ? void 0 : current.value,\n          ...d\n        };\n      }).concat(pointOuRows.map(_ref2 => {\n        let {\n          id,\n          parentName,\n          name\n        } = _ref2;\n        return {\n          ouId: id,\n          ouParentName: parentName,\n          ouName: name,\n          value: i18n.t('Point org. unit - no value'),\n          isNoValue: true\n        };\n      }));\n      setTableData(newArr);\n    }\n  }, [currentValues, eeData, pointOuRows]);\n  useEffect(() => {\n    var _tableRef$current;\n    tableRef === null || tableRef === void 0 ? void 0 : (_tableRef$current = tableRef.current) === null || _tableRef$current === void 0 ? void 0 : _tableRef$current.scrollIntoView({\n      behavior: 'smooth'\n    });\n  }, [tableData, tableRef]);\n  const visibleRows = useMemo(() => {\n    if (!tableData.length) {\n      return NO_ROWS;\n    }\n    const start = (page - 1) * rowsPerPage;\n    const end = start + rowsPerPage;\n    return tableData.slice(start, end);\n  }, [tableData, rowsPerPage, page]);\n  if (!tableData.length) {\n    return null;\n  }\n  const getNumPages = () => Math.ceil(tableData.length / rowsPerPage);\n  const isLastPage = () => page === getNumPages();\n  const getLastPageLength = () => tableData.length % rowsPerPage;\n  const updateTablePaging = rows => {\n    setPage(1);\n    onRowsPerPageChanged(rows);\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    ref: tableRef\n  }, /*#__PURE__*/React.createElement(DataTable, {\n    dense: true,\n    className: styles.table\n  }, /*#__PURE__*/React.createElement(DataTableHead, null, /*#__PURE__*/React.createElement(DataTableRow, null, /*#__PURE__*/React.createElement(DataTableColumnHeader, {\n    dense: true\n  }, i18n.t('Organisation Unit')), /*#__PURE__*/React.createElement(DataTableColumnHeader, {\n    dense: true\n  }, i18n.t('Current value')), /*#__PURE__*/React.createElement(DataTableColumnHeader, {\n    dense: true\n  }, i18n.t('New value')))), /*#__PURE__*/React.createElement(DataTableBody, null, visibleRows.map(_ref3 => {\n    let {\n      ouId,\n      ouParentName,\n      ouName,\n      value,\n      current,\n      isNoValue\n    } = _ref3;\n    return /*#__PURE__*/React.createElement(DataTableRow, {\n      key: ouId\n    }, /*#__PURE__*/React.createElement(DataTableCell, {\n      dense: true\n    }, /*#__PURE__*/React.createElement(React.Fragment, null, ouParentName && /*#__PURE__*/React.createElement(\"span\", {\n      className: styles.parentOuName\n    }, `${ouParentName} / `), /*#__PURE__*/React.createElement(\"span\", null, ouName))), /*#__PURE__*/React.createElement(DataTableCell, {\n      dense: true\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: styles.current\n    }, current || '')), /*#__PURE__*/React.createElement(DataTableCell, {\n      dense: true\n    }, isNoValue ? /*#__PURE__*/React.createElement(Tag, {\n      negative: true\n    }, value) : /*#__PURE__*/React.createElement(\"span\", null, value)));\n  })), /*#__PURE__*/React.createElement(DataTableFoot, null, /*#__PURE__*/React.createElement(DataTableRow, null, /*#__PURE__*/React.createElement(DataTableCell, {\n    staticStyle: true,\n    colSpan: '3'\n  }, /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(Pagination, {\n    page: page,\n    isLastPage: isLastPage(),\n    onPageChange: setPage,\n    onPageSizeChange: updateTablePaging,\n    pageSize: rowsPerPage,\n    pageSizeSelectText: i18n.t('Rows per page'),\n    total: tableData.length,\n    pageLength: isLastPage() ? getLastPageLength() : null,\n    pageCount: getNumPages(),\n    pageSummaryText: _ref4 => {\n      let {\n        firstItem,\n        lastItem,\n        page,\n        pageCount,\n        total\n      } = _ref4;\n      return i18n.t('Page {{page}} of {{pageCount}}, row {{firstItem}}-{{lastItem}} of {{total}}', {\n        firstItem,\n        lastItem,\n        page,\n        pageCount,\n        total\n      });\n    }\n  })))))), /*#__PURE__*/React.createElement(AlertStack, null, error && /*#__PURE__*/React.createElement(AlertBar, {\n    warning: true,\n    duration: 2000\n  }, error)));\n};\nPopulationDataPreview.propTypes = {\n  eeData: PropTypes.array,\n  pointOuRows: PropTypes.array,\n  rowsPerPage: PropTypes.number,\n  onRowsPerPageChanged: PropTypes.func\n};\nexport { PopulationDataPreview };","import { ReactFinalForm, ComponentCover, CenteredContent, CircularLoader } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React, { useState } from 'react';\nimport { getEarthEngineBands } from '../util/earthEngines.js';\nimport { EARTH_ENGINE_ID } from '../util/formFieldConstants.js';\nimport { PopulationAgegroupsDataPreview } from './PopulationAgegroupsDataPreview.js';\nimport { PopulationDataPreview } from './PopulationDataPreview.js';\nimport styles from './styles/DataPreview.module.css';\nconst {\n  useField\n} = ReactFinalForm;\nconst DEFAULT_ROWS_PER_PAGE = 10;\nconst DataPreview = _ref => {\n  let {\n    loading,\n    eeData,\n    pointOuRows,\n    modifiedSinceLastSubmit\n  } = _ref;\n  const [rowsPerPage, setRowsPerPage] = useState(DEFAULT_ROWS_PER_PAGE);\n  const {\n    input\n  } = useField(EARTH_ENGINE_ID);\n  const {\n    value: earthEngineId\n  } = input;\n  if (modifiedSinceLastSubmit) {\n    return null;\n  }\n  if (!loading && !eeData.length) {\n    return null;\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.content\n  }, loading ? /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.loading\n  }, /*#__PURE__*/React.createElement(ComponentCover, {\n    translucent: true\n  }, /*#__PURE__*/React.createElement(CenteredContent, null, /*#__PURE__*/React.createElement(CircularLoader, null)))) : /*#__PURE__*/React.createElement(React.Fragment, null, !getEarthEngineBands(earthEngineId).length ? /*#__PURE__*/React.createElement(PopulationDataPreview, {\n    eeData: eeData,\n    pointOuRows: pointOuRows,\n    rowsPerPage: rowsPerPage,\n    onRowsPerPageChanged: setRowsPerPage\n  }) : /*#__PURE__*/React.createElement(PopulationAgegroupsDataPreview, {\n    eeData: eeData,\n    pointOuRows: pointOuRows,\n    rowsPerPage: rowsPerPage,\n    onRowsPerPageChanged: setRowsPerPage\n  })));\n};\nDataPreview.propTypes = {\n  eeData: PropTypes.array,\n  loading: PropTypes.bool,\n  modifiedSinceLastSubmit: PropTypes.bool,\n  pointOuRows: PropTypes.array\n};\nexport { DataPreview };","import i18n from '@dhis2/d2-i18n';\nimport { SingleSelectFieldFF, hasValue } from '@dhis2/ui';\nimport React from 'react';\nimport { StyledField } from '../../../components/index.js';\nimport { earthEngines } from '../util/earthEngines.js';\nimport { EARTH_ENGINE_ID } from '../util/formFieldConstants.js';\nconst options = Object.values(earthEngines).map(_ref => {\n  let {\n    name,\n    earthEngineId\n  } = _ref;\n  return {\n    label: name,\n    value: earthEngineId\n  };\n});\nconst EarthEngineId = () => /*#__PURE__*/React.createElement(\"div\", {\n  style: {\n    maxWidth: '350px'\n  }\n}, /*#__PURE__*/React.createElement(StyledField, {\n  component: SingleSelectFieldFF,\n  name: EARTH_ENGINE_ID,\n  label: i18n.t('Earth Engine data set'),\n  options: options,\n  dataTest: \"input-earthengine-id\",\n  placeholder: i18n.t('Select earth engine data set'),\n  filled: true,\n  initialFocus: true,\n  validate: hasValue\n}));\nexport { EarthEngineId };","// extracted by mini-css-extract-plugin\nexport default {\"orgUnitDimension\":\"OrgUnitDimension_orgUnitDimension__Bvzuv\",\"left\":\"OrgUnitDimension_left__1Qzv0\",\"right\":\"OrgUnitDimension_right__VpaqX\",\"summary\":\"OrgUnitDimension_summary__ckgAu\",\"summaryText\":\"OrgUnitDimension_summaryText__TGlPt\",\"deselectButton\":\"OrgUnitDimension_deselectButton__xlcDG\"};","import { apiFetchOrganisationUnitLevels, ouIdHelper, DIMENSION_ID_ORGUNIT } from '@dhis2/analytics';\nimport { useDataEngine } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { OrganisationUnitTree, MultiSelect, MultiSelectOption, Button } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React, { useEffect, useState } from 'react';\nimport styles from './styles/OrgUnitDimension.module.css';\n\n// This file has been copies and adapted from @dhis2/analytics OrgUnitDimension\n\nconst formatList = items => {\n  try {\n    const formatter = new Intl.ListFormat(i18n.language, {\n      style: 'long',\n      type: 'conjunction'\n    });\n    return formatter.format(items);\n  } catch (error) {\n    return items.join(', ');\n  }\n};\nconst OrgUnitDimension = _ref => {\n  let {\n    roots,\n    selected,\n    onSelect\n  } = _ref;\n  const [ouLevels, setOuLevels] = useState([]);\n  const dataEngine = useDataEngine();\n  const onSelectItems = selectedItem => {\n    const {\n      id,\n      checked,\n      displayName,\n      path\n    } = selectedItem;\n    let result = [...selected];\n    if (checked) {\n      result.push({\n        id,\n        path,\n        name: displayName\n      });\n    } else {\n      result = [...result.filter(item => item.id !== id)];\n    }\n    onSelect({\n      dimensionId: DIMENSION_ID_ORGUNIT,\n      items: result\n    });\n  };\n  const clearSelection = () => onSelect({\n    dimensionId: DIMENSION_ID_ORGUNIT,\n    items: []\n  });\n  useEffect(() => {\n    const doFetchOuLevels = async () => {\n      const result = await apiFetchOrganisationUnitLevels(dataEngine);\n      result.sort((a, b) => a.level > b.level ? 1 : -1);\n      setOuLevels(result);\n    };\n    doFetchOuLevels();\n  }, [dataEngine]);\n  const onLevelChange = ids => {\n    const items = ids.map(id => ({\n      id: ouIdHelper.addLevelPrefix(id),\n      name: ouLevels.find(level => level.id === id).displayName\n    }));\n    onSelect({\n      dimensionId: DIMENSION_ID_ORGUNIT,\n      items: [...selected.filter(ou => !ouIdHelper.hasLevelPrefix(ou.id)), ...items]\n    });\n  };\n  const getSummary = () => {\n    let summary;\n    if (selected.length) {\n      const numberOfOrgUnits = selected.filter(item => !ouIdHelper.hasLevelPrefix(item.id)).length;\n      const numberOfLevels = selected.filter(item => ouIdHelper.hasLevelPrefix(item.id)).length;\n      const parts = [];\n      if (numberOfOrgUnits) {\n        parts.push(i18n.t('{{count}} org units', {\n          count: numberOfOrgUnits,\n          defaultValue: '{{count}} org unit',\n          defaultValue_plural: '{{count}} org units'\n        }));\n      }\n      if (numberOfLevels) {\n        parts.push(i18n.t('{{count}} levels', {\n          count: numberOfLevels,\n          defaultValue: '{{count}} level',\n          defaultValue_plural: '{{count}} levels'\n        }));\n      }\n      summary = i18n.t('Selected: {{commaSeparatedListOfOrganisationUnits}}', {\n        keySeparator: '>',\n        nsSeparator: '|',\n        commaSeparatedListOfOrganisationUnits: formatList(parts)\n      });\n    } else {\n      summary = i18n.t('Nothing selected');\n    }\n    return summary;\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.orgUnitDimension\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.left\n  }, /*#__PURE__*/React.createElement(OrganisationUnitTree, {\n    roots: roots,\n    initiallyExpanded: [...(roots.length === 1 ? [`/${roots[0]}`] : []), ...selected.filter(item => !ouIdHelper.hasLevelPrefix(item.id)).map(item => item.path.substring(0, item.path.lastIndexOf('/'))).filter(path => path)],\n    selected: selected.filter(item => !ouIdHelper.hasLevelPrefix(item.id)).map(item => item.path),\n    onChange: onSelectItems\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.right\n  }, /*#__PURE__*/React.createElement(MultiSelect, {\n    selected: ouLevels.length ? selected.filter(item => ouIdHelper.hasLevelPrefix(item.id)).map(item => ouIdHelper.removePrefix(item.id)) : [],\n    onChange: _ref2 => {\n      let {\n        selected\n      } = _ref2;\n      return onLevelChange(selected);\n    },\n    placeholder: i18n.t('Select a level'),\n    loading: !ouLevels.length,\n    dense: true\n  }, ouLevels.map(level => /*#__PURE__*/React.createElement(MultiSelectOption, {\n    key: level.id,\n    value: level.id,\n    label: level.displayName\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.summary\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.summaryText\n  }, getSummary()), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.deselectButton\n  }, /*#__PURE__*/React.createElement(Button, {\n    secondary: true,\n    small: true,\n    onClick: clearSelection,\n    disabled: !selected.length\n  }, i18n.t('Deselect all'))))));\n};\nOrgUnitDimension.propTypes = {\n  roots: PropTypes.arrayOf(PropTypes.string),\n  selected: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    name: PropTypes.string.isRequired,\n    path: PropTypes.string\n  })),\n  onSelect: PropTypes.func\n};\nexport { OrgUnitDimension };","import i18n from '@dhis2/d2-i18n';\nimport { ReactFinalForm, ComponentCover, CenteredContent, CircularLoader, Help, hasValue, composeValidators } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { FormField } from '../../../components/index.js';\nimport { useCachedDataQuery } from '../util/CachedQueryProvider.js';\nimport { OrgUnitDimension } from './OrgUnitDimension.js';\nconst {\n  Field\n} = ReactFinalForm;\nconst Wrapper = _ref => {\n  let {\n    input: {\n      value,\n      onChange\n    },\n    meta\n  } = _ref;\n  const {\n    rootOrgUnits\n  } = useCachedDataQuery();\n  return /*#__PURE__*/React.createElement(React.Fragment, null, !rootOrgUnits ? /*#__PURE__*/React.createElement(ComponentCover, null, /*#__PURE__*/React.createElement(CenteredContent, null, /*#__PURE__*/React.createElement(CircularLoader, null))) : /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(OrgUnitDimension, {\n    roots: rootOrgUnits,\n    selected: value,\n    onSelect: _ref2 => {\n      let {\n        items\n      } = _ref2;\n      return onChange(items);\n    },\n    showUserOrgUnits: false\n  })), (meta.touched || !meta.pristine) && meta.error && /*#__PURE__*/React.createElement(Help, {\n    error: true\n  }, meta.error));\n};\nWrapper.propTypes = {\n  input: PropTypes.shape({\n    value: PropTypes.arrayOf(PropTypes.object).isRequired,\n    onChange: PropTypes.func\n  }).isRequired,\n  meta: PropTypes.shape({\n    error: PropTypes.string,\n    pristine: PropTypes.bool,\n    touched: PropTypes.bool\n  }).isRequired\n};\nconst AT_LEAST_ONE_ORG_VALIDATOR = selectedOrgUnits => {\n  // confirm that there is at least one org unit from the tree, not just level\n  const realOrgUnits = selectedOrgUnits.find(ou => ou.id.indexOf('LEVEL') === -1) || [];\n  return realOrgUnits.length == 0 ? i18n.t('At least one organisation unit must be selected') : undefined;\n};\nconst OrganisationUnits = () => {\n  const validator = composeValidators(hasValue, AT_LEAST_ONE_ORG_VALIDATOR);\n  return /*#__PURE__*/React.createElement(FormField, {\n    label: i18n.t('Organisation unit(s) to import data to'),\n    dataTest: \"input-organisationUnits-formField\"\n  }, /*#__PURE__*/React.createElement(Field, {\n    component: Wrapper,\n    name: \"organisationUnits\",\n    validate: validator\n  }));\n};\nexport { OrganisationUnits };","import i18n from '@dhis2/d2-i18n';\nimport { loadEarthEngineWorker } from '@dhis2/maps-gl';\nimport { earthEngines } from './earthEngines.js';\nconst DEFAULT_LOCALE = 'en';\nconst fallbackDateFormat = dateString => dateString.substr(0, 10);\nconst hasIntlSupport = typeof global.Intl !== 'undefined' && Intl.DateTimeFormat;\nconst dateLocale = locale => locale && locale.includes('_') ? locale.replace('_', '-') : locale;\nconst toDate = date => {\n  if (Array.isArray(date)) {\n    return new Date(date[0], date[1], date[2]);\n  }\n  return new Date(date);\n};\nconst formatLocaleDate = dateString => hasIntlSupport ? new Intl.DateTimeFormat(dateLocale(i18n.language || DEFAULT_LOCALE), {\n  year: 'numeric',\n  month: 'short',\n  day: 'numeric'\n}).format(toDate(dateString)) : fallbackDateFormat(dateString);\nconst formatStartEndDate = (startDate, endDate) => {\n  return `${formatLocaleDate(startDate)} - ${formatLocaleDate(endDate)}`;\n};\nconst getStartEndDate = data => formatStartEndDate(data['system:time_start'], data['system:time_end'] // - 7200001, // Minus 2 hrs to end the day before\n);\n\nlet workerPromise;\n\n// Load EE worker and set token\nconst getWorkerInstance = async engine => {\n  workerPromise = workerPromise || (async () => {\n    const EarthEngineWorker = await loadEarthEngineWorker(getAuthToken(engine));\n    return await new EarthEngineWorker();\n  })();\n  return workerPromise;\n};\nexport const getPeriods = async (eeId, engine) => {\n  const {\n    periodType,\n    filters\n  } = earthEngines[eeId];\n  const getPeriod = _ref => {\n    let {\n      id,\n      properties\n    } = _ref;\n    const year = new Date(properties['system:time_start']).getFullYear();\n    const name = periodType === 'Yearly' ? String(year) : getStartEndDate(properties);\n    return {\n      id,\n      name,\n      year\n    };\n  };\n  const eeWorker = await getWorkerInstance(engine);\n  const {\n    features\n  } = await eeWorker.getPeriods(earthEngines[eeId].datasetId);\n  const periods = features.map(getPeriod).map(p => {\n    const period = filters ? filters(p)[0] : p;\n    return {\n      label: p.name,\n      value: p.year.toString(),\n      ...period\n    };\n  });\n  return Promise.resolve(periods);\n};\nexport const getAggregations = async (engine, config) => {\n  const eeWorker = await getWorkerInstance(engine);\n  const aggregations = await eeWorker.getAggregations(config);\n  return aggregations;\n};\n\n// Returns auth token for EE API as a promise\nconst getAuthToken = engine => () => {\n  const googleTokenQuery = {\n    data: {\n      resource: 'tokens/google'\n    }\n  };\n\n  /* eslint-disable-next-line no-async-promise-executor */\n  return new Promise(async (resolve, reject) => {\n    const result = await engine.query(googleTokenQuery).catch(() => reject(new Error(i18n.t('Cannot get authorization token for Google Earth Engine.'))));\n    const token = result.data;\n    if (token && token.status === 'ERROR') {\n      reject(new Error(i18n.t('Requires a Google Earth Engine account. Check the DHIS2 documentation for more information.')));\n    }\n    resolve({\n      token_type: 'Bearer',\n      ...token\n    });\n  });\n};","import { useDataEngine } from '@dhis2/app-runtime';\n// import i18n from '@dhis2/d2-i18n'\nimport { useState, useEffect } from 'react';\nimport { getPeriods } from '../util/earthEngineHelper.js';\nconst usePeriods = eeId => {\n  const engine = useDataEngine();\n  // const [error , setError] = useState(undefined)\n  const [loading, setLoading] = useState(true);\n  const [periods, setPeriods] = useState([]);\n  useEffect(() => {\n    const asyncGetPeriods = async () => {\n      const p = await getPeriods(eeId, engine);\n      setPeriods(p);\n      setLoading(false);\n    };\n    if (eeId) {\n      setLoading(true);\n      asyncGetPeriods();\n    } else {\n      setLoading(false);\n    }\n  }, [eeId, engine]);\n\n  // TODO handle errors\n  // const validationText =\n  //     error &&\n  //     `${i18n.t(\n  //         'Something went wrong when loading the Earth Engine periods'\n  //     )} : ${error.message}`\n\n  return {\n    loading,\n    /*error, validationText,*/periods\n  };\n};\nexport { usePeriods };","import i18n from '@dhis2/d2-i18n';\nimport { ReactFinalForm, SingleSelectFieldFF, hasValue } from '@dhis2/ui';\nimport React, { useEffect } from 'react';\nimport { StyledField, Tooltip } from '../../../components/index.js';\nimport { EARTH_ENGINE_ID, PERIOD } from '../util/formFieldConstants.js';\nimport { usePeriods } from './usePeriods.js';\nconst {\n  useField,\n  useForm\n} = ReactFinalForm;\nconst Periods = () => {\n  const {\n    change\n  } = useForm();\n  const {\n    input\n  } = useField(EARTH_ENGINE_ID);\n  const {\n    value: earthEngineId\n  } = input;\n  const {\n    loading,\n    periods\n  } = usePeriods(earthEngineId);\n  useEffect(() => {\n    change(PERIOD, undefined);\n    if (periods.length === 1) {\n      change(PERIOD, periods[0].value);\n    }\n  }, [earthEngineId, periods, change]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      maxWidth: '200px'\n    }\n  }, /*#__PURE__*/React.createElement(Tooltip, {\n    disabled: !earthEngineId,\n    content: i18n.t('You must select an Earth Engine data set before selecting a period')\n  }, /*#__PURE__*/React.createElement(StyledField, {\n    component: SingleSelectFieldFF,\n    name: PERIOD,\n    label: i18n.t('Period'),\n    options: periods,\n    dataTest: \"input-period-type\",\n    helpText: i18n.t('Data from Earth Engine will be imported for this period.'),\n    placeholder: i18n.t('Select period'),\n    loading: loading,\n    loadingText: i18n.t('Loading periods'),\n    empty: i18n.t('No periods found'),\n    filled: true,\n    validate: hasValue,\n    disabled: !earthEngineId\n  })));\n};\nexport { Periods };","import i18n from '@dhis2/d2-i18n';\nimport { SingleSelectFieldFF } from '@dhis2/ui';\nimport React from 'react';\nimport { StyledField } from '../../../components/index.js';\nimport { ROUNDING } from '../util/formFieldConstants.js';\nconst roundings = [{\n  label: i18n.t(\"Don't round source values\"),\n  value: '-1'\n}, {\n  label: i18n.t('Round to 0 decimal places'),\n  value: '0'\n}, {\n  label: i18n.t('Round to 1 decimal place'),\n  value: '1'\n}, {\n  label: i18n.t('Round to 2 decimal places'),\n  value: '2'\n}, {\n  label: i18n.t('Round to 3 decimal places'),\n  value: '3'\n}, {\n  label: i18n.t('Round to 4 decimal places'),\n  value: '4'\n}, {\n  label: i18n.t('Round to 5 decimal places'),\n  value: '5'\n}, {\n  label: i18n.t('Round to 6 decimal places'),\n  value: '6'\n}];\nconst defaultRoundingOption = roundings[0].value;\nconst Rounding = () => /*#__PURE__*/React.createElement(\"div\", {\n  style: {\n    maxWidth: '300px'\n  }\n}, /*#__PURE__*/React.createElement(StyledField, {\n  component: SingleSelectFieldFF,\n  name: ROUNDING,\n  label: i18n.t('Value rounding'),\n  options: roundings,\n  dataTest: \"input-rounding\",\n  filled: true\n}));\nexport { Rounding, defaultRoundingOption };","const sortByLevel = orgUnits => {\n  orgUnits.sort((a, b) => a.le - b.le);\n  return orgUnits;\n};\nconst TYPE_POINT = 'Point';\nconst TYPE_POLYGON = 'Polygon';\nconst TYPE_MULTIPOLYGON = 'MultiPolygon';\nconst TYPE_FEATURE = 'Feature';\n\n//Returns an array with all falsey values removed.\n//copied from lodash\nconst compact = arr => {\n  let resIndex = 0;\n  const result = [];\n  if (arr == null) {\n    return result;\n  }\n  for (const value of arr) {\n    if (value) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n};\nexport const toGeoJson = organisationUnits => sortByLevel(organisationUnits).map(ou => {\n  const coord = JSON.parse(ou.co);\n  let gpid = '';\n  let gppg = '';\n  let type = TYPE_POINT;\n  if (ou.ty === 2) {\n    type = TYPE_POLYGON;\n    if (ou.co.substring(0, 4) === '[[[[') {\n      type = TYPE_MULTIPOLYGON;\n    }\n  }\n\n  // Grand parent\n  if (typeof ou.pg === 'string' && ou.pg.length) {\n    const ids = compact(ou.pg.split('/'));\n\n    // Grand parent id\n    if (ids.length >= 2) {\n      gpid = ids[ids.length - 2];\n    }\n\n    // Grand parent parent graph\n    if (ids.length > 2) {\n      gppg = '/' + ids.slice(0, ids.length - 2).join('/');\n    }\n  }\n  return {\n    type: TYPE_FEATURE,\n    id: ou.id,\n    geometry: {\n      type,\n      coordinates: coord\n    },\n    properties: {\n      type,\n      id: ou.id,\n      name: ou.na,\n      hasCoordinatesDown: ou.hcd,\n      hasCoordinatesUp: ou.hcu,\n      level: ou.le,\n      grandParentParentGraph: gppg,\n      grandParentId: gpid,\n      parentGraph: ou.pg,\n      parentId: ou.pi,\n      parentName: ou.pn,\n      dimensions: ou.dimensions\n    }\n  };\n}).filter(_ref => {\n  let {\n    geometry\n  } = _ref;\n  return Array.isArray(geometry.coordinates) && geometry.coordinates.length;\n});","import i18n from '@dhis2/d2-i18n';\nimport { NO_ASSOCIATED_GEOMETRY } from '../components/AssociatedGeometry.js';\nimport { earthEngines, getEarthEngineBands } from './earthEngines.js';\nimport { toGeoJson } from './toGeoJson.js';\nconst getGeoFeaturesQuery = (ouIds, coordinateField) => ({\n  resource: 'geoFeatures',\n  params: {\n    ou: ouIds,\n    coordinateField\n  }\n});\nconst earthEngineParams = ['format', 'aggregationType', 'band', 'bandReducer', 'datasetId', 'data', 'filter', 'mosaic', 'params', 'tileScale'];\nconst TILE_SCALE = 4;\nconst getEarthEngineConfig = async (_ref, engine) => {\n  let {\n    earthEngineId,\n    organisationUnits,\n    associatedGeometry,\n    period,\n    periods,\n    aggregationType,\n    selectedBandCocs\n  } = _ref;\n  if (!organisationUnits || !organisationUnits.length) {\n    throw new Error(i18n.t('No organisation units have been selected'));\n  }\n  const orgUnitIds = organisationUnits.map(ou => ou.id);\n  const ouIdsString = orgUnitIds.reduce((previousValue, currentValue) => {\n    return previousValue.concat(`${currentValue};`);\n  }, 'ou:');\n  const coordinateField = associatedGeometry !== NO_ASSOCIATED_GEOMETRY ? associatedGeometry : undefined;\n  const query = getGeoFeaturesQuery(ouIdsString, coordinateField);\n  const geoFeatures = await engine.query({\n    geoFeatures: query\n  });\n  // only polygons, no points to the Earth Engine\n  const polygonFeatures = toGeoJson(geoFeatures.geoFeatures.filter(gf => gf.ty === 2));\n  if (!polygonFeatures.length) {\n    throw new Error(i18n.t('It is not possible to get data from Earth Engine for point facilities. Select polygon organisation units or use a catchment area as associated geometry.'));\n  }\n  const pointFeatures = toGeoJson(geoFeatures.geoFeatures.filter(gf => gf.ty === 1)) || [];\n  const pointOrgUnits = pointFeatures.map(_ref2 => {\n    let {\n      properties\n    } = _ref2;\n    return {\n      id: properties.id,\n      name: properties.name,\n      parentName: properties.parentName\n    };\n  });\n  const cfg = {\n    ...earthEngines[earthEngineId],\n    aggregationType: [aggregationType],\n    filter: periods.filter(p => period === p.name),\n    tileScale: TILE_SCALE,\n    data: polygonFeatures\n  };\n  if (getEarthEngineBands(earthEngineId).length && selectedBandCocs) {\n    cfg.band = selectedBandCocs.map(bc => bc.id);\n  }\n  const config = Object.fromEntries(earthEngineParams.filter(key => key in cfg).map(key => [key, cfg[key]]));\n  return {\n    config,\n    pointOrgUnits\n  };\n};\nexport { getEarthEngineConfig };","import { getPrecisionFn } from './getPrecisionFn.js';\nconst AGGREGATION_TYPE_SUM = 'sum';\nconst AGGREGATION_TYPE_MIN = 'min';\nconst AGGREGATION_TYPE_MAX = 'max';\nconst AGGREGATION_TYPE_MEAN = 'mean';\nconst AGGREGATION_TYPE_MEDIAN = 'median';\nconst AGGREGATION_TYPE_STDDEV = 'stdDev';\nconst AGGREGATION_TYPE_VARIANCE = 'variance';\nconst ALL_AGGREGATION_TYPES = [AGGREGATION_TYPE_SUM, AGGREGATION_TYPE_MIN, AGGREGATION_TYPE_MAX, AGGREGATION_TYPE_MEAN, AGGREGATION_TYPE_MEDIAN, AGGREGATION_TYPE_STDDEV, AGGREGATION_TYPE_VARIANCE];\nexport const OU_ID = 'ouId';\nexport const OU_PARENT_NAME = 'ouParentName';\nexport const OU_NAME = 'ouName';\nexport const BAND_ID = 'id';\nexport const COC_ID = 'coc';\nexport const VALUE = 'value';\nconst isAggregation = bandId => ALL_AGGREGATION_TYPES.includes(bandId);\nconst getStructuredData = _ref => {\n  let {\n    data,\n    selectedBandCocs,\n    ouIdNameMap,\n    rounding,\n    aggregationType\n  } = _ref;\n  const getValueWithPrecision = getPrecisionFn(rounding);\n  return Object.entries(data).reduce((acc, _ref2) => {\n    let [ouId, valueSet] = _ref2;\n    if (selectedBandCocs.length === 1) {\n      acc.push({\n        [OU_ID]: ouId,\n        [OU_PARENT_NAME]: ouIdNameMap[ouId].parentName,\n        [OU_NAME]: ouIdNameMap[ouId].name,\n        [BAND_ID]: selectedBandCocs[0].id,\n        [VALUE]: getValueWithPrecision(valueSet[aggregationType])\n      });\n    } else if (selectedBandCocs.length > 1) {\n      Object.entries(valueSet).forEach(_ref3 => {\n        let [groupId, rawValue] = _ref3;\n        if (!isAggregation(groupId)) {\n          acc.push({\n            [OU_ID]: ouId,\n            [OU_PARENT_NAME]: ouIdNameMap[ouId].parentName,\n            [OU_NAME]: ouIdNameMap[ouId].name,\n            [BAND_ID]: groupId,\n            [VALUE]: getValueWithPrecision(rawValue)\n          });\n        }\n      });\n    } else {\n      acc.push({\n        [OU_ID]: ouId,\n        [OU_PARENT_NAME]: ouIdNameMap[ouId].parentName,\n        [OU_NAME]: ouIdNameMap[ouId].name,\n        [VALUE]: getValueWithPrecision(valueSet[aggregationType])\n      });\n    }\n    return acc;\n  }, []);\n};\nexport { getStructuredData };","// Returns a function that will return a value with the given precision\nconst getPrecisionFn = numDecimals => {\n  const decimals = parseInt(numDecimals);\n  if (decimals === -1) {\n    return n => n;\n  }\n  const m = Math.pow(10, decimals);\n  return n => Math.round(n * m) / m;\n};\nexport { getPrecisionFn };","import { useDataEngine } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { useState } from 'react';\nimport { getPeriods, getAggregations } from '../util/earthEngineHelper.js';\nimport { getDefaultAggregation } from '../util/earthEngines.js';\nimport { getEarthEngineConfig } from '../util/getEarthEngineConfig.js';\nimport { getStructuredData } from '../util/getStructuredData.js';\nconst useEeData = () => {\n  const engine = useDataEngine();\n  const [eeData, setEeData] = useState([]);\n  const [pointOuRows, setPointOuRows] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(null);\n  const fetchEeData = async _ref => {\n    let {\n      earthEngineId,\n      organisationUnits,\n      associatedGeometry,\n      period,\n      rounding,\n      bandCocs = []\n    } = _ref;\n    const selectedBandCocs = bandCocs.filter(bc => !!bc.coc);\n    const aggregationType = getDefaultAggregation(earthEngineId);\n    setLoading(true);\n    setErrorMessage(null);\n    try {\n      var _config$data;\n      const periods = await getPeriods(earthEngineId, engine);\n      const {\n        config,\n        pointOrgUnits\n      } = await getEarthEngineConfig({\n        earthEngineId,\n        organisationUnits,\n        associatedGeometry,\n        period,\n        periods,\n        aggregationType,\n        selectedBandCocs\n      }, engine);\n      const data = await getAggregations(engine, config);\n      const ouIdNameMap = (_config$data = config.data) === null || _config$data === void 0 ? void 0 : _config$data.reduce((acc, curr) => {\n        acc[curr.id] = curr.properties;\n        return acc;\n      }, {});\n      const structuredData = getStructuredData({\n        data,\n        selectedBandCocs,\n        ouIdNameMap,\n        rounding,\n        aggregationType\n      });\n      setEeData(structuredData);\n      setPointOuRows(pointOrgUnits);\n      setLoading(false);\n    } catch (error) {\n      console.log('Error while loading Earth Engine data', error);\n      setEeData([]);\n      setPointOuRows(null);\n      setLoading(false);\n      const message = error.message || error;\n      let msg = i18n.t('An error occurred while trying to fetch Earth Engine data');\n      if (message.includes('Output of image computation is too large')) {\n        msg = i18n.t('The Earth Engine data set is too large. Try reducing the number of groups or organisation units');\n      } else if (message.includes('Dimension is present in query without any valid dimension options: `ou`')) {\n        msg = i18n.t('The organisation units selection is invalid');\n      } else if (message.length) {\n        msg = msg.concat(`: ${message}`);\n      }\n      setErrorMessage(msg);\n      return;\n    }\n  };\n  return {\n    eeData,\n    pointOuRows,\n    loading,\n    errorMessage,\n    fetchEeData\n  };\n};\nexport { useEeData };","// extracted by mini-css-extract-plugin\nexport default {\"hiddenTopElement\":\"EarthEngineImportForm_hiddenTopElement__HY4q0\",\"sectionHeader\":\"EarthEngineImportForm_sectionHeader__3Et2h\",\"wrapper\":\"EarthEngineImportForm_wrapper__UrB5Y\",\"buttonWrapper\":\"EarthEngineImportForm_buttonWrapper__-njQC\"};","// import { FORM_ERROR, jobStartedMessage } from '../../utils/final-form.js' // TODO\nimport { genericErrorMessage } from '../../utils/helper.js';\nimport { extractIdAndMessage } from '../../utils/xhr.js';\nimport { OU_ID, BAND_ID, VALUE } from './util/getStructuredData.js';\nconst isAsync = true;\nconst onImport = _ref => {\n  let {\n    engine,\n    setProgress,\n    addTask,\n    setShowFullSummaryTask\n  } = _ref;\n  return async values => {\n    const {\n      dryRun,\n      eeData,\n      dataElementId: dataElement,\n      period,\n      bandCocs = []\n    } = values;\n    setProgress(true);\n    let dataValues;\n    if (bandCocs.length) {\n      dataValues = eeData.map(d => ({\n        dataElement,\n        period,\n        orgUnit: d[OU_ID],\n        categoryOptionCombo: bandCocs.find(bc => bc.id === d[BAND_ID]).coc,\n        value: d[VALUE]\n      }));\n    } else {\n      dataValues = eeData.map(d => ({\n        dataElement,\n        period,\n        orgUnit: d[OU_ID],\n        value: d[VALUE]\n      }));\n    }\n    const mutation = {\n      resource: 'dataValueSets',\n      type: 'create',\n      params: {\n        async: isAsync,\n        dryRun\n      },\n      data: {\n        dataValues\n      }\n    };\n    engine.mutate(mutation, {\n      onComplete: resp => {\n        setProgress(false);\n        const {\n          id,\n          error,\n          msg,\n          typeReports\n        } = extractIdAndMessage(resp);\n        const currentDate = new Date();\n        const entry = {\n          id: id || currentDate.getTime(),\n          created: currentDate,\n          lastUpdated: currentDate,\n          importType: 'DATAVALUE_IMPORT',\n          level: error ? 'ERROR' : 'INFO',\n          completed: Boolean(!isAsync || error),\n          events: msg ? [msg] : undefined,\n          error: Boolean(error),\n          summary: !isAsync || error && msg ? typeReports : undefined\n        };\n        addTask('earthengine', id, {\n          ...entry,\n          jobDetails: values\n        });\n        setShowFullSummaryTask(true);\n      },\n      onError: err => {\n        setProgress(false);\n        // 404 - err is a string\n        console.log('err', err);\n        const message = err !== null && err !== void 0 && err.length ? err : genericErrorMessage;\n        console.error('uploadJson error', message);\n        // reject(errF(message))\n      }\n    });\n  };\n};\n\nexport { onImport };","import { useDataEngine } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { ReactFinalForm, Divider, Button } from '@dhis2/ui';\nimport arrayMutators from 'final-form-arrays';\nimport React, { useState, useContext, useRef } from 'react';\nimport { Page, DataIcon, Tooltip } from '../../components/index.js';\nimport { FormAlerts, ImportButtonStrip } from '../../components/Inputs/index.js';\nimport { TaskContext, getNewestTask } from '../../contexts/index.js';\nimport { AssociatedGeometry } from './components/AssociatedGeometry.js';\nimport { BandCocMappingTable } from './components/BandCocMappingTable.js';\nimport { DataElements } from './components/DataElements.js';\nimport { DataPreview } from './components/DataPreview.js';\nimport { EarthEngineId } from './components/EarthEngineId.js';\nimport { OrganisationUnits } from './components/OrganisationUnits.js';\nimport { Periods } from './components/Periods.js';\nimport { Rounding, defaultRoundingOption } from './components/Rounding.js';\nimport { useEeData } from './components/useEeData.js';\nimport styles from './EarthEngineImportForm.module.css';\nimport { onImport } from './form-helper.js';\nimport { getEarthEngineBands } from './util/earthEngines.js';\nimport { ORGANISATION_UNITS, ROUNDING, DATA_ELEMENT_ID, EARTH_ENGINE_ID } from './util/formFieldConstants.js';\nconst {\n  Form,\n  FormSpy\n} = ReactFinalForm;\nconst EarthEngineImportForm = () => {\n  const {\n    tasks: {\n      earthengine: earthengineTasks\n    },\n    addTask\n  } = useContext(TaskContext);\n  const engine = useDataEngine();\n  const [progress, setProgress] = useState(false);\n  const [showFullSummaryTask, setShowFullSummaryTask] = useState(false);\n  const {\n    eeData,\n    pointOuRows,\n    loading,\n    errorMessage,\n    fetchEeData\n  } = useEeData();\n\n  // for scrolling to the Job summary which is placed at the top\n  const hiddenTopElRef = useRef(null);\n  const initialValues = {\n    [ROUNDING]: defaultRoundingOption,\n    [ORGANISATION_UNITS]: [],\n    [DATA_ELEMENT_ID]: null\n  };\n  const mappingTableShouldDisplay = _ref => {\n    let {\n      values\n    } = _ref;\n    return values && getEarthEngineBands(values[EARTH_ENGINE_ID]).length && values[DATA_ELEMENT_ID];\n  };\n  const previewIsAllowed = _ref2 => {\n    var _values$bandCocs;\n    let {\n      valid,\n      values,\n      modifiedSinceLastSubmit\n    } = _ref2;\n    // no preview until there are some valid bands\n    const bandsValid = getEarthEngineBands(values[EARTH_ENGINE_ID]).length ? !!((_values$bandCocs = values.bandCocs) !== null && _values$bandCocs !== void 0 && _values$bandCocs.find(bc => !!bc.coc)) : true;\n    const modified = errorMessage ? modifiedSinceLastSubmit : true;\n    return valid && bandsValid && modified;\n  };\n  const wrappedSetShowFullSummaryTask = val => {\n    var _hiddenTopElRef$curre;\n    setShowFullSummaryTask(val);\n    hiddenTopElRef === null || hiddenTopElRef === void 0 ? void 0 : (_hiddenTopElRef$curre = hiddenTopElRef.current) === null || _hiddenTopElRef$curre === void 0 ? void 0 : _hiddenTopElRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  };\n  const onImportInternal = onImport({\n    engine,\n    setProgress,\n    addTask,\n    setShowFullSummaryTask: wrappedSetShowFullSummaryTask\n  });\n  const onSubmit = values => {\n    if (!loading && !errorMessage) {\n      onImportInternal({\n        eeData,\n        ...values\n      });\n    }\n  };\n  const getAlerts = submitError => {\n    const internalErrors = [];\n    if (errorMessage) {\n      internalErrors.push({\n        id: 'getEeDataFailed',\n        message: errorMessage,\n        critical: true,\n        info: false,\n        warning: false\n      });\n    }\n    return Array.isArray(submitError) ? submitError.concat(internalErrors) : internalErrors;\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    ref: hiddenTopElRef,\n    className: styles.hiddenTopElement\n  }), /*#__PURE__*/React.createElement(Page, {\n    title: i18n.t('Earth Engine import'),\n    desc: i18n.t('Import high resolution population data from WorldPop using Google Earth Engine.'),\n    icon: /*#__PURE__*/React.createElement(DataIcon, null),\n    loading: progress,\n    dataTest: \"page-import-earthengine\",\n    summaryTask: getNewestTask(earthengineTasks),\n    showFullSummaryTask: showFullSummaryTask\n  }, /*#__PURE__*/React.createElement(Form, {\n    onSubmit: onSubmit,\n    initialValues: initialValues,\n    keepDirtyOnReinitialize: true,\n    mutators: {\n      ...arrayMutators\n    },\n    render: _ref3 => {\n      let {\n        handleSubmit,\n        submitError,\n        form\n      } = _ref3;\n      return /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: handleSubmit\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: styles.wrapper\n      }, /*#__PURE__*/React.createElement(\"h2\", {\n        className: styles.sectionHeader\n      }, i18n.t('Earth Engine source')), /*#__PURE__*/React.createElement(Divider, null), /*#__PURE__*/React.createElement(EarthEngineId, null), /*#__PURE__*/React.createElement(Periods, null), /*#__PURE__*/React.createElement(Rounding, null), /*#__PURE__*/React.createElement(\"h2\", {\n        className: styles.sectionHeader\n      }, i18n.t('Organisation units')), /*#__PURE__*/React.createElement(Divider, null), /*#__PURE__*/React.createElement(OrganisationUnits, null), /*#__PURE__*/React.createElement(AssociatedGeometry, null), /*#__PURE__*/React.createElement(\"h2\", {\n        className: styles.sectionHeader\n      }, i18n.t('Import setup')), /*#__PURE__*/React.createElement(Divider, null), /*#__PURE__*/React.createElement(DataElements, null), /*#__PURE__*/React.createElement(FormSpy, {\n        subscription: {\n          values: true\n        }\n      }, _ref4 => {\n        let {\n          values\n        } = _ref4;\n        return mappingTableShouldDisplay({\n          values\n        }) ? /*#__PURE__*/React.createElement(BandCocMappingTable, null) : null;\n      }), /*#__PURE__*/React.createElement(FormSpy, {\n        subscription: {\n          values: true,\n          valid: true,\n          modifiedSinceLastSubmit: true\n        }\n      }, _ref5 => {\n        let {\n          valid,\n          values,\n          modifiedSinceLastSubmit\n        } = _ref5;\n        return !modifiedSinceLastSubmit && !loading && eeData !== null && eeData !== void 0 && eeData.length ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h2\", {\n          className: styles.sectionHeader\n        }, i18n.t('Data preview')), /*#__PURE__*/React.createElement(Divider, null)) : /*#__PURE__*/React.createElement(Tooltip, {\n          disabled: !valid,\n          content: i18n.t('Some required fields are missing')\n        }, /*#__PURE__*/React.createElement(Button, {\n          primary: true,\n          type: \"submit\",\n          disabled: !previewIsAllowed({\n            valid,\n            values,\n            modifiedSinceLastSubmit\n          }),\n          onClick: () => fetchEeData(values)\n        }, i18n.t('Preview before import')));\n      }), /*#__PURE__*/React.createElement(FormSpy, {\n        subscription: {\n          modifiedSinceLastSubmit: true\n        }\n      }, _ref6 => {\n        let {\n          modifiedSinceLastSubmit\n        } = _ref6;\n        return /*#__PURE__*/React.createElement(DataPreview, {\n          modifiedSinceLastSubmit: modifiedSinceLastSubmit,\n          loading: loading,\n          eeData: eeData,\n          pointOuRows: pointOuRows\n        });\n      }), /*#__PURE__*/React.createElement(FormSpy, {\n        subscription: {\n          modifiedSinceLastSubmit: true\n        }\n      }, _ref7 => {\n        let {\n          modifiedSinceLastSubmit\n        } = _ref7;\n        return !modifiedSinceLastSubmit && !loading && eeData !== null && eeData !== void 0 && eeData.length ? /*#__PURE__*/React.createElement(\"div\", {\n          className: styles.buttonWrapper\n        }, /*#__PURE__*/React.createElement(ImportButtonStrip, {\n          form: form\n        })) : null;\n      }), /*#__PURE__*/React.createElement(FormAlerts, {\n        alerts: getAlerts(submitError)\n      })));\n    }\n  })));\n};\nexport { EarthEngineImportForm };","import i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport { NO_ASSOCIATED_GEOMETRY } from './components/AssociatedGeometry.js';\nimport { EarthEngineImportForm } from './EarthEngineImportForm.js';\nimport { CachedDataQueryProvider } from './util/CachedQueryProvider.js';\n\n// PAGE INFO\nexport const PAGE_NAME = i18n.t('Earth Engine import');\nexport const PAGE_DESCRIPTION = i18n.t('Import high resolution population data from WorldPop using Google Earth Engine.');\nconst query = {\n  rootOrgUnits: {\n    resource: 'organisationUnits',\n    params: {\n      fields: 'id,displayName,name',\n      userDataViewFallback: true,\n      paging: false\n    }\n  },\n  dataElements: {\n    resource: 'dataElements',\n    params: {\n      fields: 'id,displayName~rename(name),categoryCombo[categoryOptionCombos[id,code,displayName~rename(name)]]',\n      filter: 'domainType:eq:AGGREGATE',\n      paging: false\n    }\n  },\n  associatedGeometry: {\n    resource: 'attributes',\n    params: {\n      fields: 'id,displayName~rename(name)',\n      filter: ['valueType:eq:GEOJSON', 'organisationUnitAttribute:eq:true'],\n      paging: false\n    }\n  }\n};\nconst providerDataTransformation = _ref => {\n  var _rootOrgUnits$organis;\n  let {\n    rootOrgUnits,\n    dataElements,\n    associatedGeometry\n  } = _ref;\n  return {\n    rootOrgUnits: ((_rootOrgUnits$organis = rootOrgUnits.organisationUnits) === null || _rootOrgUnits$organis === void 0 ? void 0 : _rootOrgUnits$organis.map(ou => ou.id)) || [],\n    dataElements: dataElements.dataElements.map(de => ({\n      ...de,\n      value: de.id,\n      label: de.name\n    })),\n    associatedGeometry: [{\n      label: 'None',\n      value: NO_ASSOCIATED_GEOMETRY\n    }].concat(associatedGeometry.attributes.map(ag => {\n      return {\n        ...ag,\n        value: ag.id,\n        label: ag.name\n      };\n    }))\n  };\n};\nconst EarthEngineImport = () => /*#__PURE__*/React.createElement(CachedDataQueryProvider, {\n  query: query,\n  dataTransformation: providerDataTransformation\n}, /*#__PURE__*/React.createElement(EarthEngineImportForm, null));\nexport { EarthEngineImport };","import { useDataEngine } from '@dhis2/app-runtime';\nimport { DATE_BEFORE_VALIDATOR, DATE_AFTER_VALIDATOR } from '../../components/DatePicker/DatePickerField.js';\nimport { ALL_VALUE } from '../../hooks/useProgramStages.js';\n\n// Function to transform events data to match specified format\nconst transformEventsData = (eventsData, orgUnitsData, programsData) => {\n  var _orgUnitsData$organis, _programsData$program;\n  if (!(eventsData !== null && eventsData !== void 0 && eventsData.events) || !Array.isArray(eventsData.events)) {\n    return [];\n  }\n  const orgUnit = orgUnitsData === null || orgUnitsData === void 0 ? void 0 : (_orgUnitsData$organis = orgUnitsData.organisationUnits) === null || _orgUnitsData$organis === void 0 ? void 0 : _orgUnitsData$organis[0];\n  const program = programsData === null || programsData === void 0 ? void 0 : (_programsData$program = programsData.programs) === null || _programsData$program === void 0 ? void 0 : _programsData$program[0];\n\n  // Create lookup maps for data elements\n  const dataElementLookup = {};\n  if (program !== null && program !== void 0 && program.programStages) {\n    program.programStages.forEach(stage => {\n      var _stage$programStageDa;\n      (_stage$programStageDa = stage.programStageDataElements) === null || _stage$programStageDa === void 0 ? void 0 : _stage$programStageDa.forEach(psde => {\n        const de = psde.dataElement;\n        if (de) {\n          dataElementLookup[de.id] = de.displayName || de.name;\n        }\n      });\n    });\n  }\n  return eventsData.events.map(event => {\n    const transformedEvent = {\n      event: event.event || '',\n      status: event.status || '',\n      occurredAt: event.occurredAt || '',\n      createdAt: event.createdAt || '',\n      updatedAt: event.updatedAt || '',\n      project: (program === null || program === void 0 ? void 0 : program.displayName) || (program === null || program === void 0 ? void 0 : program.name) || event.program || '',\n      program: (orgUnit === null || orgUnit === void 0 ? void 0 : orgUnit.displayName) || (orgUnit === null || orgUnit === void 0 ? void 0 : orgUnit.name) || event.orgUnit || '',\n      Males: '',\n      District: '',\n      Females: '',\n      'Total Persons reached': ''\n    };\n\n    // Extract specific data values based on data element names\n    if (event.dataValues && Array.isArray(event.dataValues)) {\n      event.dataValues.forEach(dataValue => {\n        const elementName = dataElementLookup[dataValue.dataElement] || dataValue.dataElement;\n        const value = dataValue.value || '';\n\n        // Map data element names to our expected columns\n        if (elementName.toLowerCase().includes('male') && !elementName.toLowerCase().includes('female')) {\n          transformedEvent.Males = value;\n        } else if (elementName.toLowerCase().includes('female')) {\n          transformedEvent.Females = value;\n        } else if (elementName.toLowerCase().includes('district')) {\n          transformedEvent.District = value;\n        } else if (elementName.toLowerCase().includes('total') && elementName.toLowerCase().includes('person')) {\n          transformedEvent['Total Persons reached'] = value;\n        }\n      });\n    }\n    return transformedEvent;\n  });\n};\n\n// Custom hook to fetch and transform events data\nexport const useEventsData = () => {\n  const engine = useDataEngine();\n  const fetchEventsData = async params => {\n    try {\n      const {\n        selectedOrgUnits,\n        selectedPrograms,\n        programStage,\n        occurredAfter,\n        occurredBefore,\n        includeDeleted,\n        inclusion\n      } = params;\n\n      // Extract just the ID, handling both object format and path format\n      let orgUnit = selectedOrgUnits === null || selectedOrgUnits === void 0 ? void 0 : selectedOrgUnits[0];\n      if (typeof orgUnit === 'object' && orgUnit.id) {\n        orgUnit = orgUnit.id;\n      } else if (typeof orgUnit === 'string' && orgUnit.includes('/')) {\n        // Extract the last part of the path as the ID\n        orgUnit = orgUnit.split('/').pop();\n      }\n      const program = selectedPrograms;\n      if (!orgUnit || !program) {\n        throw new Error('Organization unit and program are required');\n      }\n\n      // Use the DHIS2 data engine query format\n      const EVENTS_QUERY = {\n        events: {\n          resource: 'tracker/events',\n          params: {\n            orgUnit,\n            program,\n            programStage: programStage !== ALL_VALUE ? programStage : undefined,\n            occurredAfter,\n            occurredBefore,\n            ouMode: inclusion || 'SELECTED',\n            includeDeleted: includeDeleted || false,\n            fields: 'event,status,occurredAt,createdAt,updatedAt,orgUnit,program,programStage,dataValues[dataElement,value]',\n            paging: false\n          }\n        },\n        orgUnits: {\n          resource: 'organisationUnits',\n          params: {\n            filter: `id:eq:${orgUnit}`,\n            fields: 'id,displayName,name'\n          }\n        },\n        programs: {\n          resource: 'programs',\n          params: {\n            filter: `id:eq:${program}`,\n            fields: 'id,name,displayName,programStages[id,name,displayName,programStageDataElements[dataElement[id,name,displayName]]]'\n          }\n        }\n      };\n      const data = await engine.query(EVENTS_QUERY);\n      return transformEventsData(data.events, data.orgUnits, data.programs);\n    } catch (error) {\n      console.error('Error fetching events data:', error);\n      throw error;\n    }\n  };\n  return {\n    fetchEventsData\n  };\n};\nconst onExport = (engine, setExportEnabled) => async values => {\n  setExportEnabled(false);\n  try {\n    const {\n      selectedOrgUnits,\n      selectedPrograms,\n      programStage,\n      format,\n      compression,\n      occurredAfter,\n      occurredBefore,\n      includeDeleted,\n      inclusion\n    } = values;\n\n    // Extract just the ID, handling both object format and path format\n    let orgUnit = selectedOrgUnits === null || selectedOrgUnits === void 0 ? void 0 : selectedOrgUnits[0];\n    if (typeof orgUnit === 'object' && orgUnit.id) {\n      orgUnit = orgUnit.id;\n    } else if (typeof orgUnit === 'string' && orgUnit.includes('/')) {\n      // Extract the last part of the path as the ID\n      orgUnit = orgUnit.split('/').pop();\n    }\n    const program = selectedPrograms;\n    if (!orgUnit || !program) {\n      throw new Error('Organization unit and program are required');\n    }\n\n    // Use the DHIS2 data engine query format (same as useEventsData)\n    const EVENTS_QUERY = {\n      events: {\n        resource: 'tracker/events',\n        params: {\n          orgUnit,\n          program,\n          programStage: programStage !== ALL_VALUE ? programStage : undefined,\n          occurredAfter,\n          occurredBefore,\n          ouMode: inclusion || 'SELECTED',\n          includeDeleted: includeDeleted || false,\n          fields: 'event,status,occurredAt,createdAt,updatedAt,orgUnit,program,programStage,dataValues[dataElement,value]',\n          paging: false\n        }\n      },\n      orgUnits: {\n        resource: 'organisationUnits',\n        params: {\n          filter: `id:eq:${orgUnit}`,\n          fields: 'id,displayName,name'\n        }\n      },\n      programs: {\n        resource: 'programs',\n        params: {\n          filter: `id:eq:${program}`,\n          fields: 'id,name,displayName,programStages[id,name,displayName,programStageDataElements[dataElement[id,name,displayName]]]'\n        }\n      }\n    };\n    const data = await engine.query(EVENTS_QUERY);\n\n    // Transform the data\n    const transformedData = transformEventsData(data.events, data.orgUnits, data.programs);\n\n    // Convert to desired format and download\n    let output = '';\n    const headers = ['event', 'status', 'occurredAt', 'createdAt', 'updatedAt', 'project', 'program', 'Males', 'District', 'Females', 'Total Persons reached'];\n    if (format === 'csv') {\n      // CSV format\n      output = headers.join(',') + '\\n';\n      transformedData.forEach(row => {\n        const csvRow = headers.map(header => {\n          const value = row[header] || '';\n          return `\"${value.toString().replace(/\"/g, '\"\"')}\"`;\n        }).join(',');\n        output += csvRow + '\\n';\n      });\n    } else {\n      // JSON format\n      output = JSON.stringify(transformedData, null, 2);\n    }\n\n    // Create download\n    const blob = new Blob([output], {\n      type: format === 'csv' ? 'text/csv' : 'application/json'\n    });\n    const url = window.URL.createObjectURL(blob);\n    const link = document.createElement('a');\n    link.href = url;\n    link.download = `events.${format}${compression ? `.${compression}` : ''}`;\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n    window.URL.revokeObjectURL(url);\n    console.log('event-export:', {\n      transformedData,\n      format\n    });\n  } catch (error) {\n    console.error('Export failed:', error);\n    alert('Export failed: ' + error.message);\n  } finally {\n    setExportEnabled(true);\n  }\n};\nconst validate = values => ({\n  startDate: DATE_BEFORE_VALIDATOR(values.startDate, values.endDate),\n  endDate: DATE_AFTER_VALIDATOR(values.endDate, values.startDate)\n});\nexport { onExport, validate, transformEventsData };","import { useDataEngine } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { ReactFinalForm } from '@dhis2/ui';\nimport React, { useState } from 'react';\nimport { Page, MoreOptions, BasicOptions, SchemeContainer, EventIcon, ValidationSummary } from '../../components/index.js';\nimport { OrgUnitTree, ProgramPicker, Format, defaultFormatOption, Compression, defaultCompressionOption, Dates, StartDate, EndDate, IncludeDeleted, Inclusion, defaultInclusionOption, ExportButton, ProgramStages, DataElementIdScheme, defaultDataElementIdSchemeOption, OrgUnitIdScheme, defaultOrgUnitIdSchemeOption, IdScheme, defaultIdSchemeOption, formatNoXmlOptions } from '../../components/Inputs/index.js';\nimport { jsDateToISO8601 } from '../../utils/helper.js';\nimport { onExport, validate } from './form-helper.js';\nconst {\n  Form\n} = ReactFinalForm;\n\n// PAGE INFO\nexport const PAGE_NAME = i18n.t('Event export');\nexport const PAGE_DESCRIPTION = i18n.t('Export event data for programs, stages and tracked entities to JSON or CSV format.');\nconst PAGE_ICON = /*#__PURE__*/React.createElement(EventIcon, null);\nconst today = new Date();\nconst threeMonthsBeforeToday = new Date(today.getFullYear(), today.getMonth() - 3, today.getDate());\nconst initialValues = {\n  selectedOrgUnits: [],\n  selectedPrograms: '',\n  programStage: undefined,\n  format: defaultFormatOption,\n  compression: defaultCompressionOption,\n  occurredAfter: jsDateToISO8601(threeMonthsBeforeToday),\n  occurredBefore: jsDateToISO8601(today),\n  includeDeleted: false,\n  dataElementIdScheme: defaultDataElementIdSchemeOption,\n  orgUnitIdScheme: defaultOrgUnitIdSchemeOption,\n  idScheme: defaultIdSchemeOption,\n  inclusion: defaultInclusionOption,\n  paging: false,\n  totalPages: false\n};\nconst EventExport = () => {\n  const [exportEnabled, setExportEnabled] = useState(true);\n  const engine = useDataEngine();\n  const onSubmit = onExport(engine, setExportEnabled);\n  return /*#__PURE__*/React.createElement(Page, {\n    title: PAGE_NAME,\n    desc: PAGE_DESCRIPTION,\n    icon: PAGE_ICON,\n    loading: !exportEnabled,\n    dataTest: \"page-export-data\"\n  }, /*#__PURE__*/React.createElement(Form, {\n    onSubmit: onSubmit,\n    initialValues: initialValues,\n    validate: validate,\n    subscription: {\n      values: true\n    },\n    render: _ref => {\n      let {\n        handleSubmit,\n        form,\n        values\n      } = _ref;\n      return /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: handleSubmit\n      }, /*#__PURE__*/React.createElement(BasicOptions, null, /*#__PURE__*/React.createElement(OrgUnitTree, {\n        multiSelect: false\n      }), /*#__PURE__*/React.createElement(Inclusion, null), /*#__PURE__*/React.createElement(ProgramPicker, {\n        autoSelectFirst: true,\n        includeEvents: true\n      }), /*#__PURE__*/React.createElement(ProgramStages, {\n        selectedProgram: values.selectedPrograms,\n        form: form\n      }), /*#__PURE__*/React.createElement(Dates, {\n        label: i18n.t('Date range to export data for')\n      }, /*#__PURE__*/React.createElement(StartDate, {\n        name: \"occurredAfter\"\n      }), /*#__PURE__*/React.createElement(EndDate, {\n        name: \"occurredBefore\"\n      })), /*#__PURE__*/React.createElement(Format, {\n        availableFormats: formatNoXmlOptions\n      }), /*#__PURE__*/React.createElement(Compression, null)), /*#__PURE__*/React.createElement(MoreOptions, null, /*#__PURE__*/React.createElement(IncludeDeleted, null), /*#__PURE__*/React.createElement(SchemeContainer, null, /*#__PURE__*/React.createElement(DataElementIdScheme, null), /*#__PURE__*/React.createElement(OrgUnitIdScheme, null), /*#__PURE__*/React.createElement(IdScheme, null))), /*#__PURE__*/React.createElement(ValidationSummary, null), /*#__PURE__*/React.createElement(ExportButton, {\n        label: i18n.t('Export events'),\n        disabled: !exportEnabled\n      }));\n    }\n  }));\n};\nexport { EventExport };","import { FORM_ERROR, jobStartedMessage } from '../../utils/final-form.js';\nimport { uploadFile } from '../../utils/helper.js';\n\n// Function to convert period format to DHIS2 format\nconst parsePeriod = period => {\n  if (!period || typeof period !== 'string') {\n    return period;\n  }\n\n  // If already in YYYYMM or YYYYMMDD format, return as is\n  if (/^\\d{6}$/.test(period) || /^\\d{8}$/.test(period)) {\n    return period;\n  }\n  const monthNames = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\n\n  // Handle DD/MM/YYYY format (e.g., \"01/06/2024\" -> \"20240601\")\n  const ddmmyyyyMatch = period.match(/^(\\d{1,2})\\/(\\d{1,2})\\/(\\d{4})$/);\n  if (ddmmyyyyMatch) {\n    const [, day, month, year] = ddmmyyyyMatch;\n    const paddedMonth = month.padStart(2, '0');\n    const paddedDay = day.padStart(2, '0');\n    return `${year}${paddedMonth}${paddedDay}`;\n  }\n\n  // Handle MM/DD/YYYY format (e.g., \"06/01/2024\" -> \"20240601\")\n  const mmddyyyyMatch = period.match(/^(\\d{1,2})\\/(\\d{1,2})\\/(\\d{4})$/);\n  if (mmddyyyyMatch) {\n    const [, first, second, year] = mmddyyyyMatch;\n    // Assume MM/DD if first number > 12, otherwise DD/MM\n    let month, day;\n    if (parseInt(first) > 12) {\n      day = first.padStart(2, '0');\n      month = second.padStart(2, '0');\n    } else if (parseInt(second) > 12) {\n      month = first.padStart(2, '0');\n      day = second.padStart(2, '0');\n    } else {\n      // Ambiguous case - assume MM/DD for US format\n      month = first.padStart(2, '0');\n      day = second.padStart(2, '0');\n    }\n    return `${year}${month}${day}`;\n  }\n\n  // Handle \"Month Day, Year\" format (e.g., \"August 16, 2025\" -> \"20250816\")\n  const dayMatch = period.match(/^(\\w+)\\s+(\\d+),\\s+(\\d{4})$/);\n  if (dayMatch) {\n    const [, monthName, day, year] = dayMatch;\n    const monthIndex = monthNames.indexOf(monthName);\n    if (monthIndex !== -1) {\n      const month = (monthIndex + 1).toString().padStart(2, '0');\n      const paddedDay = day.padStart(2, '0');\n      return `${year}${month}${paddedDay}`;\n    }\n  }\n\n  // Handle \"Month Year\" format (e.g., \"July 2025\" -> \"202507\")\n  const monthMatch = period.match(/^(\\w+)\\s+(\\d{4})$/);\n  if (monthMatch) {\n    const [, monthName, year] = monthMatch;\n    const monthIndex = monthNames.indexOf(monthName);\n    if (monthIndex !== -1) {\n      const month = (monthIndex + 1).toString().padStart(2, '0');\n      return `${year}${month}`;\n    }\n  }\n  const monthNames3 = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\n\n  // Handle \"Mon-YY\" format (e.g., \"Jul-25\" -> \"202507\")\n  const monYYMatch = period.match(/^([A-Za-z]{3})-(\\d{2})$/);\n  if (monYYMatch) {\n    const [, monthName, yearShort] = monYYMatch;\n    const monthIndex = monthNames3.indexOf(monthName);\n    if (monthIndex !== -1) {\n      const month = (monthIndex + 1).toString().padStart(2, '0');\n      const year = `20${yearShort}`;\n      return `${year}${month}`;\n    }\n  }\n\n  // Handle \"DD-Mon-YY\" format (e.g., \"19-Aug-25\" -> \"20250819\")\n  const ddMonYYMatch = period.match(/^(\\d{1,2})-([A-Za-z]{3})-(\\d{2})$/);\n  if (ddMonYYMatch) {\n    const [, day, monthName, yearShort] = ddMonYYMatch;\n    const monthIndex = monthNames3.indexOf(monthName);\n    if (monthIndex !== -1) {\n      const month = (monthIndex + 1).toString().padStart(2, '0');\n      const paddedDay = day.padStart(2, '0');\n      const year = `20${yearShort}`;\n      return `${year}${month}${paddedDay}`;\n    }\n  }\n\n  // Unable to parse period format, using as-is\n  return period;\n};\n\n// Parse CSV line respecting quotes\nconst parseCSVLine = line => {\n  const result = [];\n  let current = '';\n  let inQuotes = false;\n  for (let i = 0; i < line.length; i++) {\n    const char = line[i];\n    if (char === '\"') {\n      if (inQuotes && line[i + 1] === '\"') {\n        current += '\"';\n        i++;\n      } else {\n        inQuotes = !inQuotes;\n      }\n    } else if (char === ',' && !inQuotes) {\n      result.push(current.trim());\n      current = '';\n    } else {\n      current += char;\n    }\n  }\n  result.push(current.trim());\n  return result;\n};\n\n// Function to transform data from human-readable format back to DHIS2 format\nconst transformImportData = async (fileData, format, baseUrl) => {\n  let dataRows = [];\n  let isCustomFormat = false;\n  if (format === 'json') {\n    try {\n      const jsonData = JSON.parse(fileData);\n\n      // Check if it's an array of our custom format objects\n      if (Array.isArray(jsonData) && jsonData.length > 0) {\n        const expectedHeaders = ['dataElement', 'period', 'program', 'value', 'storedBy', 'lastUpdated'];\n        const firstItem = jsonData[0];\n        isCustomFormat = expectedHeaders.every(header => header in firstItem);\n        if (isCustomFormat) {\n          dataRows = jsonData;\n        }\n      }\n      if (!isCustomFormat) {\n        // If not our custom format, return original data\n        return fileData;\n      }\n    } catch (error) {\n      // Error parsing JSON\n      return fileData;\n    }\n  } else if (format === 'csv') {\n    const lines = fileData.split('\\n').filter(line => line.trim());\n    if (lines.length < 2) {\n      throw new Error('CSV file must contain headers and at least one data row');\n    }\n    const headers = parseCSVLine(lines[0]);\n    const expectedHeaders = ['dataElement', 'period', 'program', 'value', 'storedBy', 'lastUpdated'];\n\n    // Check if this is our custom format OR the new pivot format\n    const isPivotFormat = headers[0] === 'Period' && headers.includes('Program');\n    isCustomFormat = expectedHeaders.every(header => headers.includes(header)) || isPivotFormat;\n    if (!isCustomFormat) {\n      // If not our custom format, return original data\n      return fileData;\n    }\n    if (isPivotFormat) {\n      // Initialize metadata\n      const metadata = {\n        dataElements: {},\n        orgUnits: {}\n      };\n\n      // Collect unique program names from CSV\n      const programNames = [];\n      lines.slice(1).forEach(line => {\n        if (!line.trim()) {\n          return;\n        }\n        const values = parseCSVLine(line);\n        const programIndex = headers.indexOf('Program');\n        if (programIndex !== -1 && values[programIndex]) {\n          programNames.push(values[programIndex]);\n        }\n      });\n\n      // If no Program column or no program values, use a default org unit\n      if (programNames.length === 0) {\n        // Fetch the root org unit or first available org unit as fallback\n        try {\n          const orgUnitUrl = `${baseUrl}/api/organisationUnits.json?level=1&fields=id,name&paging=false`;\n          const response = await fetch(orgUnitUrl, {\n            credentials: 'include'\n          });\n          const data = await response.json();\n          if (data.organisationUnits && data.organisationUnits.length > 0) {\n            const defaultOrgUnit = data.organisationUnits[0];\n            metadata.orgUnits['default'] = defaultOrgUnit.id;\n          }\n        } catch (e) {\n          // Error fetching default org unit\n        }\n      } else {\n        // Fetch organization units by names from CSV 'program' field\n        for (const orgUnitName of [...new Set(programNames)]) {\n          const orgUnitUrl = `${baseUrl}/api/organisationUnits.json?filter=name:eq:${encodeURIComponent(orgUnitName)}&fields=id,name`;\n          try {\n            const response = await fetch(orgUnitUrl, {\n              credentials: 'include'\n            });\n            const data = await response.json();\n            if (data.organisationUnits && data.organisationUnits.length > 0) {\n              const orgUnit = data.organisationUnits[0];\n              metadata.orgUnits[orgUnitName] = orgUnit.id;\n            } else {/* empty */}\n          } catch (e) {\n            // Error fetching org unit\n          }\n        }\n      }\n\n      // Fetch ALL data elements\n      const dataElementUrl = `${baseUrl}/api/dataElements.json?fields=id,displayName,name,categoryCombo[id,categoryOptionCombos[id]]&paging=false`;\n      try {\n        const response = await fetch(dataElementUrl, {\n          credentials: 'include'\n        });\n        const data = await response.json();\n        if (data.dataElements) {\n          metadata.dataElementsList = data.dataElements;\n        } else {\n          metadata.dataElementsList = [];\n        }\n      } catch (e) {\n        // Error fetching data elements\n        metadata.dataElementsList = [];\n      }\n\n      // Fetch default category option combo\n      const defaultComboUrl = `${baseUrl}/api/categoryOptionCombos.json?filter=name:eq:default&fields=id&paging=false`;\n      try {\n        const response = await fetch(defaultComboUrl, {\n          credentials: 'include'\n        });\n        const data = await response.json();\n        if (data.categoryOptionCombos && data.categoryOptionCombos.length > 0) {\n          metadata.defaultAttributeOptionCombo = data.categoryOptionCombos[0].id;\n        }\n      } catch (e) {\n        // Error fetching default category option combo\n      }\n\n      // Build lookup maps for data elements\n      const dataElementNameToId = {};\n      if (metadata.dataElementsList) {\n        metadata.dataElementsList.forEach(de => {\n          const displayName = de.displayName || de.name;\n          const name = de.name;\n\n          // Map various forms of the name\n          dataElementNameToId[displayName] = de.id;\n          dataElementNameToId[name] = de.id;\n          dataElementNameToId[displayName.toLowerCase()] = de.id;\n          dataElementNameToId[name.toLowerCase()] = de.id;\n\n          // Also map by the actual column headers that might be dates\n          // This is important for matching date columns like \"01/06/2024\"\n          if (name.match(/^\\d{2}\\/\\d{2}\\/\\d{4}$/)) {\n            dataElementNameToId[name] = de.id;\n          }\n        });\n      }\n      const periodIndex = headers.indexOf('Period');\n      const programIndex = headers.indexOf('Program');\n      const storedByIndex = headers.indexOf('StoredBy');\n      const lastUpdatedIndex = headers.indexOf('LastUpdated');\n\n      // Find data element columns (excluding metadata columns)\n      const metadataColumns = ['Period', 'Program', 'StoredBy', 'LastUpdated'];\n      const dataElementColumns = headers.filter(h => !metadataColumns.includes(h));\n      dataRows = [];\n\n      // Process each data row\n      lines.slice(1).forEach(line => {\n        if (!line.trim()) {\n          return;\n        }\n        const values = parseCSVLine(line);\n        const rowPeriod = values[periodIndex];\n        const programName = programIndex !== -1 ? values[programIndex] || '' : '';\n        const storedBy = storedByIndex !== -1 ? values[storedByIndex] || 'import' : 'import';\n        const lastUpdated = lastUpdatedIndex !== -1 ? values[lastUpdatedIndex] || new Date().toISOString() : new Date().toISOString();\n\n        // Map program name to org unit ID, use default if not found\n        const orgUnitId = metadata.orgUnits[programName] || metadata.orgUnits['default'] || Object.values(metadata.orgUnits)[0];\n\n        // Create rows for each data element column that has a value\n        dataElementColumns.forEach(columnHeader => {\n          const columnIndex = headers.indexOf(columnHeader);\n          const value = values[columnIndex];\n          if (value && value.trim() !== '' && value !== '0') {\n            var _columnHeader$toLower;\n            // Map column header to data element ID\n            const dataElementId = dataElementNameToId[columnHeader] || dataElementNameToId[columnHeader === null || columnHeader === void 0 ? void 0 : columnHeader.toLowerCase()] || dataElementNameToId[columnHeader === null || columnHeader === void 0 ? void 0 : (_columnHeader$toLower = columnHeader.toLowerCase()) === null || _columnHeader$toLower === void 0 ? void 0 : _columnHeader$toLower.trim()];\n            if (!dataElementId) {\n              return;\n            }\n\n            // Parse the period to DHIS2 format\n            const finalPeriod = parsePeriod(rowPeriod) || rowPeriod;\n            dataRows.push({\n              dataElementId: dataElementId,\n              period: finalPeriod,\n              orgUnitId: orgUnitId,\n              value: value,\n              storedBy: storedBy,\n              lastUpdated: lastUpdated\n            });\n          }\n        });\n      });\n\n      // Validate data before creating CSV\n      const validationErrors = [];\n      dataRows.forEach((row, index) => {\n        if (!row.dataElementId) {\n          validationErrors.push(`Row ${index + 1}: Missing data element ID`);\n        }\n        if (!row.period) {\n          validationErrors.push(`Row ${index + 1}: Missing period`);\n        }\n        if (!row.orgUnitId) {\n          validationErrors.push(`Row ${index + 1}: Missing org unit ID`);\n        }\n        if (!row.value) {\n          validationErrors.push(`Row ${index + 1}: Missing value`);\n        }\n\n        // Validate period format\n        if (row.period && !/^\\d{6}$/.test(row.period) && !/^\\d{8}$/.test(row.period)) {\n          validationErrors.push(`Row ${index + 1}: Invalid period format \"${row.period}\". Expected YYYYMM or YYYYMMDD`);\n        }\n      });\n      if (validationErrors.length > 0) {\n        throw new Error(`Data validation failed: ${validationErrors.slice(0, 5).join('; ')}${validationErrors.length > 5 ? ` and ${validationErrors.length - 5} more errors` : ''}`);\n      }\n\n      // Create DHIS2 format CSV with actual IDs\n      const defaultAttributeOptionCombo = metadata.defaultAttributeOptionCombo || 'HllvX50cXC0';\n      const dhis2Headers = ['dataElement', 'period', 'orgUnit', 'categoryOptionCombo', 'attributeOptionCombo', 'value', 'storedBy', 'lastUpdated', 'comment', 'followup'];\n      const dhis2Csv = dhis2Headers.join(',') + '\\n' + dataRows.map(row => {\n        var _metadata$dataElement, _dataElement$category, _dataElement$category2, _dataElement$category3;\n        // Get category option combo for this data element\n        const dataElement = (_metadata$dataElement = metadata.dataElementsList) === null || _metadata$dataElement === void 0 ? void 0 : _metadata$dataElement.find(de => de.id === row.dataElementId);\n        const categoryOptionCombo = (dataElement === null || dataElement === void 0 ? void 0 : (_dataElement$category = dataElement.categoryCombo) === null || _dataElement$category === void 0 ? void 0 : (_dataElement$category2 = _dataElement$category.categoryOptionCombos) === null || _dataElement$category2 === void 0 ? void 0 : (_dataElement$category3 = _dataElement$category2[0]) === null || _dataElement$category3 === void 0 ? void 0 : _dataElement$category3.id) || defaultAttributeOptionCombo;\n        return [row.dataElementId, row.period, row.orgUnitId, categoryOptionCombo, defaultAttributeOptionCombo, row.value, row.storedBy, row.lastUpdated, '',\n        // comment\n        'false' // followup\n        ].join(',');\n      }).join('\\n');\n      return dhis2Csv;\n    } else {\n      // Parse regular CSV data (non-pivot format)\n      dataRows = lines.slice(1).map(line => {\n        const values = parseCSVLine(line);\n        const row = {};\n        headers.forEach((header, index) => {\n          row[header] = values[index] || '';\n        });\n        return row;\n      });\n    }\n  } else {\n    // For other formats, return original data\n    return fileData;\n  }\n\n  // If we have dataRows but haven't returned yet, we need to convert them\n  // This handles the regular custom format case\n  if (dataRows.length > 0) {\n    // Convert to DHIS2 CSV format\n    const dhis2Headers = ['dataElement', 'period', 'orgUnit', 'categoryOptionCombo', 'attributeOptionCombo', 'value', 'storedBy', 'lastUpdated', 'comment', 'followup'];\n    const dhis2Csv = dhis2Headers.join(',') + '\\n' + dataRows.map(row => {\n      return [row.dataElement || row.dataElementId, parsePeriod(row.period), row.program || row.orgUnitId, 'HllvX50cXC0',\n      // default category option combo\n      'HllvX50cXC0',\n      // default attribute option combo\n      row.value, row.storedBy || 'import', row.lastUpdated || new Date().toISOString(), '',\n      // comment\n      'false' // followup\n      ].join(',');\n    }).join('\\n');\n    return dhis2Csv;\n  }\n  return fileData;\n};\nconst isAsync = false;\nconst onImport = _ref => {\n  let {\n    baseUrl,\n    setProgress,\n    addTask,\n    setShowFullSummaryTask\n  } = _ref;\n  return async values => {\n    const {\n      dryRun,\n      files,\n      strategy,\n      preheatCache,\n      skipAudit,\n      dataElementIdScheme,\n      orgUnitIdScheme,\n      idScheme,\n      skipExistingCheck,\n      format,\n      firstRowIsHeader\n    } = values;\n\n    // Build API URL\n    const apiBaseUrl = `${baseUrl}/api/`;\n    const endpoint = 'dataValueSets';\n    const params = [`async=${isAsync}`, `dryRun=${dryRun}`, `strategy=${strategy}`, `preheatCache=${preheatCache}`, `skipAudit=${skipAudit}`, `dataElementIdScheme=${dataElementIdScheme}`, `orgUnitIdScheme=${orgUnitIdScheme}`, `idScheme=${idScheme}`, `skipExistingCheck=${skipExistingCheck}`, format == 'csv' ? `firstRowIsHeader=${firstRowIsHeader}` : ''].filter(s => s != '').join('&');\n    const url = `${apiBaseUrl}${endpoint}?${params}`;\n\n    // Get the original file\n    const originalFile = files[0];\n    let fileToUpload = originalFile;\n    try {\n      // Read the file content\n      const fileContent = await new Promise((resolve, reject) => {\n        const reader = new FileReader();\n        reader.onload = e => resolve(e.target.result);\n        reader.onerror = reject;\n        reader.readAsText(originalFile);\n      });\n\n      // Transform the data\n      const transformedData = await transformImportData(fileContent, format, baseUrl);\n\n      // Check if transformation actually happened\n      if (transformedData !== fileContent) {\n        // Create a new Blob with the transformed data\n        const blob = new Blob([transformedData], {\n          type: 'application/csv'\n        });\n\n        // Create a new File object from the Blob\n        // Important: Keep the same name but ensure it's recognized as CSV\n        const fileName = originalFile.name.endsWith('.csv') ? originalFile.name : `${originalFile.name}.csv`;\n        fileToUpload = new File([blob], fileName, {\n          type: 'application/csv',\n          lastModified: Date.now()\n        });\n      }\n    } catch (error) {\n      // If transformation fails, ensure we still have the original file\n      fileToUpload = originalFile;\n    }\n\n    // Upload the file (either transformed or original)\n    try {\n      if (!fileToUpload) {\n        throw new Error('No file available for upload');\n      }\n      await uploadFile({\n        url,\n        file: fileToUpload,\n        format: format,\n        type: 'DATAVALUE_IMPORT',\n        isAsync: isAsync,\n        setProgress,\n        addEntry: (id, entry) => addTask('data', id, {\n          ...entry,\n          jobDetails: values\n        })\n      });\n      return jobStartedMessage;\n    } catch (e) {\n      // Upload failed\n      const errors = [e];\n      return {\n        [FORM_ERROR]: errors\n      };\n    } finally {\n      setShowFullSummaryTask(true);\n    }\n  };\n};\nexport { onImport };","import { useConfig } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { ReactFinalForm } from '@dhis2/ui';\nimport React, { useContext, useState } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { Page, WithAuthority, BasicOptions, MoreOptions, SchemeContainer, DataIcon, ValidationSummary } from '../../components/index.js';\nimport { FileUpload, Format, formatAdxPdfOptions, defaultFormatOption, FirstRowIsHeader, defaultFirstRowIsHeaderOption, Strategy, defaultStrategyOption, PreheatCache, defaultPreheatCacheOption, SkipAudit, defaultSkipAuditOption, SkipExistingCheck, defaultSkipExistingCheckOption, DataElementIdScheme, defaultDataElementIdSchemeOption, IdScheme, defaultIdSchemeOption, OrgUnitIdScheme, defaultOrgUnitIdSchemeOption, ImportButtonStrip, FormAlerts } from '../../components/Inputs/index.js';\nimport { hasAuthorityToSkipAudit } from '../../components/WithAuthority/predicates.js';\nimport { TaskContext, getNewestTask } from '../../contexts/index.js';\nimport { getPrevJobDetails, getInitialBoolValue } from '../../utils/helper.js';\nimport { onImport } from './form-helper.js';\nconst {\n  Form\n} = ReactFinalForm;\n\n// PAGE INFO\nexport const PAGE_NAME = i18n.t('Data import');\nexport const PAGE_DESCRIPTION = i18n.t('Import data values using JSON, CSV, DXF2, ADX, or PDF format.');\nconst PAGE_ICON = /*#__PURE__*/React.createElement(DataIcon, null);\nconst createInitialValues = prevJobDetails => ({\n  files: prevJobDetails.files,\n  format: prevJobDetails.format || defaultFormatOption,\n  strategy: prevJobDetails.strategy || defaultStrategyOption,\n  firstRowIsHeader: getInitialBoolValue(prevJobDetails.firstRowIsHeader, defaultFirstRowIsHeaderOption),\n  preheatCache: getInitialBoolValue(prevJobDetails.preheatCache, defaultPreheatCacheOption),\n  skipAudit: getInitialBoolValue(prevJobDetails.skipAudit, defaultSkipAuditOption),\n  dataElementIdScheme: prevJobDetails.dataElementIdScheme || defaultDataElementIdSchemeOption,\n  orgUnitIdScheme: prevJobDetails.orgUnitIdScheme || defaultOrgUnitIdSchemeOption,\n  idScheme: prevJobDetails.idScheme || defaultIdSchemeOption,\n  skipExistingCheck: getInitialBoolValue(prevJobDetails.skipExistingCheck, defaultSkipExistingCheckOption)\n});\nconst DataImport = () => {\n  const {\n    tasks: {\n      data: dataTasks\n    },\n    addTask\n  } = useContext(TaskContext);\n\n  // recreating a previously run job\n  const query = useLocation().query;\n  const prevJobDetails = getPrevJobDetails(query, dataTasks);\n  const initialValues = createInitialValues(prevJobDetails);\n  const [progress, setProgress] = useState(0);\n  const [showFullSummaryTask, setShowFullSummaryTask] = useState(false);\n  const {\n    baseUrl\n  } = useConfig();\n  const onSubmit = onImport({\n    baseUrl,\n    setProgress,\n    addTask,\n    setShowFullSummaryTask\n  });\n  return /*#__PURE__*/React.createElement(Page, {\n    title: PAGE_NAME,\n    desc: PAGE_DESCRIPTION,\n    icon: PAGE_ICON,\n    loading: progress,\n    dataTest: \"page-import-data\",\n    summaryTask: getNewestTask(dataTasks),\n    showFullSummaryTask: showFullSummaryTask\n  }, /*#__PURE__*/React.createElement(Form, {\n    onSubmit: onSubmit,\n    initialValues: initialValues,\n    subscription: {\n      values: true,\n      submitError: true\n    },\n    render: _ref => {\n      let {\n        handleSubmit,\n        form,\n        values,\n        submitError\n      } = _ref;\n      return /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: handleSubmit\n      }, /*#__PURE__*/React.createElement(BasicOptions, null, /*#__PURE__*/React.createElement(FileUpload, {\n        helpText: i18n.t('Supported file types: JSON, CSV, DXF2, ADX, and PDF.', {\n          nsSeparator: '>'\n        })\n      }), /*#__PURE__*/React.createElement(Format, {\n        availableFormats: formatAdxPdfOptions,\n        type: \"import\"\n      }), /*#__PURE__*/React.createElement(FirstRowIsHeader, {\n        show: values.format == 'csv'\n      }), /*#__PURE__*/React.createElement(Strategy, {\n        value: values.strategy\n      }), /*#__PURE__*/React.createElement(PreheatCache, null), /*#__PURE__*/React.createElement(WithAuthority, {\n        pred: hasAuthorityToSkipAudit\n      }, /*#__PURE__*/React.createElement(SkipAudit, null))), /*#__PURE__*/React.createElement(MoreOptions, null, /*#__PURE__*/React.createElement(SchemeContainer, null, /*#__PURE__*/React.createElement(DataElementIdScheme, null), /*#__PURE__*/React.createElement(OrgUnitIdScheme, null), /*#__PURE__*/React.createElement(IdScheme, null)), /*#__PURE__*/React.createElement(SkipExistingCheck, null)), /*#__PURE__*/React.createElement(ValidationSummary, null), /*#__PURE__*/React.createElement(ImportButtonStrip, {\n        form: form\n      }), /*#__PURE__*/React.createElement(FormAlerts, {\n        alerts: submitError\n      }));\n    }\n  }));\n};\nexport { DataImport };","// import { useDataEngine } from '@dhis2/app-runtime'\nimport { DATE_BEFORE_VALIDATOR, DATE_AFTER_VALIDATOR } from '../../components/DatePicker/DatePickerField.js';\nimport {\n// locationAssign,\n// compressionToName,\nfileFormatToFileExtension, pathToId } from '../../utils/helper.js';\n\n// Function to convert period format to a standardized readable format\nconst formatPeriod = period => {\n  if (!period) {\n    return period;\n  }\n\n  // Handle YYYYMMDD format (8 digits)\n  if (period.length === 8 && /^\\d{8}$/.test(period)) {\n    const year = period.substring(0, 4);\n    const month = period.substring(4, 6);\n    const day = period.substring(6, 8);\n    const monthNames = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\n    const monthIndex = parseInt(month, 10) - 1;\n    if (monthIndex >= 0 && monthIndex < 12) {\n      return `${monthNames[monthIndex]} ${parseInt(day, 10)}, ${year}`;\n    }\n  }\n\n  // Handle YYYYMM format (6 digits)\n  if (period.length === 6 && /^\\d{6}$/.test(period)) {\n    const year = period.substring(0, 4);\n    const month = period.substring(4, 6);\n    const monthNames = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\n    const monthIndex = parseInt(month, 10) - 1;\n    if (monthIndex >= 0 && monthIndex < 12) {\n      return `${monthNames[monthIndex]} ${year}`;\n    }\n  }\n  return period;\n};\n\n// Function to transform data values into pivot table format\nconst transformDataValuesToPivot = (dataValues, dataElementsLookup, orgUnitsLookup) => {\n  if (!dataValues || !Array.isArray(dataValues)) {\n    return {\n      pivotData: [],\n      dataElements: [],\n      periods: []\n    };\n  }\n\n  // Create maps to store data: period -> dataElement -> {value, storedBy, lastUpdated, orgUnit}\n  const dataMap = new Map();\n  const dataElementsSet = new Set();\n  const periodsSet = new Set();\n\n  // Process each data value\n  dataValues.forEach(dataValue => {\n    const dataElementName = dataElementsLookup[dataValue.dataElement] || dataValue.dataElement;\n    const formattedPeriod = formatPeriod(dataValue.period);\n    const orgUnitName = orgUnitsLookup[dataValue.orgUnit] || dataValue.orgUnit;\n    dataElementsSet.add(dataElementName);\n    periodsSet.add(formattedPeriod);\n    if (!dataMap.has(formattedPeriod)) {\n      dataMap.set(formattedPeriod, new Map());\n    }\n    dataMap.get(formattedPeriod).set(dataElementName, {\n      value: dataValue.value,\n      storedBy: dataValue.storedBy,\n      lastUpdated: dataValue.lastUpdated,\n      program: orgUnitName\n    });\n  });\n\n  // Convert sets to sorted arrays\n  const dataElements = Array.from(dataElementsSet).sort();\n  const periods = Array.from(periodsSet).sort();\n\n  // Create pivot table data with metadata columns\n  const pivotData = periods.map(period => {\n    const periodMap = dataMap.get(period);\n    const firstDataEntry = periodMap ? Array.from(periodMap.values())[0] : null;\n    const row = {\n      Period: period,\n      Program: (firstDataEntry === null || firstDataEntry === void 0 ? void 0 : firstDataEntry.program) || '',\n      StoredBy: (firstDataEntry === null || firstDataEntry === void 0 ? void 0 : firstDataEntry.storedBy) || '',\n      LastUpdated: (firstDataEntry === null || firstDataEntry === void 0 ? void 0 : firstDataEntry.lastUpdated) || ''\n    };\n    dataElements.forEach(dataElement => {\n      const dataEntry = periodMap && periodMap.has(dataElement) ? periodMap.get(dataElement) : null;\n      row[dataElement] = dataEntry ? dataEntry.value : '';\n    });\n    return row;\n  });\n  return {\n    pivotData,\n    dataElements,\n    periods\n  };\n};\n\n// Function to transform data values to original flat format (for non-CSV formats)\nconst transformDataValuesFlat = (dataValues, dataElementsLookup, orgUnitsLookup) => {\n  if (!dataValues || !Array.isArray(dataValues)) {\n    return [];\n  }\n  return dataValues.map(dataValue => {\n    const dataElementName = dataElementsLookup[dataValue.dataElement] || dataValue.dataElement;\n    const orgUnitName = orgUnitsLookup[dataValue.orgUnit] || dataValue.orgUnit;\n    const formattedPeriod = formatPeriod(dataValue.period);\n    return {\n      dataElement: dataElementName,\n      period: formattedPeriod,\n      program: orgUnitName,\n      value: dataValue.value,\n      storedBy: dataValue.storedBy,\n      lastUpdated: dataValue.lastUpdated\n    };\n  });\n};\n\n// const valuesToParams = (\n//     {\n//         selectedOrgUnits,\n//         includeChildren,\n//         selectedDataSets,\n//         format,\n//         compression,\n//         startDate,\n//         endDate,\n//         includeDeleted,\n//         dataElementIdScheme,\n//         orgUnitIdScheme,\n//         idScheme,\n//     },\n//     filename\n// ) =>\n//     [\n//         `dataElementIdScheme=${dataElementIdScheme}`,\n//         `orgUnitIdScheme=${orgUnitIdScheme}`,\n//         `idScheme=${idScheme}`,\n//         `includeDeleted=${includeDeleted}`,\n//         `children=${includeChildren}`,\n//         `startDate=${startDate}`,\n//         `endDate=${endDate}`,\n//         `orgUnit=${selectedOrgUnits.map((o) => pathToId(o))}`,\n//         `dataSet=${selectedDataSets}`,\n//         `format=${encodeURIComponent(format)}`,\n//         compression ? `compression=${compressionToName(compression)}` : '',\n//         `attachment=${filename}`,\n//     ]\n//         .filter((s) => s != '')\n//         .join('&')\n\nconst onExport = (engine, setExportEnabled) => async values => {\n  setExportEnabled(false);\n  try {\n    var _data$dataElements, _data$orgUnitsMetadat;\n    const {\n      selectedOrgUnits,\n      includeChildren,\n      selectedDataSets,\n      format,\n      compression,\n      startDate,\n      endDate,\n      includeDeleted,\n      dataElementIdScheme,\n      orgUnitIdScheme,\n      idScheme\n    } = values;\n\n    // Build org unit list\n    const orgUnits = selectedOrgUnits.map(ou => pathToId(ou));\n\n    // Build query to fetch data with metadata\n    const DATA_QUERY = {\n      dataValues: {\n        resource: 'dataValueSets',\n        params: {\n          dataElementIdScheme,\n          orgUnitIdScheme,\n          idScheme,\n          includeDeleted,\n          children: includeChildren,\n          startDate,\n          endDate,\n          orgUnit: orgUnits,\n          dataSet: selectedDataSets,\n          format: 'json' // Always fetch as JSON for transformation\n        }\n      },\n\n      dataElements: {\n        resource: 'dataElements',\n        params: {\n          fields: 'id,displayName,name',\n          filter: selectedDataSets.map(ds => `dataSetElements.dataSet.id:eq:${ds}`),\n          paging: false\n        }\n      },\n      orgUnitsMetadata: {\n        resource: 'organisationUnits',\n        params: {\n          fields: 'id,displayName,name',\n          filter: orgUnits.map(ou => `id:eq:${ou}`),\n          paging: false\n        }\n      }\n    };\n    const data = await engine.query(DATA_QUERY);\n\n    // Create lookup maps\n    const dataElementsLookup = {};\n    if ((_data$dataElements = data.dataElements) !== null && _data$dataElements !== void 0 && _data$dataElements.dataElements) {\n      data.dataElements.dataElements.forEach(de => {\n        dataElementsLookup[de.id] = de.displayName || de.name;\n      });\n    }\n    const orgUnitsLookup = {};\n    if ((_data$orgUnitsMetadat = data.orgUnitsMetadata) !== null && _data$orgUnitsMetadat !== void 0 && _data$orgUnitsMetadat.organisationUnits) {\n      data.orgUnitsMetadata.organisationUnits.forEach(ou => {\n        orgUnitsLookup[ou.id] = ou.displayName || ou.name;\n      });\n    }\n\n    // Create output based on format\n    let output = '';\n    if (format === 'csv') {\n      var _data$dataValues;\n      // Transform data to pivot table format for CSV\n      const {\n        pivotData,\n        dataElements\n      } = transformDataValuesToPivot((_data$dataValues = data.dataValues) === null || _data$dataValues === void 0 ? void 0 : _data$dataValues.dataValues, dataElementsLookup, orgUnitsLookup);\n\n      // CSV format with pivot table structure including metadata columns\n      const headers = ['Period', 'Program', ...dataElements, 'StoredBy', 'LastUpdated'];\n      output = headers.join(',') + '\\n';\n      pivotData.forEach(row => {\n        const csvRow = headers.map(header => {\n          const value = row[header] || '';\n          return `\"${value.toString().replace(/\"/g, '\"\"')}\"`;\n        }).join(',');\n        output += csvRow + '\\n';\n      });\n    } else {\n      var _data$dataValues2;\n      // For non-CSV formats, use flat structure\n      const transformedData = transformDataValuesFlat((_data$dataValues2 = data.dataValues) === null || _data$dataValues2 === void 0 ? void 0 : _data$dataValues2.dataValues, dataElementsLookup, orgUnitsLookup);\n      output = JSON.stringify(transformedData, null, 2);\n    }\n\n    // Create download\n    const blob = new Blob([output], {\n      type: format === 'csv' ? 'text/csv' : 'application/json'\n    });\n    const url = window.URL.createObjectURL(blob);\n    const link = document.createElement('a');\n    link.href = url;\n    const fileExtension = compression ? `${fileFormatToFileExtension(format)}.${compression}` : fileFormatToFileExtension(format);\n    link.download = `dataValueSets.${fileExtension}`;\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n    window.URL.revokeObjectURL(url);\n    console.log('data-export:', {\n      format\n    });\n  } catch (error) {\n    console.error('Export failed:', error);\n    alert('Export failed: ' + error.message);\n  } finally {\n    setExportEnabled(true);\n  }\n};\nconst validate = values => ({\n  startDate: DATE_BEFORE_VALIDATOR(values.startDate, values.endDate),\n  endDate: DATE_AFTER_VALIDATOR(values.endDate, values.startDate)\n});\nexport { onExport, validate };","import { useConfig, useDataEngine } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { ReactFinalForm } from '@dhis2/ui';\nimport React, { useState } from 'react';\nimport { Page, MoreOptions, BasicOptions, SchemeContainer, DataIcon, ValidationSummary } from '../../components/index.js';\nimport { OrgUnitTree, IncludeChildren, DataSetPicker, Format, formatAdxXMLOptions, defaultFormatOption, Compression, defaultCompressionOption, Dates, StartDate, EndDate, IncludeDeleted, DataElementIdScheme, defaultDataElementIdSchemeOption, IdScheme, defaultIdSchemeOption, OrgUnitIdScheme, defaultOrgUnitIdSchemeOption, ExportButton, FormAlerts } from '../../components/Inputs/index.js';\nimport { jsDateToISO8601 } from '../../utils/helper.js';\nimport { onExport, validate } from './form-helper.js';\nconst {\n  Form\n} = ReactFinalForm;\n\n// PAGE INFO\nexport const PAGE_NAME = i18n.t('Data export');\nexport const PAGE_DESCRIPTION = i18n.t('Export metadata, such as data elements and organisation units, to JSON, CSV, DXF2, or ADX format.');\nconst PAGE_ICON = /*#__PURE__*/React.createElement(DataIcon, null);\nconst today = new Date();\nconst threeMonthsBeforeToday = new Date(today.getFullYear(), today.getMonth() - 3, today.getDate());\nconst initialValues = {\n  selectedOrgUnits: [],\n  includeChildren: true,\n  selectedDataSets: [],\n  format: defaultFormatOption,\n  compression: defaultCompressionOption,\n  startDate: jsDateToISO8601(threeMonthsBeforeToday),\n  endDate: jsDateToISO8601(today),\n  includeDeleted: false,\n  dataElementIdScheme: defaultDataElementIdSchemeOption,\n  orgUnitIdScheme: defaultOrgUnitIdSchemeOption,\n  idScheme: defaultIdSchemeOption\n};\nconst DataExport = () => {\n  const [exportEnabled, setExportEnabled] = useState(true);\n  const {\n    baseUrl\n  } = useConfig();\n  const engine = useDataEngine();\n  const onSubmit = onExport(engine, setExportEnabled);\n  return /*#__PURE__*/React.createElement(Page, {\n    title: PAGE_NAME,\n    desc: PAGE_DESCRIPTION,\n    icon: PAGE_ICON,\n    loading: !exportEnabled,\n    dataTest: \"page-export-data\"\n  }, /*#__PURE__*/React.createElement(Form, {\n    onSubmit: onSubmit,\n    initialValues: initialValues,\n    validate: validate,\n    subscription: {\n      values: true,\n      submitError: true\n    },\n    render: _ref => {\n      let {\n        handleSubmit,\n        submitError\n      } = _ref;\n      return /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: handleSubmit\n      }, /*#__PURE__*/React.createElement(BasicOptions, null, /*#__PURE__*/React.createElement(OrgUnitTree, null), /*#__PURE__*/React.createElement(IncludeChildren, null), /*#__PURE__*/React.createElement(DataSetPicker, null), /*#__PURE__*/React.createElement(Dates, {\n        label: i18n.t('Date range to export data for')\n      }, /*#__PURE__*/React.createElement(StartDate, null), /*#__PURE__*/React.createElement(EndDate, null)), /*#__PURE__*/React.createElement(Format, {\n        availableFormats: formatAdxXMLOptions\n      }), /*#__PURE__*/React.createElement(Compression, null)), /*#__PURE__*/React.createElement(MoreOptions, null, /*#__PURE__*/React.createElement(IncludeDeleted, null), /*#__PURE__*/React.createElement(SchemeContainer, null, /*#__PURE__*/React.createElement(DataElementIdScheme, null), /*#__PURE__*/React.createElement(OrgUnitIdScheme, null), /*#__PURE__*/React.createElement(IdScheme, null))), /*#__PURE__*/React.createElement(ValidationSummary, null), /*#__PURE__*/React.createElement(ExportButton, {\n        label: i18n.t('Export data'),\n        disabled: !exportEnabled\n      }), /*#__PURE__*/React.createElement(FormAlerts, {\n        alerts: submitError\n      }));\n    }\n  }));\n};\nexport { DataExport };","import i18n from '@dhis2/d2-i18n';\nimport { DATE_BEFORE_VALIDATOR, DATE_AFTER_VALIDATOR } from '../../components/DatePicker/DatePickerField.js';\nimport { OU_MODE_MANUAL_VALUE } from '../../components/Inputs/index.js';\nimport { locationAssign, pathToId } from '../../utils/helper.js';\n\n// calculate minimum set of parameters based on given filters\nconst valuesToParams = (_ref, filename) => {\n  let {\n    selectedOrgUnits,\n    selectedUsers,\n    selectedPrograms,\n    selectedTETypes,\n    ouMode,\n    inclusion,\n    format,\n    includeDeleted,\n    dataElementIdScheme,\n    eventIdScheme,\n    orgUnitIdScheme,\n    idScheme,\n    assignedUserModeFilter,\n    assignedUserMode,\n    teiTypeFilter,\n    programStatus,\n    followUp,\n    enrollmentEnrolledAfter,\n    enrollmentEnrolledBefore,\n    lastUpdatedFilter,\n    updatedAfter,\n    updatedBefore,\n    updatedWithin\n  } = _ref;\n  const minParams = {\n    ouMode: ouMode,\n    format: format,\n    includeDeleted: includeDeleted.toString(),\n    dataElementIdScheme: dataElementIdScheme,\n    eventIdScheme: eventIdScheme,\n    orgUnitIdScheme: orgUnitIdScheme,\n    idScheme: idScheme,\n    attachment: filename,\n    paging: false,\n    totalPages: false\n  };\n\n  // include selected org.units only when manual selection is selected\n  // ouMode is then stored in the `inclusion` field\n  if (ouMode === OU_MODE_MANUAL_VALUE) {\n    minParams.orgUnits = selectedOrgUnits.map(o => pathToId(o)).join(',');\n    minParams.ouMode = inclusion;\n  }\n  if (assignedUserModeFilter) {\n    minParams.assignedUserMode = assignedUserMode;\n    if (assignedUserMode == 'PROVIDED') {\n      minParams.assignedUsers = selectedUsers.join(',');\n    }\n  }\n  if (teiTypeFilter == 'PROGRAM') {\n    minParams.program = selectedPrograms;\n    if (programStatus) {\n      // programStatus = ALL is now the same\n      // as not providing a value for this param at all\n      minParams.programStatus = programStatus;\n    }\n    if (followUp !== 'ALL') {\n      minParams.followUp = followUp;\n    }\n    if (enrollmentEnrolledAfter) {\n      minParams.enrollmentEnrolledAfter = enrollmentEnrolledAfter;\n    }\n    if (enrollmentEnrolledBefore) {\n      minParams.enrollmentEnrolledBefore = enrollmentEnrolledBefore;\n    }\n  }\n  if (teiTypeFilter == 'TE') {\n    minParams.trackedEntityType = selectedTETypes;\n  }\n  if (lastUpdatedFilter == 'DATE') {\n    if (updatedAfter) {\n      minParams.updatedAfter = updatedAfter;\n    }\n    if (updatedBefore) {\n      minParams.updatedBefore = updatedBefore;\n    }\n  }\n  if (lastUpdatedFilter == 'DURATION') {\n    minParams.updatedWithin = updatedWithin;\n  }\n  return Object.keys(minParams).map(param => `${param}=${minParams[param]}`).join('&');\n};\nconst onExport = (baseUrl, setExportEnabled) => async values => {\n  setExportEnabled(false);\n  const {\n    format\n  } = values;\n\n  // generate URL and redirect\n  const apiBaseUrl = `${baseUrl}/api/tracker/`;\n  const endpoint = `trackedEntities`;\n  const filename = `${endpoint}.${format}`;\n  const downloadUrlParams = valuesToParams(values, filename);\n  const url = `${apiBaseUrl}${endpoint}.${format}?${downloadUrlParams}`;\n  locationAssign(url);\n  setExportEnabled(true);\n\n  // log for debugging purposes\n  console.log('tei-export:', {\n    url,\n    params: downloadUrlParams\n  });\n};\nconst validate = values => {\n  const errors = {};\n  if (values.teiTypeFilter == 'PROGRAM' && values.enrollmentEnrolledAfter && values.enrollmentEnrolledBefore) {\n    errors.enrollmentEnrolledAfter = DATE_BEFORE_VALIDATOR(values.enrollmentEnrolledAfter, values.enrollmentEnrolledBefore);\n    errors.enrollmentEnrolledBefore = DATE_AFTER_VALIDATOR(values.enrollmentEnrolledBefore, values.enrollmentEnrolledAfter);\n  }\n  if (values.lastUpdatedFilter == 'DATE' && values.updatedAfter && values.updatedBefore) {\n    errors.updatedAfter = DATE_BEFORE_VALIDATOR(values.updatedAfter, values.updatedBefore);\n    errors.updatedBefore = DATE_AFTER_VALIDATOR(values.updatedBefore, values.updatedAfter);\n  }\n  if (values.lastUpdatedFilter == 'DATE' && !values.updatedAfter && !values.updatedBefore) {\n    errors.updatedBefore = i18n.t(\"At least one of the 'last updated' date fields must be specified\");\n  }\n  return errors;\n};\nexport { onExport, validate };","import { useConfig } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { ReactFinalForm } from '@dhis2/ui';\nimport React, { useState } from 'react';\nimport { Page, MoreOptions, BasicOptions, SchemeContainer, TEIIcon, ValidationSummary } from '../../components/index.js';\nimport { Format, defaultFormatOption, OrgUnitMode, defaultOrgUnitSelectionModeOption, defaultInclusionOption, TEITypeFilter, defaultTEITypeFilterOption, ProgramStatus, defaultProgramStatusOption, FollowUpStatus, defaultFollowUpStatusOption, Dates, ProgramStartDate, ProgramEndDate, ProgramPicker, TETypePicker, LastUpdatedFilter, defaultLastUpdatedFilterOption, LastUpdatedStartDate, LastUpdatedEndDate, LastUpdatedDuration, AssignedUserMode, defaultAssignedUserModeOption, IncludeDeleted, DataElementIdScheme, defaultDataElementIdSchemeOption, EventIdScheme, defaultEventIdSchemeOption, IdScheme, defaultIdSchemeOption, OrgUnitIdScheme, defaultOrgUnitIdSchemeOption, ExportButton, FormAlerts, formatNoXmlOptions } from '../../components/Inputs/index.js';\nimport { onExport, validate } from './form-helper.js';\nconst {\n  Form\n} = ReactFinalForm;\n\n// PAGE INFO\nexport const PAGE_NAME = i18n.t('Tracked entities export');\nexport const PAGE_DESCRIPTION = i18n.t('Export tracked entities in JSON or CSV format.');\nconst PAGE_ICON = /*#__PURE__*/React.createElement(TEIIcon, null);\nconst initialValues = {\n  selectedOrgUnits: [],\n  selectedPrograms: [],\n  selectedTETypes: [],\n  selectedUsers: [],\n  format: defaultFormatOption,\n  ouMode: defaultOrgUnitSelectionModeOption,\n  inclusion: defaultInclusionOption,\n  teiTypeFilter: defaultTEITypeFilterOption,\n  programStatus: defaultProgramStatusOption,\n  followUp: defaultFollowUpStatusOption,\n  enrollmentEnrolledAfter: '',\n  enrollmentEnrolledBefore: '',\n  compression: '',\n  // disable compression until it is properly implemented in the backend\n  lastUpdatedFilter: defaultLastUpdatedFilterOption,\n  updatedAfter: '',\n  updatedBefore: '',\n  updatedWithin: '',\n  assignedUserModeFilter: false,\n  assignedUserMode: defaultAssignedUserModeOption,\n  includeDeleted: false,\n  dataElementIdScheme: defaultDataElementIdSchemeOption,\n  eventIdScheme: defaultEventIdSchemeOption,\n  orgUnitIdScheme: defaultOrgUnitIdSchemeOption,\n  idScheme: defaultIdSchemeOption\n};\nconst TEIExport = () => {\n  const [exportEnabled, setExportEnabled] = useState(true);\n  const {\n    baseUrl\n  } = useConfig();\n  const onSubmit = onExport(baseUrl, setExportEnabled);\n  return /*#__PURE__*/React.createElement(Page, {\n    title: PAGE_NAME,\n    desc: PAGE_DESCRIPTION,\n    icon: PAGE_ICON,\n    loading: !exportEnabled,\n    dataTest: \"page-export-tei\"\n  }, /*#__PURE__*/React.createElement(Form, {\n    onSubmit: onSubmit,\n    initialValues: initialValues,\n    validate: validate,\n    subscription: {\n      values: true,\n      submitError: true\n    },\n    render: _ref => {\n      let {\n        handleSubmit,\n        values,\n        submitError\n      } = _ref;\n      const showProgramFilters = values.teiTypeFilter == 'PROGRAM';\n      const showTEFilters = values.teiTypeFilter == 'TE';\n      const showLUDates = values.lastUpdatedFilter == 'DATE';\n      const showLUDuration = values.lastUpdatedFilter == 'DURATION';\n      return /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: handleSubmit\n      }, /*#__PURE__*/React.createElement(BasicOptions, null, /*#__PURE__*/React.createElement(OrgUnitMode, {\n        value: values.ouMode\n      }), /*#__PURE__*/React.createElement(TEITypeFilter, null), /*#__PURE__*/React.createElement(ProgramPicker, {\n        label: i18n.t('Program to export from'),\n        show: showProgramFilters\n      }), /*#__PURE__*/React.createElement(ProgramStatus, {\n        show: showProgramFilters\n      }), /*#__PURE__*/React.createElement(FollowUpStatus, {\n        show: showProgramFilters\n      }), /*#__PURE__*/React.createElement(Dates, {\n        label: i18n.t('Enrollment date range'),\n        show: showProgramFilters\n      }, /*#__PURE__*/React.createElement(ProgramStartDate, {\n        show: showProgramFilters\n      }), /*#__PURE__*/React.createElement(ProgramEndDate, {\n        show: showProgramFilters\n      })), /*#__PURE__*/React.createElement(TETypePicker, {\n        show: showTEFilters\n      }), /*#__PURE__*/React.createElement(Format, {\n        availableFormats: formatNoXmlOptions\n      })), /*#__PURE__*/React.createElement(MoreOptions, null, /*#__PURE__*/React.createElement(LastUpdatedFilter, null), /*#__PURE__*/React.createElement(Dates, {\n        show: showLUDates\n      }, /*#__PURE__*/React.createElement(LastUpdatedStartDate, {\n        show: showLUDates\n      }), /*#__PURE__*/React.createElement(LastUpdatedEndDate, {\n        show: showLUDates\n      })), /*#__PURE__*/React.createElement(LastUpdatedDuration, {\n        show: showLUDuration\n      }), /*#__PURE__*/React.createElement(AssignedUserMode, null), /*#__PURE__*/React.createElement(IncludeDeleted, null), /*#__PURE__*/React.createElement(SchemeContainer, null, /*#__PURE__*/React.createElement(DataElementIdScheme, null), /*#__PURE__*/React.createElement(EventIdScheme, null), /*#__PURE__*/React.createElement(OrgUnitIdScheme, null), /*#__PURE__*/React.createElement(IdScheme, null))), /*#__PURE__*/React.createElement(ValidationSummary, null), /*#__PURE__*/React.createElement(ExportButton, {\n        label: i18n.t('Export tracked entities'),\n        disabled: !exportEnabled\n      }), /*#__PURE__*/React.createElement(FormAlerts, {\n        alerts: submitError\n      }));\n    }\n  }));\n};\nexport { TEIExport };","import { FORM_ERROR, jobStartedMessage } from '../../utils/final-form.js';\nimport { uploadFile } from '../../utils/helper.js';\nconst onImport = _ref => {\n  let {\n    baseUrl,\n    setProgress,\n    addTask,\n    setShowFullSummaryTask\n  } = _ref;\n  return async values => {\n    const {\n      dryRun,\n      files,\n      format,\n      identifier,\n      importReportMode,\n      preheatMode,\n      strategy,\n      atomicMode,\n      mergeMode,\n      flushMode,\n      skipSharing,\n      skipValidation,\n      inclusionStrategy,\n      isAsync,\n      dataElementIdScheme,\n      orgUnitIdScheme,\n      eventIdScheme,\n      idScheme\n    } = values;\n\n    // send xhr\n    const apiBaseUrl = `${baseUrl}/api/tracker/`;\n    const params = [`importMode=${dryRun ? 'VALIDATE' : 'COMMIT'}`, `identifier=${identifier}`, `importReportMode=${importReportMode}`, `preheatMode=${preheatMode}`, `strategy=${strategy}`, `atomicMode=${atomicMode}`, `mergeMode=${mergeMode}`, `flushMode=${flushMode}`, `skipSharing=${skipSharing}`, `skipValidation=${skipValidation}`, `inclusionStrategy=${inclusionStrategy}`, `async=${isAsync}`, `format=${format}`, `dataElementIdScheme=${dataElementIdScheme}`, `orgUnitIdScheme=${orgUnitIdScheme}`, `eventIdScheme=${eventIdScheme}`, `idScheme=${idScheme}`].filter(s => s != '').join('&');\n    const url = `${apiBaseUrl}?${params}`;\n    try {\n      await uploadFile({\n        url,\n        file: files[0],\n        format: format,\n        type: 'TRACKER_IMPORT_JOB',\n        isAsync: isAsync,\n        setProgress,\n        addEntry: (id, entry) => {\n          addTask('tei', id, {\n            ...entry,\n            jobDetails: values\n          });\n        }\n      });\n      return jobStartedMessage;\n    } catch (e) {\n      const formErrors = validate(values);\n      const allErrors = {\n        [FORM_ERROR]: [e],\n        ...formErrors\n      };\n      return allErrors;\n    } finally {\n      setShowFullSummaryTask(true);\n    }\n  };\n};\nconst validate = () => {\n  return {};\n};\nexport { onImport, validate };","import { useConfig } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { ReactFinalForm } from '@dhis2/ui';\nimport React, { useContext, useState } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { Page, TEIIcon, MoreOptions, SchemeContainer, BasicOptions, ValidationSummary } from '../../components/index.js';\nimport { FileUpload, Format, defaultFormatOption, Identifier, defaultIdentifierOption, ImportReportMode, defaultImportReportModeOption, PreheatMode, defaultPreheatModeOption, Strategy, defaultStrategyOption, AtomicMode, defaultAtomicModeOption, MergeMode, defaultMergeModeOption, FlushMode, defaultFlushModeOption, SkipSharing, defaultSkipSharingOption, SkipValidation, defaultSkipValidationOption, InclusionStrategy, defaultInclusionStrategyOption, ImportButtonStrip, FormAlerts, DataElementIdScheme, defaultDataElementIdSchemeOption, EventIdScheme, defaultEventIdSchemeOption, IdScheme, defaultIdSchemeOption, OrgUnitIdScheme, defaultOrgUnitIdSchemeOption, formatNoXmlNoCsvOptions } from '../../components/Inputs/index.js';\nimport { TaskContext, getNewestTask } from '../../contexts/index.js';\nimport { getPrevJobDetails, getInitialBoolValue } from '../../utils/helper.js';\nimport { onImport } from './form-helper.js';\nconst {\n  Form\n} = ReactFinalForm;\n\n// PAGE INFO\nexport const PAGE_NAME = i18n.t('Tracked entities import');\nexport const PAGE_DESCRIPTION = i18n.t('Import tracked entities using JSON format.');\nconst PAGE_ICON = /*#__PURE__*/React.createElement(TEIIcon, null);\nconst createInitialValues = prevJobDetails => ({\n  files: prevJobDetails.files,\n  format: prevJobDetails.format || defaultFormatOption,\n  identifier: prevJobDetails.identifier || defaultIdentifierOption,\n  importReportMode: prevJobDetails.importReportMode || defaultImportReportModeOption,\n  preheatMode: prevJobDetails.preheatMode || defaultPreheatModeOption,\n  strategy: prevJobDetails.strategy || defaultStrategyOption,\n  atomicMode: prevJobDetails.atomicMode || defaultAtomicModeOption,\n  mergeMode: prevJobDetails.mergeMode || defaultMergeModeOption,\n  flushMode: prevJobDetails.flushMode || defaultFlushModeOption,\n  inclusionStrategy: prevJobDetails.inclusionStrategy || defaultInclusionStrategyOption,\n  skipSharing: getInitialBoolValue(prevJobDetails.skipSharing, defaultSkipSharingOption),\n  skipValidation: getInitialBoolValue(prevJobDetails.skipValidation, defaultSkipValidationOption),\n  isAsync: true,\n  dataElementIdScheme: prevJobDetails.dataElementIdScheme || defaultDataElementIdSchemeOption,\n  orgUnitIdScheme: prevJobDetails.orgUnitIdScheme || defaultOrgUnitIdSchemeOption,\n  eventIdScheme: prevJobDetails.eventIdScheme || defaultEventIdSchemeOption,\n  idScheme: prevJobDetails.idScheme || defaultIdSchemeOption\n});\nconst TEIImport = () => {\n  const {\n    tasks: {\n      tei: teiTasks\n    },\n    addTask\n  } = useContext(TaskContext);\n\n  // recreating a previously run job\n  const query = useLocation().query;\n  const prevJobDetails = getPrevJobDetails(query, teiTasks);\n  const initialValues = createInitialValues(prevJobDetails);\n  const [progress, setProgress] = useState(0);\n  const [showFullSummaryTask, setShowFullSummaryTask] = useState(false);\n  const {\n    baseUrl\n  } = useConfig();\n  const onSubmit = onImport({\n    baseUrl,\n    setProgress,\n    addTask,\n    setShowFullSummaryTask\n  });\n  return /*#__PURE__*/React.createElement(Page, {\n    title: PAGE_NAME,\n    desc: PAGE_DESCRIPTION,\n    icon: PAGE_ICON,\n    loading: progress,\n    dataTest: \"page-import-tei\",\n    summaryTask: getNewestTask(teiTasks),\n    showFullSummaryTask: showFullSummaryTask\n  }, /*#__PURE__*/React.createElement(Form, {\n    onSubmit: onSubmit,\n    initialValues: initialValues,\n    subscription: {\n      values: true,\n      submitError: true\n    },\n    render: _ref => {\n      let {\n        handleSubmit,\n        values,\n        form,\n        submitError\n      } = _ref;\n      return /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: handleSubmit\n      }, /*#__PURE__*/React.createElement(BasicOptions, null, /*#__PURE__*/React.createElement(FileUpload, {\n        helpText: i18n.t('Supported file types: JSON.', {\n          nsSeparator: '>'\n        })\n      }), /*#__PURE__*/React.createElement(Format, {\n        availableFormats: formatNoXmlNoCsvOptions,\n        type: \"import\"\n      }), /*#__PURE__*/React.createElement(Identifier, null), /*#__PURE__*/React.createElement(ImportReportMode, null), /*#__PURE__*/React.createElement(PreheatMode, null), /*#__PURE__*/React.createElement(Strategy, {\n        value: values.strategy\n      }), /*#__PURE__*/React.createElement(AtomicMode, null), /*#__PURE__*/React.createElement(MergeMode, null)), /*#__PURE__*/React.createElement(MoreOptions, null, /*#__PURE__*/React.createElement(FlushMode, null), /*#__PURE__*/React.createElement(SkipSharing, null), /*#__PURE__*/React.createElement(SkipValidation, null), /*#__PURE__*/React.createElement(InclusionStrategy, null), /*#__PURE__*/React.createElement(SchemeContainer, null, /*#__PURE__*/React.createElement(DataElementIdScheme, null), /*#__PURE__*/React.createElement(EventIdScheme, null), /*#__PURE__*/React.createElement(OrgUnitIdScheme, null), /*#__PURE__*/React.createElement(IdScheme, null))), /*#__PURE__*/React.createElement(ValidationSummary, null), /*#__PURE__*/React.createElement(ImportButtonStrip, {\n        form: form\n      }), /*#__PURE__*/React.createElement(FormAlerts, {\n        alerts: submitError\n      }));\n    }\n  }));\n};\nexport { TEIImport };","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport styles from './HomeCard.module.css';\nconst HomeCard = _ref => {\n  let {\n    titleText,\n    bodyText,\n    linkText,\n    to\n  } = _ref;\n  return /*#__PURE__*/React.createElement(Link, {\n    className: styles.link,\n    to: to\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.container\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: styles.title\n  }, titleText), /*#__PURE__*/React.createElement(\"p\", {\n    className: styles.body\n  }, bodyText), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.linkText\n  }, linkText)));\n};\nHomeCard.propTypes = {\n  bodyText: PropTypes.string.isRequired,\n  linkText: PropTypes.string.isRequired,\n  titleText: PropTypes.string.isRequired,\n  to: PropTypes.string.isRequired\n};\nexport { HomeCard };","import i18n from '@dhis2/d2-i18n';\n// export pages\nimport { PAGE_NAME as DATA_EXPORT_PAGE_NAME, PAGE_DESCRIPTION as DATA_EXPORT_DESCRIPTION } from '../DataExport/DataExport.js';\nimport { PAGE_NAME as DATA_IMPORT_PAGE_NAME, PAGE_DESCRIPTION as DATA_IMPORT_DESCRIPTION } from '../DataImport/DataImport.js';\nimport { PAGE_NAME as EARTH_ENGINE_IMPORT_PAGE_NAME, PAGE_DESCRIPTION as EARTH_ENGINE_IMPORT_DESCRIPTION } from '../EarthEngineImport/EarthEngineImport.js';\nimport { PAGE_NAME as EVENT_EXPORT_PAGE_NAME, PAGE_DESCRIPTION as EVENT_EXPORT_DESCRIPTION } from '../EventExport/EventExport.js';\nimport { PAGE_NAME as EVENT_IMPORT_PAGE_NAME, PAGE_DESCRIPTION as EVENT_IMPORT_DESCRIPTION } from '../EventImport/EventImport.js';\nimport { PAGE_NAME as GEOMETRY_IMPORT_PAGE_NAME, PAGE_DESCRIPTION as GEOMETRY_IMPORT_DESCRIPTION } from '../GeometryImport/GeometryImport.js';\nimport { PAGE_NAME as METADATA_DEPENDENCY_EXPORT_PAGE_NAME, PAGE_DESCRIPTION as METADATA_DEPENDENCY_EXPORT_DESCRIPTION } from '../MetadataDependencyExport/MetadataDependencyExport.js';\nimport { PAGE_NAME as METADATA_EXPORT_PAGE_NAME, PAGE_DESCRIPTION as METADATA_EXPORT_DESCRIPTION } from '../MetadataExport/MetadataExport.js';\nimport { PAGE_NAME as METADATA_IMPORT_PAGE_NAME, PAGE_DESCRIPTION as METADATA_IMPORT_DESCRIPTION } from '../MetadataImport/MetadataImport.js';\nimport { PAGE_NAME as TEI_EXPORT_PAGE_NAME, PAGE_DESCRIPTION as TEI_EXPORT_DESCRIPTION } from '../TEIExport/TEIExport.js';\n// import pages\nimport { PAGE_NAME as TEI_IMPORT_PAGE_NAME, PAGE_DESCRIPTION as TEI_IMPORT_DESCRIPTION } from '../TEIImport/TEIImport.js';\nconst capitalizeFirstLetter = string => string.charAt(0).toUpperCase() + string.slice(1);\nconst capitalizeName = name => name.split(' ').map(capitalizeFirstLetter).join(' ');\nconst capitalizePages = pages => pages.map(p => ({\n  ...p,\n  name: capitalizeName(p.name)\n}));\nconst exportPages = capitalizePages([{\n  name: DATA_EXPORT_PAGE_NAME,\n  description: DATA_EXPORT_DESCRIPTION,\n  linkText: i18n.t('Export data'),\n  to: '/export/data'\n}, {\n  name: EVENT_EXPORT_PAGE_NAME,\n  description: EVENT_EXPORT_DESCRIPTION,\n  linkText: i18n.t('Export events'),\n  to: '/export/event'\n}, {\n  name: METADATA_DEPENDENCY_EXPORT_PAGE_NAME,\n  description: METADATA_DEPENDENCY_EXPORT_DESCRIPTION,\n  linkText: i18n.t('Export metadata dependencies'),\n  to: '/export/metadata-dependency'\n}, {\n  name: METADATA_EXPORT_PAGE_NAME,\n  description: METADATA_EXPORT_DESCRIPTION,\n  linkText: i18n.t('Export metadata'),\n  to: '/export/metadata'\n}, {\n  name: TEI_EXPORT_PAGE_NAME,\n  description: TEI_EXPORT_DESCRIPTION,\n  linkText: i18n.t('Export tracked entities'),\n  to: '/export/tei'\n}]);\nconst importPages = capitalizePages([{\n  name: DATA_IMPORT_PAGE_NAME,\n  description: DATA_IMPORT_DESCRIPTION,\n  linkText: i18n.t('Import data'),\n  to: '/import/data'\n}, {\n  name: EVENT_IMPORT_PAGE_NAME,\n  description: EVENT_IMPORT_DESCRIPTION,\n  linkText: i18n.t('Import events'),\n  to: '/import/event'\n}, {\n  name: EARTH_ENGINE_IMPORT_PAGE_NAME,\n  description: EARTH_ENGINE_IMPORT_DESCRIPTION,\n  linkText: i18n.t('Import Earth Engine'),\n  to: '/import/earthengine'\n}, {\n  name: GEOMETRY_IMPORT_PAGE_NAME,\n  description: GEOMETRY_IMPORT_DESCRIPTION,\n  linkText: i18n.t('Import GeoJSON'),\n  to: '/import/geometry'\n}, {\n  name: METADATA_IMPORT_PAGE_NAME,\n  description: METADATA_IMPORT_DESCRIPTION,\n  linkText: i18n.t('Import metadata'),\n  to: '/import/metadata'\n}, {\n  name: TEI_IMPORT_PAGE_NAME,\n  description: TEI_IMPORT_DESCRIPTION,\n  linkText: i18n.t('Import tracked entities'),\n  to: '/import/tei'\n}]);\nexport { exportPages, importPages };","import PropTypes from 'prop-types';\nimport React, { useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nexport const ScrollToTop = _ref => {\n  let {\n    children\n  } = _ref;\n  const history = useHistory();\n  useEffect(() => {\n    const unlisten = history.listen(() => {\n      var _document$getElements;\n      (_document$getElements = document.getElementsByClassName('app-shell-app')[0]) === null || _document$getElements === void 0 ? void 0 : _document$getElements.scrollTo(0, 0);\n    });\n    return () => {\n      unlisten();\n    };\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, children);\n};\nScrollToTop.propTypes = {\n  children: PropTypes.node\n};","import i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport { Page } from '../../components/index.js';\nimport styles from './Home.module.css';\nimport { HomeCard } from './HomeCard.js';\nimport { importPages, exportPages } from './pages.js';\n\n// PAGE INFO\nconst PAGE_NAME = i18n.t('Overview: Import/Export', {\n  nsSeparator: '>'\n});\nconst PAGE_DESCRIPTION = i18n.t('Import or export DHIS2 data.');\nconst Home = () => /*#__PURE__*/React.createElement(Page, {\n  title: PAGE_NAME,\n  desc: PAGE_DESCRIPTION,\n  dataTest: \"page-overview\",\n  transparent: true\n}, /*#__PURE__*/React.createElement(\"h2\", {\n  className: styles.categoryTitle\n}, i18n.t('Import')), /*#__PURE__*/React.createElement(\"div\", {\n  className: styles.grid\n}, importPages.map((_ref, i) => {\n  let {\n    name,\n    description,\n    linkText,\n    to\n  } = _ref;\n  return /*#__PURE__*/React.createElement(HomeCard, {\n    key: i,\n    titleText: name,\n    bodyText: description,\n    linkText: linkText,\n    to: to\n  });\n})), /*#__PURE__*/React.createElement(\"h2\", {\n  className: styles.categoryTitle\n}, i18n.t('Export')), /*#__PURE__*/React.createElement(\"div\", {\n  className: styles.grid\n}, exportPages.map((_ref2, i) => {\n  let {\n    name,\n    description,\n    linkText,\n    to\n  } = _ref2;\n  return /*#__PURE__*/React.createElement(HomeCard, {\n    key: i,\n    titleText: name,\n    bodyText: description,\n    linkText: linkText,\n    to: to\n  });\n})));\nexport { Home };","import React from 'react';\nimport { Redirect, Route, Switch } from 'react-router-dom';\nimport { DataImport, DataExport, EventExport, EventImport, EarthEngineImport, GeometryImport, GMLImport, MetadataDependencyExport, MetadataExport, MetadataImport, TEIExport, TEIImport, JobOverview, Home } from '../../pages/index.js';\nimport { ScrollToTop } from '../Router/ScrollToTop.js';\nconst Router = () => {\n  return /*#__PURE__*/React.createElement(ScrollToTop, null, /*#__PURE__*/React.createElement(Switch, null, /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/\",\n    component: DataImport\n  }, /*#__PURE__*/React.createElement(Redirect, {\n    to: \"/import/data\"\n  })), /*#__PURE__*/React.createElement(Route, {\n    path: \"/import/data\",\n    component: DataImport\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/import/event\",\n    component: EventImport\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/import/earthengine\",\n    component: EarthEngineImport\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/import/geometry\",\n    component: GeometryImport\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/import/gml\",\n    component: GMLImport\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/import/metadata\",\n    component: MetadataImport\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/import/tei\",\n    component: TEIImport\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/export/data\",\n    component: DataExport\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/export/event\",\n    component: EventExport\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/export/metadata-dependency\",\n    component: MetadataDependencyExport\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/export/metadata\",\n    component: MetadataExport\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/export/tei\",\n    component: TEIExport\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/utils/job-overview\",\n    component: JobOverview\n  }), /*#__PURE__*/React.createElement(Redirect, {\n    from: \"*\",\n    to: \"/\"\n  })));\n};\nexport { Router };","/**\n * Group and sort schemas\n * ======================\n */\nconst groupSchemas = schemas => schemas.reduce((groups, schema) => {\n  const {\n    group\n  } = schema;\n  return {\n    ...groups,\n    // add schema to \"group\" collection if existing,\n    // otherwise create new collection with schema as first entry\n    [group]: groups[group] ? [...groups[group], schema] : [schema]\n  };\n}, {});\nconst combineSingleItemGroups = groups => {\n  const groupNames = Object.keys(groups);\n  return groupNames.reduce((combinedGroups, groupName) => {\n    const group = groups[groupName];\n    if (group.length === 1) {\n      return {\n        ...combinedGroups,\n        other: [...combinedGroups.other, group[0]]\n      };\n    }\n    return {\n      ...combinedGroups,\n      [groupName]: group\n    };\n  }, {\n    other: []\n  });\n};\n\n/**\n * Get group label helpers\n * =======================\n */\n\n/**\n * This function will loop through all schemas and\n * compare the the lower case groupKey with\n * the schemas' name.\n * If a match is found, that match will be returned\n */\nfunction findLabelByLowerCaseComparison(groupKey, schemas) {\n  const isGroupKeyMatchingLowerCaseSchemaName = schemaName => groupKey === schemaName.toLowerCase();\n  return schemas.reduce((foundLabel, _ref) => {\n    let {\n      name: schemaName,\n      displayName\n    } = _ref;\n    // do not try to compare anything if a label already\n    // has been found\n    if (foundLabel) {\n      return foundLabel;\n    }\n    if (isGroupKeyMatchingLowerCaseSchemaName(schemaName)) {\n      return displayName;\n    }\n    return foundLabel;\n  }, '');\n}\nconst ucFirst = str => str[0].toUpperCase() + str.substr(1);\n\n/**\n * This function will go through all schemas\n * and will compare the scheme name with the\n * lower case group key at position 0 of the schema key.\n * Once a match is found, the match will be extracted,\n * spaces will be inserted before all capital letters\n * and the result returned\n */\nfunction findKeyByCamelCaseComparison(groupKey, schemas) {\n  const isGroupKeyInSchemaName = schemaName => schemaName.includes(groupKey) && schemaName.indexOf(groupKey) === 0;\n\n  // Will return either a label or an empty string\n  // if no match for the groupKey was found\n  return schemas.reduce((foundLabel, _ref2) => {\n    let {\n      name: schemaName\n    } = _ref2;\n    // do not try to compare anything if a label already\n    // has been found\n    if (foundLabel) {\n      return foundLabel;\n    }\n    const lowerCaseSchemaName = schemaName.toLowerCase();\n    if (isGroupKeyInSchemaName(lowerCaseSchemaName)) {\n      return ucFirst(schemaName\n      // extract part that matches the groupKey\n      .substr(0, groupKey.length)\n      // insert space before capital letters\n      .replace(/([A-Z]+)/g, ' $1'));\n    }\n    return foundLabel;\n  }, '');\n}\nfunction extractGroupLabelFromSchemas(groupKey, schemas) {\n  const lowerCaseGroupKey = groupKey.toLowerCase();\n  if (lowerCaseGroupKey === 'oauth2' || lowerCaseGroupKey === 'other') {\n    return groupKey;\n  }\n  const label = findLabelByLowerCaseComparison(lowerCaseGroupKey, schemas) || findKeyByCamelCaseComparison(lowerCaseGroupKey, schemas) || groupKey[0].toUpperCase() + groupKey.substr(1);\n\n  // Replace 'Organisation Unit' with 'Project' in the group label\n  return label.replace(/Organisation Unit/gi, 'Project');\n}\nconst getSchemaGroups = schemas => {\n  const groups = groupSchemas(schemas);\n  const combinedGroups = combineSingleItemGroups(groups);\n  return combinedGroups;\n};\nconst getGroupLabels = schemaGroups => {\n  return Object.entries(schemaGroups).reduce((groupLabels, _ref3) => {\n    let [groupKey, schemas] = _ref3;\n    const label = extractGroupLabelFromSchemas(groupKey, schemas);\n    return {\n      ...groupLabels,\n      [groupKey]: label\n    };\n  }, {});\n};\nconst getGroupOrder = schemas => {\n  const groupKeys = Object.keys(schemas);\n  groupKeys.sort();\n  return groupKeys;\n};\nconst filterOutExcludedSchemas = (excludedSchemas, schemas) => schemas.filter(schema => schema.metadata && !excludedSchemas.has(schema.collectionName));\nconst groupName = klass => {\n  const group = klass.split('.');\n  group.pop();\n  if (!klass.includes('.dhis')) {\n    group.pop();\n  }\n  let name = group[group.length - 1].replace(/(.)([A-Z])/g, '$1 $2');\n  // Replace 'Organisation Unit' with 'Project' in the group name\n  return name === 'Organisation Unit' ? 'Project' : name;\n};\nconst formatSchemas = (schemas, checkedByDefault) => schemas.map(schema => {\n  // Replace 'Organisation Unit' with 'Project' in the display name\n  const displayName = schema.displayName.replace(/Organisation Unit/gi, 'Project');\n  return {\n    checked: checkedByDefault,\n    label: displayName,\n    name: schema.collectionName,\n    group: groupName(schema.klass)\n  };\n});\nexport { filterOutExcludedSchemas, groupName, formatSchemas, getSchemaGroups, getGroupLabels, getGroupOrder };","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"Schemas_container__fMPx1\",\"group\":\"Schemas_group__8CcRy\",\"schema\":\"Schemas_schema__NPcQF\",\"control\":\"Schemas_control__kwIeQ\",\"formLabel\":\"Schemas_formLabel__Ls0Qp\",\"formControl\":\"Schemas_formControl__0pPgY\"};","import { Checkbox } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport styles from './Schemas.module.css';\nconst SchemaGroup = _ref => {\n  let {\n    label,\n    schemas,\n    toggleSchema,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.group,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.formLabel\n  }, label), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.schema\n  }, schemas.map((schema, ind) => /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.control,\n    key: schema.name\n  }, /*#__PURE__*/React.createElement(Checkbox, {\n    label: schema.label,\n    name: `schemas.${schema.name}`,\n    value: `schemas.${schema.name}`,\n    checked: schema.checked,\n    onChange: () => toggleSchema(ind)\n  })))));\n};\nSchemaGroup.propTypes = {\n  label: PropTypes.string.isRequired,\n  schemas: PropTypes.arrayOf(PropTypes.exact({\n    checked: PropTypes.bool.isRequired,\n    label: PropTypes.string.isRequired,\n    name: PropTypes.string.isRequired,\n    group: PropTypes.string.isRequired\n  })).isRequired,\n  toggleSchema: PropTypes.func.isRequired,\n  dataTest: PropTypes.string\n};\nexport { SchemaGroup };","import { useDataQuery } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { Button, ButtonStrip, CircularLoader, Help } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React, { useEffect, useState } from 'react';\nimport { filterOutExcludedSchemas, formatSchemas, getSchemaGroups, getGroupLabels, getGroupOrder } from './helper.js';\nimport { SchemaGroup } from './SchemaGroup.js';\nimport styles from './Schemas.module.css';\nconst schemaQuery = {\n  schemas: {\n    resource: 'schemas',\n    params: {\n      fields: ['metadata', 'collectionName', 'displayName', 'klass']\n    }\n  }\n};\nconst Schemas = _ref => {\n  let {\n    excludeSchemas,\n    setCheckedSchemas,\n    meta,\n    checkedByDefault,\n    dataTest\n  } = _ref;\n  const [schemaGroups, setSchemaGroups] = useState(undefined);\n  const [schemaGroupLabels, setSchemaGroupLabels] = useState(undefined);\n  const [schemaGroupOrder, setSchemaGroupOrder] = useState([]);\n  const {\n    error,\n    fetching,\n    data\n  } = useDataQuery(schemaQuery, {\n    onError: console.error\n  });\n  useEffect(() => {\n    if (!fetching && data) {\n      const schemas = data.schemas.schemas;\n      const filteredSchemas = filterOutExcludedSchemas(excludeSchemas, schemas);\n      const formattedSchemas = formatSchemas(filteredSchemas, checkedByDefault);\n      const groups = getSchemaGroups(formattedSchemas);\n      setSchemaGroups(groups);\n      setSchemaGroupOrder(getGroupOrder(groups));\n      setSchemaGroupLabels(getGroupLabels(groups));\n      propagateCheckedSchemas(groups);\n    }\n  }, [fetching, data]);\n  const propagateCheckedSchemas = updatedSchemaGroups => {\n    setCheckedSchemas(Object.keys(updatedSchemaGroups).reduce((acc, groupName) => [...acc, ...updatedSchemaGroups[groupName].filter(s => s.checked).map(s => s.name)], []));\n  };\n  const onSelectGeneric = val => () => {\n    const updatedSchemaGroups = Object.keys(schemaGroups).reduce((acc, groupName) => ({\n      ...acc,\n      [groupName]: schemaGroups[groupName].reduce((grAcc, group) => [...grAcc, {\n        ...group,\n        checked: val\n      }], [])\n    }), {});\n    setSchemaGroups(updatedSchemaGroups);\n    propagateCheckedSchemas(updatedSchemaGroups);\n  };\n  const toggleSchema = schemaGroup => ind => {\n    const updatedGroup = [...schemaGroups[schemaGroup]];\n    updatedGroup[ind] = {\n      ...updatedGroup[ind],\n      checked: !updatedGroup[ind].checked\n    };\n    const updatedSchemaGroups = {\n      ...schemaGroups,\n      [schemaGroup]: updatedGroup\n    };\n    setSchemaGroups(updatedSchemaGroups);\n    propagateCheckedSchemas(updatedSchemaGroups);\n  };\n  const showSchemas = !fetching && !error;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.container,\n    \"data-test\": dataTest\n  }, fetching && /*#__PURE__*/React.createElement(CircularLoader, {\n    dataTest: `${dataTest}-loading`\n  }), error && /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": `${dataTest}-error`\n  }, /*#__PURE__*/React.createElement(\"p\", null, i18n.t('Something went wrong when loading the schemas!')), /*#__PURE__*/React.createElement(\"p\", null, error.message)), showSchemas && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ButtonStrip, null, /*#__PURE__*/React.createElement(Button, {\n    secondary: true,\n    small: true,\n    onClick: onSelectGeneric(true),\n    dataTest: `${dataTest}-select-all`\n  }, i18n.t('Select All')), /*#__PURE__*/React.createElement(Button, {\n    secondary: true,\n    small: true,\n    onClick: onSelectGeneric(false),\n    dataTest: `${dataTest}-select-none`\n  }, i18n.t('Select None'))), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.formControl\n  }, schemaGroupOrder.map(groupKey => {\n    const label = schemaGroupLabels[groupKey];\n    return /*#__PURE__*/React.createElement(SchemaGroup, {\n      key: label,\n      label: label,\n      schemas: schemaGroups[groupKey],\n      toggleSchema: toggleSchema(groupKey)\n    });\n  })), (meta.touched || !meta.pristine) && meta.error && /*#__PURE__*/React.createElement(Help, {\n    error: true\n  }, meta.error)));\n};\nSchemas.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  excludeSchemas: PropTypes.object.isRequired,\n  meta: PropTypes.object.isRequired,\n  setCheckedSchemas: PropTypes.func.isRequired,\n  checkedByDefault: PropTypes.bool\n};\nexport { Schemas };","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport { ReactFinalForm } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Select } from '../index.js';\nconst {\n  Field\n} = ReactFinalForm;\nconst Wrapper = _ref => {\n  let {\n    input: {\n      value,\n      onChange\n    },\n    meta,\n    inputName,\n    ...rest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(Select, _extends({\n    name: inputName,\n    meta: meta,\n    selected: value || undefined,\n    setValue: onChange\n  }, rest));\n};\nWrapper.propTypes = {\n  input: PropTypes.shape({\n    value: PropTypes.any,\n    onChange: PropTypes.func\n  }).isRequired,\n  inputName: PropTypes.string.isRequired,\n  meta: PropTypes.shape({\n    error: PropTypes.string,\n    pristine: PropTypes.bool,\n    touched: PropTypes.bool\n  }).isRequired\n};\nconst SelectField = _ref2 => {\n  let {\n    name,\n    ...rest\n  } = _ref2;\n  return /*#__PURE__*/React.createElement(Field, _extends({\n    component: Wrapper,\n    name: name,\n    inputName: name\n  }, rest));\n};\nSelectField.propTypes = {\n  name: PropTypes.string.isRequired\n};\nexport { SelectField };","// extracted by mini-css-extract-plugin\nexport default {\"sectionTitle\":\"MenuSectionHeader_sectionTitle__USxPJ\",\"label\":\"MenuSectionHeader_label__r2EFL\",\"icon\":\"MenuSectionHeader_icon__5Q6S4\"};","import { MenuSectionHeader as UIHeader } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport styles from './MenuSectionHeader.module.css';\nconst MenuSectionHeader = _ref => {\n  let {\n    label,\n    children\n  } = _ref;\n  return /*#__PURE__*/React.createElement(UIHeader, {\n    className: styles.sectionTitle,\n    label: /*#__PURE__*/React.createElement(\"span\", {\n      className: styles.label\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: styles.icon\n    }, children), label),\n    hideDivider: true\n  });\n};\nMenuSectionHeader.propTypes = {\n  children: PropTypes.node.isRequired,\n  label: PropTypes.string.isRequired\n};\nexport { MenuSectionHeader };","import i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport { ExportIcon } from '../index.js';\nimport { MenuSectionHeader } from './MenuSectionHeader.js';\nconst ExportMenuSectionHeader = () => /*#__PURE__*/React.createElement(MenuSectionHeader, {\n  label: i18n.t('Export')\n}, /*#__PURE__*/React.createElement(ExportIcon, null));\nexport { ExportMenuSectionHeader };","import i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport { ImportIcon } from '../index.js';\nimport { MenuSectionHeader } from './MenuSectionHeader.js';\nconst ImportMenuSectionHeader = () => /*#__PURE__*/React.createElement(MenuSectionHeader, {\n  label: i18n.t('Import')\n}, /*#__PURE__*/React.createElement(ImportIcon, null));\nexport { ImportMenuSectionHeader };","// extracted by mini-css-extract-plugin\nexport default {\"Menu\":\"Sidebar_Menu__gtpA0\",\"sidebarItem\":\"Sidebar_sidebarItem__gxB78\",\"sidebarItemActive\":\"Sidebar_sidebarItemActive__gx1KZ\",\"jobOverview\":\"Sidebar_jobOverview__G+3LG\"};","import i18n from '@dhis2/d2-i18n';\nimport { Divider, Menu, MenuItem } from '@dhis2/ui';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { useLocation, useHistory } from 'react-router-dom';\nimport { DataIcon, EventIcon, GeometryIcon, MetadataDependencyExportIcon, MetadataExportIcon, MetadataImportIcon, TEIIcon, TasksIcon } from '../index.js';\nimport { ExportMenuSectionHeader } from './ExportMenuSectionHeader.js';\nimport { ImportMenuSectionHeader } from './ImportMenuSectionHeader.js';\nimport styles from './Sidebar.module.css';\nconst dataImportPage = {\n  //  name: i18n.t('Data import'),\n  name: \"Spreadsheets Import\",\n  code: 'data-import',\n  icon: /*#__PURE__*/React.createElement(DataIcon, null),\n  path: '/import/data'\n};\nconst eventImportPage = {\n  //   name: i18n.t('Event import'),\n  name: \"Forms Data Import\",\n  code: 'event-import',\n  icon: /*#__PURE__*/React.createElement(EventIcon, null),\n  path: '/import/event'\n};\n/*\nconst eeImportPage = {\n    name: i18n.t('Earth Engine import'),\n    code: 'earthengine-import',\n    icon: <DataIcon />,\n    path: '/import/earthengine',\n}\n\nconst geometryImportPage = {\n    name: i18n.t('Org unit geometry import'),\n    code: 'geometry-import',\n    icon: <GeometryIcon />,\n    path: '/import/geometry',\n}\n*/\nconst metadataImportPage = {\n  name: i18n.t('Metadata import'),\n  code: 'metadata-import',\n  path: '/import/metadata',\n  icon: /*#__PURE__*/React.createElement(MetadataImportIcon, null)\n};\n/*\nconst teiImportPage = {\n    name: i18n.t('Tracked entity import'),\n    code: 'tei-import',\n    path: '/import/tei',\n    icon: <TEIIcon />,\n}\n*/\nconst dataExportPage = {\n  //   name: i18n.t('Data export'),\n  name: \"Spreadsheets Export\",\n  code: 'data-export',\n  path: '/export/data',\n  icon: /*#__PURE__*/React.createElement(DataIcon, null)\n};\nconst eventExportPage = {\n  //   name: i18n.t('Event export'),\n  name: \"Forms Data Export\",\n  code: 'event-export',\n  path: '/export/event',\n  icon: /*#__PURE__*/React.createElement(EventIcon, null)\n};\n/*\nconst metadataDependencyExportPage = {\n    name: i18n.t('Metadata dependency export'),\n    code: 'metadata-dependency-export',\n    path: '/export/metadata-dependency',\n    icon: <MetadataDependencyExportIcon />,\n}\n*/\nconst metadataExportPage = {\n  name: i18n.t('Metadata export'),\n  code: 'metadata-export',\n  path: '/export/metadata',\n  icon: /*#__PURE__*/React.createElement(MetadataExportIcon, null)\n};\n/*\nconst teiExportPage = {\n    name: i18n.t('Tracked entity export'),\n    code: 'tei-export',\n    path: '/export/tei',\n    icon: <TEIIcon />,\n}\n*/\nconst importPages = [dataImportPage, eventImportPage,\n// eeImportPage,\n// geometryImportPage,\nmetadataImportPage\n// teiImportPage,\n];\n\nconst exportPages = [dataExportPage, eventExportPage,\n// metadataDependencyExportPage,\nmetadataExportPage\n// teiExportPage,\n];\n/*\nconst jobOverviewPage = {\n    name: i18n.t('Job overview'),\n    code: 'job-overview',\n    path: '/utils/job-overview',\n    icon: <TasksIcon />,\n}\n*/\nconst SidebarItem = _ref => {\n  let {\n    name,\n    path,\n    code,\n    active,\n    className\n  } = _ref;\n  const history = useHistory();\n  const navigateToPath = () => history.push(path);\n  const href = history.createHref({\n    pathname: path,\n    search: '',\n    hash: ''\n  });\n  return /*#__PURE__*/React.createElement(MenuItem, {\n    active: active,\n    href: href,\n    onClick: navigateToPath,\n    label: name,\n    className: cx(className, {\n      [styles.sidebarItem]: !active,\n      [styles.sidebarItemActive]: active\n    }),\n    dataTest: `sidebar-link-${code}`\n  });\n};\nSidebarItem.propTypes = {\n  active: PropTypes.bool.isRequired,\n  code: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  path: PropTypes.string.isRequired,\n  className: PropTypes.string\n};\nconst Sidebar = () => {\n  const location = useLocation();\n  const pathname = location.pathname;\n  return /*#__PURE__*/React.createElement(Menu, {\n    className: styles.Menu\n  }, /*#__PURE__*/React.createElement(ImportMenuSectionHeader, null), importPages.map(_ref2 => {\n    let {\n      icon,\n      name,\n      code,\n      path\n    } = _ref2;\n    const active = pathname == path || pathname === '/import/gml' && path === '/import/geometry';\n    return /*#__PURE__*/React.createElement(SidebarItem, {\n      name: name,\n      path: path,\n      code: code,\n      icon: icon,\n      active: active,\n      key: path\n    });\n  }), /*#__PURE__*/React.createElement(ExportMenuSectionHeader, null), exportPages.map(_ref3 => {\n    let {\n      icon,\n      name,\n      code,\n      path\n    } = _ref3;\n    const active = pathname == path;\n    return /*#__PURE__*/React.createElement(SidebarItem, {\n      name: name,\n      path: path,\n      code: code,\n      icon: icon,\n      active: active,\n      key: path\n    });\n  }));\n};\nexport { Sidebar };","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport i18n from '@dhis2/d2-i18n';\nimport { ReactFinalForm, Switch as SwitchUI } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { FormField } from '../index.js';\nconst {\n  Field\n} = ReactFinalForm;\nconst Wrapper = _ref => {\n  let {\n    input,\n    meta,\n    ...rest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(SwitchUI, _extends({\n    input: input,\n    meta: meta,\n    label: input.value ? i18n.t('Yes') : i18n.t('No')\n  }, rest));\n};\nWrapper.propTypes = {\n  input: PropTypes.object.isRequired,\n  meta: PropTypes.object.isRequired\n};\nconst Switch = _ref2 => {\n  let {\n    name,\n    label,\n    help,\n    dataTest\n  } = _ref2;\n  return /*#__PURE__*/React.createElement(FormField, {\n    label: label,\n    dataTest: dataTest\n  }, /*#__PURE__*/React.createElement(Field, {\n    component: Wrapper,\n    name: name,\n    helpText: help,\n    dataTest: `${dataTest}-sf`\n  }));\n};\nSwitch.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  label: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  help: PropTypes.string\n};\nexport { Switch };","import PropTypes from 'prop-types';\nimport { useContext } from 'react';\nimport { UserContext } from '../../contexts/index.js';\nconst WithAuthority = _ref => {\n  let {\n    pred,\n    children\n  } = _ref;\n  const user = useContext(UserContext);\n  if (!user) {\n    return null;\n  }\n  return pred(user.authorities) ? children : null;\n};\nWithAuthority.propTypes = {\n  children: PropTypes.node,\n  pred: PropTypes.func\n};\nexport { WithAuthority };","const dataSetQuery = {\n  dataSets: {\n    resource: 'dataSets',\n    params: {\n      fields: 'id,displayName',\n      paging: 'false'\n    }\n  }\n};\nconst programQuery = {\n  programs: {\n    resource: 'programs',\n    params: {\n      fields: 'id,displayName',\n      filter: 'programType:eq:WITH_REGISTRATION',\n      paging: 'false'\n    }\n  }\n};\nconst programWithEventsQuery = {\n  programs: {\n    resource: 'programs',\n    params: {\n      fields: 'id,displayName',\n      paging: 'false'\n    }\n  }\n};\nconst TETypeQuery = {\n  trackedEntityTypes: {\n    resource: 'trackedEntityTypes',\n    params: {\n      fields: 'id,displayName',\n      paging: 'false'\n    }\n  }\n};\nconst userQuery = {\n  users: {\n    resource: 'users',\n    params: {\n      fields: 'id,displayName',\n      paging: 'false'\n    }\n  }\n};\nconst geojsonAttributesQuery = {\n  attributes: {\n    resource: 'attributes',\n    params: {\n      fields: 'id,displayName',\n      filter: ['valueType:eq:GEOJSON', 'organisationUnitAttribute:eq:true'],\n      paging: 'false'\n    }\n  }\n};\nexport { dataSetQuery, programQuery, programWithEventsQuery, TETypeQuery, userQuery, geojsonAttributesQuery };","// extracted by mini-css-extract-plugin\nexport default {\"selectedLabel\":\"ResourcePicker_selectedLabel__RvQf3\"};","import { useDataQuery } from '@dhis2/app-runtime';\nimport { ReactFinalForm, SingleSelectFieldFF, Transfer, CircularLoader, Help } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React, { useState, useEffect } from 'react';\nimport { FormField } from '../index.js';\nimport { dataSetQuery, programQuery, TETypeQuery, userQuery, geojsonAttributesQuery, programWithEventsQuery } from './queries.js';\nimport styles from './ResourcePicker.module.css';\nimport { resourceTypes } from './resourceTypes.js';\nconst {\n  Field\n} = ReactFinalForm;\nconst resourceToQuery = resourceType => {\n  if (resourceType == resourceTypes.DATASET) {\n    return {\n      resourceName: 'dataSets',\n      query: dataSetQuery\n    };\n  } else if (resourceType == resourceTypes.PROGRAM) {\n    return {\n      resourceName: 'programs',\n      query: programQuery\n    };\n  } else if (resourceType == resourceTypes.PROGRAM_WITH_EVENTS) {\n    return {\n      resourceName: 'programs',\n      query: programWithEventsQuery\n    };\n  } else if (resourceType == resourceTypes.TETYPE) {\n    return {\n      resourceName: 'trackedEntityTypes',\n      query: TETypeQuery\n    };\n  } else if (resourceType == resourceTypes.USER) {\n    return {\n      resourceName: 'users',\n      query: userQuery\n    };\n  } else if (resourceType == resourceTypes.GEOJSON_ATTRIBUTE) {\n    return {\n      resourceName: 'attributes',\n      query: geojsonAttributesQuery\n    };\n  }\n  return {\n    error: `Unkown resource type: ${resourceType}`\n  };\n};\nconst ResourcePicker = _ref => {\n  let {\n    label,\n    resourceType,\n    selected,\n    setSelected,\n    meta,\n    multiSelect,\n    withFilter,\n    autoSelectFirst,\n    dataTest,\n    listName,\n    filterLabel,\n    selectedLabel,\n    errorMessage\n  } = _ref;\n  const [list, setList] = useState([]);\n  const [error, setError] = useState(undefined);\n  const {\n    error: resourceError,\n    resourceName,\n    query\n  } = resourceToQuery(resourceType);\n  const {\n    fetching,\n    called,\n    refetch\n  } = useDataQuery(query, {\n    onComplete: data => {\n      const elements = data[resourceName][resourceName];\n      const list = elements.map(_ref2 => {\n        let {\n          id,\n          displayName\n        } = _ref2;\n        return {\n          value: id,\n          label: displayName\n        };\n      });\n      setList(list);\n      if (autoSelectFirst && list.length) {\n        setSelected({\n          selected: multiSelect ? [list[0].value] : list[0].value\n        });\n      }\n    },\n    onError: error => {\n      setError(error);\n      console.error(`ResourcePicker(${resourceName}) error: `, error);\n    },\n    lazy: true\n  });\n  useEffect(() => {\n    if (!resourceError) {\n      refetch();\n    }\n  }, [refetch, resourceError]);\n  if (resourceError) {\n    console.error(`ResourePicker: ${resourceError}`);\n    return null;\n  }\n  const showList = called && !fetching && !error && list.length > 0;\n  return /*#__PURE__*/React.createElement(FormField, {\n    label: label,\n    dataTest: dataTest\n  }, fetching && /*#__PURE__*/React.createElement(CircularLoader, {\n    dataTest: `${dataTest}-loading`\n  }), error && /*#__PURE__*/React.createElement(Help, {\n    error: true,\n    \"data-test\": `${dataTest}-error`\n  }, /*#__PURE__*/React.createElement(\"p\", null, errorMessage), /*#__PURE__*/React.createElement(\"p\", null, error.message)), showList && (multiSelect ? /*#__PURE__*/React.createElement(Transfer, {\n    name: listName,\n    label: filterLabel,\n    selected: selected,\n    onChange: setSelected,\n    options: list,\n    filterable: withFilter,\n    filterPlaceholder: filterLabel,\n    rightHeader: /*#__PURE__*/React.createElement(\"p\", {\n      className: styles.selectedLabel\n    }, selectedLabel),\n    dataTest: `${dataTest}-list`,\n    loading: fetching\n  }) : /*#__PURE__*/React.createElement(Field, {\n    component: SingleSelectFieldFF,\n    name: listName,\n    options: list,\n    filterable: withFilter,\n    dataTest: `${dataTest}-select`,\n    loading: fetching\n  })), (meta.touched || !meta.pristine) && meta.error && /*#__PURE__*/React.createElement(Help, {\n    error: true\n  }, meta.error));\n};\nResourcePicker.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  errorMessage: PropTypes.string.isRequired,\n  filterLabel: PropTypes.string.isRequired,\n  label: PropTypes.string.isRequired,\n  listName: PropTypes.string.isRequired,\n  meta: PropTypes.object.isRequired,\n  resourceType: PropTypes.number.isRequired,\n  selected: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string)]).isRequired,\n  selectedLabel: PropTypes.string.isRequired,\n  setSelected: PropTypes.func.isRequired,\n  autoSelectFirst: PropTypes.bool,\n  multiSelect: PropTypes.bool,\n  withFilter: PropTypes.bool\n};\nResourcePicker.defaultProps = {\n  multiSelect: true,\n  withFilter: true\n};\nexport { ResourcePicker };","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport { ReactFinalForm } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { ResourcePicker } from '../index.js';\nconst {\n  Field\n} = ReactFinalForm;\nconst Wrapper = _ref => {\n  let {\n    input: {\n      value,\n      onChange\n    },\n    meta,\n    ...rest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(ResourcePicker, _extends({\n    meta: meta,\n    selected: value,\n    setSelected: _ref2 => {\n      let {\n        selected\n      } = _ref2;\n      return onChange(selected);\n    }\n  }, rest));\n};\nWrapper.propTypes = {\n  input: PropTypes.shape({\n    value: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string)]).isRequired,\n    onChange: PropTypes.func\n  }).isRequired,\n  meta: PropTypes.shape({\n    error: PropTypes.string,\n    pristine: PropTypes.bool,\n    touched: PropTypes.bool\n  }).isRequired\n};\nconst ResourcePickerField = _ref3 => {\n  let {\n    name,\n    validator,\n    ...rest\n  } = _ref3;\n  return /*#__PURE__*/React.createElement(Field, _extends({\n    component: Wrapper,\n    name: name,\n    validate: validator\n  }, rest));\n};\nResourcePickerField.propTypes = {\n  name: PropTypes.string.isRequired,\n  validator: PropTypes.func\n};\nexport { ResourcePickerField };","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"BasicOptions_container__xZ42W\",\"label\":\"BasicOptions_label__Wz81J\",\"header\":\"BasicOptions_header__6GAxP\"};","import i18n from '@dhis2/d2-i18n';\nimport { Divider } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport styles from './BasicOptions.module.css';\nconst LABEL = i18n.t('Basic options');\nconst BasicOptions = _ref => {\n  let {\n    children\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"section\", {\n    className: styles.container\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    className: styles.header\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: styles.label\n  }, LABEL), /*#__PURE__*/React.createElement(Divider, null)), children);\n};\nBasicOptions.propTypes = {\n  children: PropTypes.oneOfType([PropTypes.object, PropTypes.array]).isRequired\n};\nexport { BasicOptions };","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"SchemeContainer_container__Q3Nx5\"};","import PropTypes from 'prop-types';\nimport React from 'react';\nimport styles from './SchemeContainer.module.css';\nconst SchemeContainer = _ref => {\n  let {\n    children\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.container\n  }, children);\n};\nSchemeContainer.propTypes = {\n  children: PropTypes.node.isRequired\n};\nexport { SchemeContainer };","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"StyledField_container__2UMbS\"};","import { ReactFinalForm } from '@dhis2/ui';\nimport React from 'react';\nimport styles from './StyledField.module.css';\nconst {\n  Field\n} = ReactFinalForm;\nconst StyledField = props => /*#__PURE__*/React.createElement(\"div\", {\n  className: styles.container\n}, /*#__PURE__*/React.createElement(Field, props));\nexport { StyledField };","// extracted by mini-css-extract-plugin\nexport default {\"span\":\"Tooltip_span__Yrzwt\",\"disabled\":\"Tooltip_disabled__aU5RZ\"};","import { Tooltip as UiTooltip } from '@dhis2/ui';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport styles from './Tooltip.module.css';\nconst Tooltip = _ref => {\n  let {\n    disabled,\n    content,\n    children\n  } = _ref;\n  return /*#__PURE__*/React.createElement(UiTooltip, {\n    content: content,\n    openDelay: 200,\n    closeDelay: 100,\n    placement: \"right\"\n  }, _ref2 => {\n    let {\n      onMouseOver,\n      onMouseOut,\n      ref\n    } = _ref2;\n    return /*#__PURE__*/React.createElement(\"span\", {\n      className: cx(styles.span, disabled && styles.disabled),\n      onMouseOver: () => disabled && onMouseOver(),\n      onMouseOut: () => disabled && onMouseOut(),\n      ref: ref\n    }, children);\n  });\n};\nTooltip.propTypes = {\n  children: PropTypes.node,\n  content: PropTypes.string,\n  disabled: PropTypes.bool\n};\nexport { Tooltip };","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"ValidationSummary_container__KZaFF\",\"errors\":\"ValidationSummary_errors__E+-eH\"};","import i18n from '@dhis2/d2-i18n';\nimport { ReactFinalForm, NoticeBox } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport styles from './ValidationSummary.module.css';\nconst {\n  useFormState\n} = ReactFinalForm;\nconst transformErrors = errors => Object.entries(errors).map(_ref => {\n  let [key, value] = _ref;\n  return {\n    name: key,\n    label: value\n  };\n}).filter(error => error.label);\nconst Error = _ref2 => {\n  let {\n    label\n  } = _ref2;\n  return /*#__PURE__*/React.createElement(\"li\", null, label);\n};\nError.propTypes = {\n  label: PropTypes.string.isRequired\n};\nconst ValidationSummary = () => {\n  const {\n    errors,\n    submitFailed\n  } = useFormState();\n  const errorList = transformErrors(errors);\n  if (!submitFailed || !errorList.length) {\n    return null;\n  }\n  return /*#__PURE__*/React.createElement(NoticeBox, {\n    title: i18n.t('There are errors on this page'),\n    className: styles.container,\n    error: true\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: styles.errors\n  }, errorList.map(_ref3 => {\n    let {\n      name,\n      label\n    } = _ref3;\n    return /*#__PURE__*/React.createElement(Error, {\n      key: name,\n      label: label\n    });\n  })));\n};\nexport { ValidationSummary };","import i18n from '@dhis2/d2-i18n';\nimport { NoticeBox } from '@dhis2/ui';\nimport React from 'react';\nconst mergeOperation = 'REPLACE';\nconst MERGE_NOTICE_TITLE = i18n.t('All existing property values will be replaced');\nconst MERGE_NOTICE_TEXT = i18n.t('Values will be overwritten, even if the new value is null');\nconst MergeOperationNotice = () => {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      maxWidth: '80%'\n    }\n  }, /*#__PURE__*/React.createElement(NoticeBox, {\n    dataTest: 'merge-operation-notice',\n    title: MERGE_NOTICE_TITLE\n  }, MERGE_NOTICE_TEXT));\n};\nexport { mergeOperation, MergeOperationNotice };","//------------------------------------------------------------------------------\n// <auto-generated>\n// This code was generated by d2-i18n-generate.\n//\n// Changes to this file may cause incorrect behavior and will be lost if\n// the code is regenerated.\n// </auto-generated>\n//------------------------------------------------------------------------------\nimport i18n from '@dhis2/d2-i18n';\nimport arTranslations from './ar/translations.json';\nimport ar_IQTranslations from './ar_IQ/translations.json';\nimport bnTranslations from './bn/translations.json';\nimport ckbTranslations from './ckb/translations.json';\nimport csTranslations from './cs/translations.json';\nimport daTranslations from './da/translations.json';\nimport enTranslations from './en/translations.json';\nimport esTranslations from './es/translations.json';\nimport es_419Translations from './es_419/translations.json';\nimport frTranslations from './fr/translations.json';\nimport idTranslations from './id/translations.json';\nimport kmTranslations from './km/translations.json';\nimport loTranslations from './lo/translations.json';\nimport myTranslations from './my/translations.json';\nimport nbTranslations from './nb/translations.json';\nimport neTranslations from './ne/translations.json';\nimport nlTranslations from './nl/translations.json';\nimport orTranslations from './or/translations.json';\nimport prsTranslations from './prs/translations.json';\nimport psTranslations from './ps/translations.json';\nimport ptTranslations from './pt/translations.json';\nimport pt_BRTranslations from './pt_BR/translations.json';\nimport roTranslations from './ro/translations.json';\nimport ruTranslations from './ru/translations.json';\nimport siTranslations from './si/translations.json';\nimport svTranslations from './sv/translations.json';\nimport tetTranslations from './tet/translations.json';\nimport tgTranslations from './tg/translations.json';\nimport ukTranslations from './uk/translations.json';\nimport urTranslations from './ur/translations.json';\nimport uz_CyrlTranslations from './uz_Cyrl/translations.json';\nimport uz_LatnTranslations from './uz_Latn/translations.json';\nimport uz_UZ_CyrlTranslations from './uz_UZ_Cyrl/translations.json';\nimport uz_UZ_LatnTranslations from './uz_UZ_Latn/translations.json';\nimport viTranslations from './vi/translations.json';\nimport zhTranslations from './zh/translations.json';\nimport zh_CNTranslations from './zh_CN/translations.json';\nconst namespace = 'default';\ni18n.addResources('ar', namespace, arTranslations);\ni18n.addResources('ar_IQ', namespace, ar_IQTranslations);\ni18n.addResources('bn', namespace, bnTranslations);\ni18n.addResources('ckb', namespace, ckbTranslations);\ni18n.addResources('cs', namespace, csTranslations);\ni18n.addResources('da', namespace, daTranslations);\ni18n.addResources('en', namespace, enTranslations);\ni18n.addResources('es', namespace, esTranslations);\ni18n.addResources('es_419', namespace, es_419Translations);\ni18n.addResources('fr', namespace, frTranslations);\ni18n.addResources('id', namespace, idTranslations);\ni18n.addResources('km', namespace, kmTranslations);\ni18n.addResources('lo', namespace, loTranslations);\ni18n.addResources('my', namespace, myTranslations);\ni18n.addResources('nb', namespace, nbTranslations);\ni18n.addResources('ne', namespace, neTranslations);\ni18n.addResources('nl', namespace, nlTranslations);\ni18n.addResources('or', namespace, orTranslations);\ni18n.addResources('prs', namespace, prsTranslations);\ni18n.addResources('ps', namespace, psTranslations);\ni18n.addResources('pt', namespace, ptTranslations);\ni18n.addResources('pt_BR', namespace, pt_BRTranslations);\ni18n.addResources('ro', namespace, roTranslations);\ni18n.addResources('ru', namespace, ruTranslations);\ni18n.addResources('si', namespace, siTranslations);\ni18n.addResources('sv', namespace, svTranslations);\ni18n.addResources('tet', namespace, tetTranslations);\ni18n.addResources('tg', namespace, tgTranslations);\ni18n.addResources('uk', namespace, ukTranslations);\ni18n.addResources('ur', namespace, urTranslations);\ni18n.addResources('uz_Cyrl', namespace, uz_CyrlTranslations);\ni18n.addResources('uz_Latn', namespace, uz_LatnTranslations);\ni18n.addResources('uz_UZ_Cyrl', namespace, uz_UZ_CyrlTranslations);\ni18n.addResources('uz_UZ_Latn', namespace, uz_UZ_LatnTranslations);\ni18n.addResources('vi', namespace, viTranslations);\ni18n.addResources('zh', namespace, zhTranslations);\ni18n.addResources('zh_CN', namespace, zh_CNTranslations);\nexport default i18n;","import { CssVariables, CssReset, CircularLoader, ComponentCover } from '@dhis2/ui';\nimport React from 'react';\nimport { HashRouter } from 'react-router-dom';\nimport styles from './App.module.css';\nimport { Sidebar, Router } from './components/index.js';\nimport { UserContext, TaskContext } from './contexts/index.js';\nimport { useUser, useTasks } from './hooks/index.js';\nimport i18n from './locales/index.js';\nconst App = () => {\n  const {\n    tasks,\n    addTask,\n    jobOverview,\n    updateJobOverview\n  } = useTasks();\n  const {\n    loading,\n    error,\n    user\n  } = useUser();\n  const showApp = !loading && !error;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(CssReset, null), /*#__PURE__*/React.createElement(CssVariables, {\n    spacers: true,\n    colors: true\n  }), loading && /*#__PURE__*/React.createElement(ComponentCover, {\n    dataTest: \"app-screen-cover\"\n  }, /*#__PURE__*/React.createElement(CircularLoader, {\n    dataTest: \"app-loader\"\n  })), error && /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": \"app-error\"\n  }, /*#__PURE__*/React.createElement(\"p\", null, i18n.t('Something went wrong when loading the current user!')), /*#__PURE__*/React.createElement(\"p\", null, error.message)), showApp && /*#__PURE__*/React.createElement(HashRouter, null, /*#__PURE__*/React.createElement(UserContext.Provider, {\n    value: user\n  }, /*#__PURE__*/React.createElement(TaskContext.Provider, {\n    value: {\n      tasks,\n      addTask,\n      jobOverview,\n      updateJobOverview\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.container\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.sidebar\n  }, /*#__PURE__*/React.createElement(Sidebar, null)), /*#__PURE__*/React.createElement(\"main\", {\n    className: styles.content\n  }, /*#__PURE__*/React.createElement(Router, null)))))));\n};\nexport default App;","// Cache version - increment this when you want to force a cache clear\nconst CACHE_VERSION = '1';\nconst VERSION_PARAM = 'cv';\nasync function clearCaches() {\n  if ('caches' in window) {\n    try {\n      const cacheNames = await caches.keys();\n      const cachePromises = cacheNames.filter(name => name.includes('import-export-app')).map(name => caches.delete(name));\n      await Promise.all(cachePromises);\n      console.log('Caches cleared');\n    } catch (error) {\n      console.warn('Error clearing caches:', error);\n    }\n  }\n}\nasync function unregisterServiceWorkers() {\n  if ('serviceWorker' in navigator) {\n    try {\n      const registrations = await navigator.serviceWorker.getRegistrations();\n      for (const registration of registrations) {\n        await registration.unregister();\n      }\n      console.log('Service workers unregistered');\n    } catch (error) {\n      console.warn('Error unregistering service workers:', error);\n    }\n  }\n}\nfunction clearStorages() {\n  try {\n    // Only clear storage items that might cause conflicts\n    const clearKeys = [];\n    for (let i = 0; i < localStorage.length; i++) {\n      const key = localStorage.key(i);\n      if (key && key.startsWith('dhis2')) {\n        clearKeys.push(key);\n      }\n    }\n    clearKeys.forEach(key => localStorage.removeItem(key));\n\n    // Clear session storage\n    sessionStorage.clear();\n  } catch (error) {\n    console.warn('Error clearing storage:', error);\n  }\n}\n\n// Main initialization\nexport async function initialize() {\n  // Skip in development\n  if (process.env.NODE_ENV !== 'production') {\n    return;\n  }\n  const url = new URL(window.location.href);\n  const currentVersion = url.searchParams.get(VERSION_PARAM);\n\n  // If version in URL doesn't match current version, update it\n  if (currentVersion !== CACHE_VERSION) {\n    // Store the current scroll position\n    sessionStorage.setItem('scrollPosition', window.scrollY);\n\n    // Update the version in URL without reloading if it's the first time\n    if (!currentVersion) {\n      url.searchParams.set(VERSION_PARAM, CACHE_VERSION);\n      window.history.replaceState({}, '', url);\n    } else {\n      // If version exists but doesn't match, do a hard reload\n      url.searchParams.set(VERSION_PARAM, CACHE_VERSION);\n      window.location.replace(url.toString());\n      return;\n    }\n  }\n\n  // Clear caches in the background if needed\n  if (!sessionStorage.getItem(`cacheCleared_${CACHE_VERSION}`)) {\n    sessionStorage.setItem(`cacheCleared_${CACHE_VERSION}`, 'true');\n    Promise.all([clearCaches(), unregisterServiceWorkers(), new Promise(resolve => {\n      setTimeout(() => {\n        clearStorages();\n        resolve();\n      }, 1000);\n    })]).catch(console.error);\n  }\n\n  // If we get here, we're on the correct version\n  console.log('Cache buster: Running version', CACHE_VERSION);\n}\nexport default {\n  initialize,\n  CACHE_VERSION,\n  VERSION_PARAM\n};","import { UserOutlined, SettingOutlined, LogoutOutlined, FormOutlined, DownloadOutlined, FileTextOutlined, AreaChartOutlined, MonitorOutlined, ImportOutlined, TeamOutlined, CheckCircleOutlined, BarsOutlined, MenuOutlined, EyeOutlined, ApartmentOutlined, HomeOutlined } from '@ant-design/icons';\nimport { useDataQuery } from '@dhis2/app-runtime';\nimport { Button, Layout, Menu, Dropdown, Avatar } from 'antd';\nimport React, { useState, useEffect } from 'react';\nimport App from './App.js';\nimport classes from './App.module.css';\nconst {\n  Sider,\n  Content\n} = Layout;\nconst ME_QUERY = {\n  me: {\n    resource: 'me',\n    params: {\n      fields: ['firstName', 'surname', 'email']\n    }\n  }\n};\nimport cacheBuster from './utils/cacheBuster';\nconst Main = () => {\n  // Initialize cache buster when component mounts\n  useEffect(() => {\n    cacheBuster.initialize();\n  }, []);\n  const [collapsed, setCollapsed] = useState(false);\n  const [openKeys, setOpenKeys] = useState(['3']);\n  const {\n    loading,\n    error,\n    data\n  } = useDataQuery(ME_QUERY);\n  if (loading || error) return null;\n  const {\n    firstName,\n    surname,\n    email: userEmail\n  } = data.me;\n  const fullName = `${firstName} ${surname}`;\n  const initials = `${(firstName === null || firstName === void 0 ? void 0 : firstName[0]) || ''}${(surname === null || surname === void 0 ? void 0 : surname[0]) || ''}`;\n  const profileMenu = /*#__PURE__*/React.createElement(Menu, null, /*#__PURE__*/React.createElement(Menu.Item, {\n    key: \"profile-settings\",\n    icon: /*#__PURE__*/React.createElement(SettingOutlined, null)\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/sims-web-user-profile/#/profile\"\n  }, \"Settings\")), /*#__PURE__*/React.createElement(Menu.Item, {\n    key: \"account\",\n    icon: /*#__PURE__*/React.createElement(UserOutlined, null)\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/sims-web-user-profile/#/account\"\n  }, \"Account\")), /*#__PURE__*/React.createElement(Menu.Item, {\n    key: \"logout\",\n    icon: /*#__PURE__*/React.createElement(LogoutOutlined, null)\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/dhis-web-commons-security/logout.action\"\n  }, \"Logout\")));\n  const dataCreationItems = [{\n    key: '2.1',\n    icon: /*#__PURE__*/React.createElement(BarsOutlined, null),\n    label: /*#__PURE__*/React.createElement(\"a\", {\n      href: \"/sims-web-maintenance/#/list/organisationUnitSection/organisationUnit\"\n    }, \"Thematic Areas\")\n  }, {\n    key: '2.2',\n    icon: /*#__PURE__*/React.createElement(BarsOutlined, null),\n    label: /*#__PURE__*/React.createElement(\"a\", {\n      href: \"/sims-web-maintenance/#/list/programSection/program\"\n    }, \"Projects\")\n  }, {\n    key: '2.3',\n    icon: /*#__PURE__*/React.createElement(BarsOutlined, null),\n    label: /*#__PURE__*/React.createElement(\"a\", {\n      href: \"/sims-web-maintenance/#/list/dataElementSection/dataElement\"\n    }, \"Data Elements\")\n  }, {\n    key: '2.4',\n    icon: /*#__PURE__*/React.createElement(BarsOutlined, null),\n    label: /*#__PURE__*/React.createElement(\"a\", {\n      href: \"/sims-web-maintenance/#/list/dataSetSection/dataSet\"\n    }, \"Data Sets\")\n  }];\n  const adminCentreItems = [{\n    key: '5.1',\n    icon: /*#__PURE__*/React.createElement(MonitorOutlined, null),\n    label: /*#__PURE__*/React.createElement(\"a\", {\n      href: \"/sims-web-usage-analytics/\"\n    }, \"Usage Analytics\")\n  }, {\n    key: '5.2',\n    icon: /*#__PURE__*/React.createElement(TeamOutlined, null),\n    label: /*#__PURE__*/React.createElement(\"a\", {\n      href: \"/sims-web-user/\"\n    }, \"User Management\")\n  }, {\n    key: '5.3',\n    icon: /*#__PURE__*/React.createElement(SettingOutlined, null),\n    label: /*#__PURE__*/React.createElement(\"a\", {\n      href: \"/sims-web-settings/\"\n    }, \"System Settings\")\n  }, {\n    key: '5.4',\n    icon: /*#__PURE__*/React.createElement(BarsOutlined, null),\n    label: /*#__PURE__*/React.createElement(\"a\", {\n      href: \"/sims-web-maintenance/#/organisationUnitSection/hierarchy\"\n    }, \"Hierarchy Operations\")\n  }];\n  const dataCollectionItems = [{\n    key: '3.1',\n    label: /*#__PURE__*/React.createElement(\"a\", {\n      href: \"/sims-web-capture/\"\n    }, \"Forms\"),\n    icon: /*#__PURE__*/React.createElement(FormOutlined, null)\n  }, {\n    key: '3.2',\n    label: /*#__PURE__*/React.createElement(\"a\", {\n      href: \"/sims-web-aggregate-data-entry/\"\n    }, \"Spreadsheets\"),\n    icon: /*#__PURE__*/React.createElement(FileTextOutlined, null)\n  }, {\n    key: '3.3',\n    label: /*#__PURE__*/React.createElement(\"a\", {\n      href: \"/sims-web-import-export/\"\n    }, \"Data Import & Export\"),\n    icon: /*#__PURE__*/React.createElement(DownloadOutlined, null)\n  }];\n  const onOpenChange = keys => {\n    const rootSubmenuKeys = ['2', '5']; // Top-level submenu keys\n    const latestOpenKey = keys.find(key => !openKeys.includes(key));\n    if (rootSubmenuKeys.includes(latestOpenKey)) {\n      setOpenKeys(latestOpenKey ? [latestOpenKey] : []);\n    } else {\n      setOpenKeys(keys);\n    }\n  };\n  return /*#__PURE__*/React.createElement(Layout, {\n    style: {\n      height: '100vh'\n    }\n  }, /*#__PURE__*/React.createElement(Sider, {\n    trigger: null,\n    collapsible: true,\n    width: \"20%\",\n    collapsedWidth: 80,\n    collapsed: collapsed,\n    onCollapse: collapsedState => setCollapsed(collapsedState),\n    breakpoint: \"lg\",\n    onBreakpoint: broken => setCollapsed(broken),\n    className: classes.sidebar,\n    style: {\n      padding: '10px 0',\n      transition: 'width 0.2s',\n      background: '#003D8F',\n      borderRight: '1px solid #d9d9d9',\n      overflow: 'hidden'\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      flexDirection: 'column',\n      background: '#003D8F',\n      height: '100%'\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      gap: '10px',\n      flexShrink: 0\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.logo,\n    style: {\n      flexDirection: collapsed && 'column-reverse'\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"text\",\n    className: \"\",\n    icon: /*#__PURE__*/React.createElement(MenuOutlined, {\n      fontSize: \"medium\"\n    }),\n    onClick: () => setCollapsed(!collapsed),\n    style: {\n      width: '16px',\n      height: '16px',\n      color: '#fff'\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"img\", {\n    src: process.env.PUBLIC_URL + \"/sims-sidebar-logo.png\",\n    alt: \"SIMS\",\n    style: {\n      width: collapsed ? '30px' : '40px',\n      height: collapsed ? '30px' : '40px',\n      objectFit: 'cover',\n      transition: 'all 0.2s',\n      filter: \"brightness(0) invert(1)\"\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      overflowY: 'auto',\n      overflowX: 'hidden',\n      display: 'flex',\n      flexDirection: 'column',\n      height: '100%'\n    }\n  }, /*#__PURE__*/React.createElement(Menu, {\n    selectedKeys: '3.3',\n    openKeys: openKeys,\n    onOpenChange: onOpenChange,\n    style: {\n      height: '100%',\n      overflowY: 'auto'\n    },\n    className: classes.menu,\n    mode: \"inline\",\n    inlineCollapsed: collapsed\n  }, /*#__PURE__*/React.createElement(Menu.Item, {\n    key: \"1\",\n    icon: /*#__PURE__*/React.createElement(HomeOutlined, null)\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/sims-web-app/\"\n  }, \"Home\")), /*#__PURE__*/React.createElement(Menu.Divider, null), /*#__PURE__*/React.createElement(Menu.SubMenu, {\n    key: \"2\",\n    icon: /*#__PURE__*/React.createElement(CheckCircleOutlined, null),\n    title: \"Activation\"\n  }, /*#__PURE__*/React.createElement(Menu.Item, {\n    key: \"2.1\",\n    title: \"Thematic Areas\",\n    icon: /*#__PURE__*/React.createElement(BarsOutlined, null)\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/sims-web-maintenance/#/list/organisationUnitSection/organisationUnit\"\n  }, \"Thematic Areas\")), /*#__PURE__*/React.createElement(Menu.Item, {\n    key: \"2.2\",\n    icon: /*#__PURE__*/React.createElement(BarsOutlined, null)\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/sims-web-maintenance/#/list/organisationUnitSection/programsHierarchy\"\n  }, \"Programs\")), /*#__PURE__*/React.createElement(Menu.Item, {\n    key: \"2.3\",\n    icon: /*#__PURE__*/React.createElement(BarsOutlined, null)\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/sims-web-maintenance/#/list/programSection/program\"\n  }, \"Projects\")), /*#__PURE__*/React.createElement(Menu.Item, {\n    key: \"2.4\",\n    icon: /*#__PURE__*/React.createElement(BarsOutlined, null)\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/sims-web-maintenance/#/list/dataElementSection/dataElement\"\n  }, \"Data Elements\")), /*#__PURE__*/React.createElement(Menu.Item, {\n    key: \"2.5\",\n    icon: /*#__PURE__*/React.createElement(BarsOutlined, null)\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/sims-web-maintenance/#/list/dataSetSection/dataSet\"\n  }, \"Data Sets\"))), /*#__PURE__*/React.createElement(Menu.Divider, null), /*#__PURE__*/React.createElement(Menu.SubMenu, {\n    key: '3',\n    icon: /*#__PURE__*/React.createElement(ImportOutlined, null),\n    title: \"Data Collection\"\n  }, /*#__PURE__*/React.createElement(Menu.Item, {\n    key: \"3.1\",\n    icon: /*#__PURE__*/React.createElement(FormOutlined, null)\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/sims-web-capture/\"\n  }, \"Forms\")), /*#__PURE__*/React.createElement(Menu.Item, {\n    key: \"3.2\",\n    icon: /*#__PURE__*/React.createElement(FileTextOutlined, null)\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/sims-web-aggregate-data-entry/\"\n  }, \"Spreadsheets\")), /*#__PURE__*/React.createElement(Menu.Item, {\n    key: \"3.3\",\n    icon: /*#__PURE__*/React.createElement(DownloadOutlined, null)\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/sims-web-import-export/\"\n  }, \"Data Import & Export\"))), /*#__PURE__*/React.createElement(Menu.Divider, null), /*#__PURE__*/React.createElement(Menu.Item, {\n    key: \"4\",\n    icon: /*#__PURE__*/React.createElement(AreaChartOutlined, null)\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/sims-web-dashboard/\"\n  }, \"Visualization\")), /*#__PURE__*/React.createElement(Menu.Divider, null), /*#__PURE__*/React.createElement(Menu.SubMenu, {\n    key: '5',\n    icon: /*#__PURE__*/React.createElement(UserOutlined, null),\n    title: \"Admin Centre\",\n    style: {\n      marginTop: 'auto'\n    }\n  }, adminCentreItems.map(item => /*#__PURE__*/React.createElement(Menu.Item, {\n    key: item.key,\n    icon: item.icon\n  }, item.label))))), /*#__PURE__*/React.createElement(\"div\", null, profileMenu))), /*#__PURE__*/React.createElement(Layout, {\n    style: {\n      padding: 15,\n      height: '100vh'\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      backgroundColor: '#F9FAFB',\n      borderRadius: '8px',\n      padding: '10px 16px'\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      alignItems: 'center',\n      gap: '12px'\n    }\n  }, /*#__PURE__*/React.createElement(ImportOutlined, {\n    style: {\n      fontSize: 16,\n      color: '#5DA9E9'\n    }\n  }), /*#__PURE__*/React.createElement(\"h2\", {\n    className: classes.heading\n  }, \"Import / Export\")), /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      fontSize: '13px',\n      marginTop: 4,\n      color: '#606060'\n    }\n  }, \"Upload or export data elements, programs, and datasets with ease.\")), /*#__PURE__*/React.createElement(Content, {\n    style: {\n      margin: '16px 0',\n      display: 'flex',\n      flexDirection: 'column',\n      padding: '16px'\n    }\n  }, /*#__PURE__*/React.createElement(App, null))));\n};\nexport default Main;"],"names":["createStyle","width","height","display","fill","color","userSelect","MetadataImportIcon","_ref","React","viewBox","style","d","MetadataExportIcon","_ref2","MetadataDependencyExportIcon","_ref3","DataIcon","_ref4","EventIcon","_ref5","GeometryIcon","_ref6","TasksIcon","_ref10","TEIIcon","_ref11","ImportIcon","_ref12","ExportIcon","_ref13","mapping","json","xml","csv","gml","geojson","adx","pdf","getUploadXHR","url","upload","type","onResponse","onError","setProgress","format","xhr","XMLHttpRequest","contentType","getMimeType","withCredentials","open","setRequestHeader","name","onreadystatechange","onReadyStateChange","onprogress","onProgress","e","status","Math","floor","readyState","data","JSON","parse","responseText","idAndMsg","extractIdAndMessage","parseError","message","typeReports","response","Array","isArray","objectReports","errorReports","error","msg","id","text","date","Date","created","evt","lengthComputable","percentComplete","parseInt","loaded","total","max","pathToId","path","pathSplit","split","length","jsDateToISO8601","getFullYear","toString","getMonth","padStart","getDate","jsDateToString","getHours","getMinutes","getSeconds","fileFormatToFileExtension","fetchAttributes","async","apiBaseUrl","attribute","fetch","credentials","then","resp","Promise","resolve","catch","Error","statusText","console","reject","fetcher","attributes","map","displayName","value","label","genericErrorMessage","i18n","errorGenerator","timestamp","getTime","critical","uploadFile","file","isAsync","addEntry","errF","entry","level","lastUpdated","completed","events","summary","importType","undefined","ev","target","e2","send","locationAssign","window","downloadUrl","startsWith","URL","document","baseURI","href","urlFilePart","pathname","pop","filename","match","link","createElement","download","click","err","getPrevJobDetails","query","tasks","job","jobDetails","getInitialBoolValue","prevValue","defaultValue","optionPropType","PropTypes","DataElementIdScheme","dataElementIdSchemeOptions","dataTest","baseUrl","useConfig","loading","setLoading","useState","schemes","setSchemes","setError","useEffect","finally","validationText","options","StyledField","component","SingleSelectFieldFF","DatePicker","onChange","InputField","inputWidth","_extends","Object","assign","bind","i","arguments","source","key","prototype","hasOwnProperty","call","apply","this","Field","ReactFinalForm","OPTIONAL_DATE_VALIDATOR","DATE_VALIDATOR","DATE_BEFORE_VALIDATOR","date1","date2","DATE_AFTER_VALIDATOR","Wrapper","input","meta","inputName","rest","DatePickerField","validator","validate","EventIdScheme","eventIdSchemeOptions","FileUpload","initialValue","required","helpText","accept","FormField","FileInputFieldFF","FormAlerts","alerts","AlertStack","a","AlertBar","warning","info","success","duration","children","className","styles","IdScheme","idSchemeOptions","dataElementAttributes","organisationUnitAttributes","sharedAttributes","reduce","shared","foundInOrgUnits","collection","find","attributeFoundIn","f","DRYRUN_HELPTEXT","ImportButtonStrip","dryRunDataTest","importDataTest","form","ButtonStrip","Button","primary","onClick","change","secondary","Help","UserContext","TaskContext","getNewestTask","keys","k","sort","b","categoryTypes","icon","allCategories","ChipContainer","categoryTypesObj","acc","cur","jobToPath","_categoryTypesObj$job","MenuLabel","task","files","Tag","positive","JobOverview","activeTypes","setActiveTypes","selectedJob","setSelectedJob","useContext","allTasks","flat","createdAt","filteredTasks","filter","t","includes","Menu","Chip","dense","onChipClick","selected","MenuItem","active","JobSummary","showFileDetails","showJobDetails","Link","to","valueToString","File","v","join","Details","details","Table","TableHead","TableRowHead","TableCellHead","TableBody","TableRow","TableCell","Log","statsPropTypeObj","deleted","ignored","updated","imported","getClassName","c","s","SingleStatusTable","uid","property","description","SingleSummary","_importCount$imported","_validationReport$err","importCount","conflicts","validationReport","_c$warningCode","object","rel","warningCode","errorCode","trackerType","indexes","Messages","messages","m","TypeCount","stats","TypeReportSummary","overviewStats","extractStats","responseType","Summary","report","allStats","allMessages","forEach","klass","r","push","mainKlass","errorProperty","typeReportParse","overviewSummary","allSummaries","importSummaries","Header","_jobDetails$files","Tags","neutral","negative","bold","dryRun","Divider","MiniJobSummary","MoreOptions","noBottomMargin","initiallyVisible","hidden","setHidden","hasOpened","setHasOpened","cx","IconChevronRight24","defaultProps","OrgUnitIdScheme","orgUnitIdSchemeOptions","rootQuery","roots","resource","params","fields","paging","SINGLE_ORG_VALIDATOR","selectedOrgUnits","SINGLE_EXACT_ORG_VALIDATOR","multiSelect","useDataQuery","CircularLoader","OrganisationUnitTree","organisationUnits","ou","singleSelection","touched","pristine","OrgUnitTreeField","Page","title","desc","summaryTask","showFullSummaryTask","limitWidth","transparent","loadingEl","LinearLoader","amount","Card","ComponentCover","translucent","CenteredContent","jobEventQuery","taskId","jobSummaryQuery","trackerEventQuery","trackerSummaryQuery","defaultTasks","event","earthengine","metadata","tei","defaultJobOverview","useTasks","engine","useDataEngine","setTasks","jobOverview","setJobOverview","fetchSummary","newTask","variables","createFetchSummary","fetchEvents","newEvents","some","te","time","errorEvent","reverse","timeSinceCreated","warn","round","setTimeout","createFetchEvents","addTask","createAddTask","updateJobOverview","val","createUpdateJobOverview","userQuery","user","programStageQuery","ALL_VALUE","ALL_LABEL","classKeyQuery","ProgramStages","selectedProgram","programStagesLoading","programStagesError","programStagesValidationText","programStages","program","setSelected","stages","setStages","onComplete","formattedList","useProgramStages","Label","prefix","RadioGroup","checked","setValue","vertical","o","Radio","help","RadioGroupField","LABEL","VALIDATOR","FileUploadGeneric","ImportButtonStripGeneric","FormAlertsGeneric","formatOptions","formatNoXmlOptions","formatNoXmlNoCsvOptions","formatAdxOptions","formatAdxXMLOptions","formatAdxPdfOptions","defaultFormatOption","IMPORT_LABEL","EXPORT_LABEL","typeToLabel","Format","availableFormats","DATATEST","SHORT_LABEL","HELPTEXT","FirstRowIsHeader","show","CheckboxFieldFF","NAME","ClassKey","classKeysLoading","classKeysError","classKeysValidationText","classKeys","setClassKeys","classData","useClassKeys","filterable","strategyOptions","defaultStrategyOption","DELETE_WARNING_TITLE","DELETE_WARNING","Strategy","NoticeBox","PreheatCache","SkipAudit","SkipExistingCheck","identifierOptions","defaultIdentifierOption","Identifier","importReportModeOptions","defaultImportReportModeOption","ImportReportMode","preheatModeOptions","defaultPreheatModeOption","PreheatMode","importStrategyOptions","defaultImportStrategyOption","ImportStrategy","atomicModeOptions","defaultAtomicModeOption","AtomicMode","mergeModeOptions","defaultMergeModeOption","MergeMode","flushModeOptions","defaultFlushModeOption","FlushMode","inclusionStrategyOptions","defaultInclusionStrategyOption","InclusionStrategy","SkipSharing","SkipValidation","IsAsync","OrgUnitTree","orgValidator","composeValidators","hasValue","resourceTypes","FILTERLABEL","SELECTEDLABEL","ERRORMESSAGE","RESOURCETYPE","SINGLE_DATASET_VALIDATOR","selectedDataSets","SINGLE_EXACT_DATASET_VALIDATOR","DataSetPicker","dataSetValidator","ResourcePickerField","resourceType","errorMessage","listName","filterLabel","selectedLabel","PROGRAM_RESOURCE_TYPE","PROGRAM_WITH_EVENTS_RESOURCE_TYPE","SINGLE_PROGRAM_VALIDATOR","selectedPrograms","SINGLE_EXACT_PROGRAM_VALIDATOR","ProgramPicker","includeEvents","programValidator","maxWidth","autoSelectFirst","IncludeChildren","IncludeDeleted","compressionOptions","defaultCompressionOption","Compression","inclusionOptions","defaultInclusionOption","Inclusion","StartDate","EndDate","ExportButton","disabledLabel","disabled","marginBottom","programStage","props","ProgramStagesGeneric","Schemas","setCheckedSchemas","SchemasField","checkedSchemas","EXCLUDE_SCHEMAS","Set","excludeSchemas","checkedByDefault","objectTypeOptions","defaultObjectTypeOption","ObjectType","filled","initialFocus","Objects","objectType","objectsLoading","objectsError","objectsValidationText","objects","setObjects","useObjects","defaultDataElementIdSchemeOption","DataElementIdSchemeGeneric","defaultEventIdSchemeOption","EventIdSchemeGeneric","defaultIdSchemeOption","IdSchemeGeneric","defaultOrgUnitIdSchemeOption","OrgUnitIdSchemeGeneric","OrgUnitIdSchemeCore","hasAuthorityToSkipAudit","authorities","OU_MODE_MANUAL_VALUE","orgUnitSelectionModeOptions","defaultOrgUnitSelectionModeOption","OrgUnitMode","teiTypeFilterOptions","defaultTEITypeFilterOption","TEITypeFilter","programStatusOptions","defaultProgramStatusOption","ProgramStatus","followUpStatusOptions","defaultFollowUpStatusOption","FollowUpStatus","ProgramStartDate","ProgramEndDate","SINGLE_TETYPE_VALIDATOR","selectedTypes","SINGLE_EXACT_TETYPE_VALIDATOR","TETypePicker","teTypeValidator","withActions","lastUpdatedFilterOptions","defaultLastUpdatedFilterOption","LastUpdatedFilter","LastUpdatedStartDate","LastUpdatedEndDate","durationRegex","formatHelpText","placeholder","DurationField","LastUpdatedDuration","useField","assignedUserModeOptions","defaultAssignedUserModeOption","FILTER_NAME","FILTER_DATATEST","FILTER_SHORT_LABEL","FILTER_LABEL","AssignedUserMode","filterInput","showOptions","userInput","userMode","showUserPicker","marginLeft","marginTop","UserPicker","SINGLE_USER_VALIDATOR","selectedUsers","SINGLE_EXACT_USER_VALIDATOR","userValidator","Dates","FORM_ERROR","jobStartedMessage","values","classKey","Form","PAGE_NAME","PAGE_DESCRIPTION","PAGE_ICON","MetadataImport","metadataTasks","useLocation","prevJobDetails","initialValues","identifier","importReportMode","importStrategy","firstRowIsHeader","atomicMode","mergeMode","mergeOperation","flushMode","inclusionStrategy","skipSharing","skipValidation","createInitialValues","progress","setShowFullSummaryTask","onSubmit","formErrors","onImport","subscription","submitError","render","handleSubmit","BasicOptions","nsSeparator","MergeOperationNotice","ValidationSummary","compression","MetadataExport","exportEnabled","setExportEnabled","endpointExtension","downloadUrlParams","log","onExport","MetadataDependencyExport","JobOverviewComponent","types","geometryFormats","GeometryFormat","history","useHistory","SegmentedControl","MATCH_PROPERTY_NAME","MATCH_PROPERTY_LABEL","GeometryPropertyMatch","matchProperty","InputFieldFF","USE_ATTRIBUTE_NAME","USE_ATTRIBUTE_LABEL","selectedAttributes","GeometryAttributePicker","withFilter","checkbox","useAttribute","Function","GeometryImport","geojsonTasks","orgUnitIdScheme","geojsonProperty","orgUnitIdSchemeCore","geojsonAttribute","apiUrl","geoJsonId","geoJsonProperty","orgUnitProperty","attributeId","GMLImport","gmlTasks","transformCSVToTrackerFormat","csvData","lines","trim","headers","h","replace","orgUnitNames","projectNames","eventIds","rows","row","header","index","project","programs","orgUnits","dataElements","projectName","programUrl","encodeURIComponent","orgUnitName","orgUnitUrl","orgUnit","eventId","eventUrl","eventData","programStageIds","stageId","stageUrl","stageData","programStageDataElements","psde","de","dataElement","toLowerCase","males","females","district","fetchEventMetadata","programId","programStageId","orgUnitId","occurredAt","updatedAt","dataValues","Males","Females","District","EventImport","eventTasks","dataElementIdScheme","eventIdScheme","idScheme","fileToUpload","csvText","reader","FileReader","onload","result","onerror","readAsText","transformedData","jsonString","stringify","SchemeContainer","CachedDataQueryCtx","createContext","NO_DATA","CachedDataQueryProvider","dataTransformation","setData","dt","Layer","fallbackMsg","Provider","useCachedDataQuery","EARTH_ENGINE_ID","PERIOD","ROUNDING","DATA_ELEMENT_ID","BAND_COCS","NO_ASSOCIATED_GEOMETRY","AssociatedGeometry","associatedGeometry","POPULATION_TOTAL_EE_ID","POPULATION_AGE_GROUPS_EE_ID","POPULATION_AGE_GROUPS_DATASET_ID","SOURCE_NAME","SOURCE_URL","earthEngines","earthEngineId","datasetId","sourceUrl","img","defaultAggregations","periodType","bandReducer","band","filters","year","mosaic","min","palette","bands","multiple","NO_BANDS","getEarthEngineBands","eeId","_earthEngines$eeId","useFormState","useForm","BandCocMappingTable","cocs","setCocs","dataElementId","bandCocs","dataSetBands","newCocs","categoryCombo","categoryOptionCombos","getProbableCocMatch","bandId","probableCoc","coc","code","catComboOptions","unavailableCocs","bcoc","indexOf","getCatComboOptions","FieldArray","clearable","noMatchText","DataElements","useFetchCurrentValues","period","currentValues","setCurrentValues","fetchCurrVals","fetchCurrentValues","cv","ouQueryParams","hasLevelPrefix","ouIdHelper","concat","missingParams","NO_ROWS","PopulationAgegroupsDataPreview","eeData","pointOuRows","rowsPerPage","onRowsPerPageChanged","tableData","setTableData","page","setPage","tableRef","useRef","bandCocMap","setBandCocMap","bcocMap","curr","cocMap","useMemo","_dataElements$find$ca","newArr","_bandCocMap$d$id","_cocMap$cocId","cocId","current","ouId","categoryOptionCombo","parentName","ouParentName","ouName","isNoValue","_tableRef$current","scrollIntoView","behavior","visibleRows","start","end","slice","getNumPages","ceil","isLastPage","ref","DataTable","DataTableHead","DataTableRow","DataTableColumnHeader","DataTableBody","DataTableCell","DataTableFoot","staticStyle","colSpan","Pagination","onPageChange","onPageSizeChange","pageSize","pageSizeSelectText","pageLength","pageCount","pageSummaryText","firstItem","lastItem","PopulationDataPreview","DataPreview","modifiedSinceLastSubmit","setRowsPerPage","EarthEngineId","formatList","items","Intl","ListFormat","OrgUnitDimension","onSelect","ouLevels","setOuLevels","dataEngine","apiFetchOrganisationUnitLevels","doFetchOuLevels","onLevelChange","ids","dimensionId","DIMENSION_ID_ORGUNIT","initiallyExpanded","item","substring","lastIndexOf","selectedItem","MultiSelect","MultiSelectOption","numberOfOrgUnits","numberOfLevels","parts","count","defaultValue_plural","keySeparator","commaSeparatedListOfOrganisationUnits","getSummary","small","rootOrgUnits","showUserOrgUnits","AT_LEAST_ONE_ORG_VALIDATOR","OrganisationUnits","hasIntlSupport","global","DateTimeFormat","formatLocaleDate","dateString","locale","month","day","substr","fallbackDateFormat","getStartEndDate","formatStartEndDate","startDate","endDate","workerPromise","getWorkerInstance","EarthEngineWorker","loadEarthEngineWorker","getAuthToken","getPeriods","eeWorker","features","periods","properties","String","p","googleTokenQuery","token","token_type","usePeriods","setPeriods","asyncGetPeriods","Periods","Tooltip","content","loadingText","empty","roundings","defaultRoundingOption","Rounding","toGeoJson","sortByLevel","le","coord","co","gpid","gppg","ty","pg","arr","resIndex","compact","geometry","coordinates","na","hasCoordinatesDown","hcd","hasCoordinatesUp","hcu","grandParentParentGraph","grandParentId","parentGraph","parentId","pi","pn","dimensions","earthEngineParams","ALL_AGGREGATION_TYPES","OU_ID","OU_PARENT_NAME","OU_NAME","BAND_ID","VALUE","getStructuredData","selectedBandCocs","ouIdNameMap","rounding","aggregationType","getValueWithPrecision","numDecimals","decimals","n","pow","getPrecisionFn","entries","valueSet","groupId","rawValue","useEeData","setEeData","setPointOuRows","setErrorMessage","fetchEeData","bc","_config$data","config","pointOrgUnits","ouIds","previousValue","currentValue","coordinateField","geoFeatures","polygonFeatures","gf","cfg","tileScale","fromEntries","getEarthEngineConfig","getAggregations","structuredData","FormSpy","EarthEngineImportForm","earthengineTasks","hiddenTopElRef","previewIsAllowed","_values$bandCocs","valid","bandsValid","onImportInternal","mutation","mutate","currentDate","Boolean","_hiddenTopElRef$curre","getAlerts","internalErrors","keepDirtyOnReinitialize","mutators","arrayMutators","mappingTableShouldDisplay","_ref7","userDataViewFallback","providerDataTransformation","_rootOrgUnits$organis","ag","EarthEngineImport","transformEventsData","eventsData","orgUnitsData","programsData","_orgUnitsData$organis","_programsData$program","dataElementLookup","stage","_stage$programStageDa","transformedEvent","dataValue","elementName","today","threeMonthsBeforeToday","occurredAfter","occurredBefore","includeDeleted","inclusion","totalPages","EventExport","EVENTS_QUERY","ouMode","output","csvRow","blob","Blob","createObjectURL","body","appendChild","removeChild","revokeObjectURL","alert","parsePeriod","test","monthNames","ddmmyyyyMatch","mmddyyyyMatch","first","second","dayMatch","monthName","monthIndex","monthMatch","monthNames3","monYYMatch","yearShort","ddMonYYMatch","parseCSVLine","line","inQuotes","char","strategy","preheatCache","skipAudit","skipExistingCheck","originalFile","fileContent","fileData","dataRows","isCustomFormat","jsonData","expectedHeaders","every","isPivotFormat","programNames","programIndex","defaultOrgUnit","dataElementUrl","dataElementsList","defaultComboUrl","defaultAttributeOptionCombo","dataElementNameToId","periodIndex","storedByIndex","lastUpdatedIndex","metadataColumns","dataElementColumns","rowPeriod","programName","storedBy","toISOString","columnHeader","columnIndex","_columnHeader$toLower","finalPeriod","validationErrors","_metadata$dataElement","_dataElement$category","_dataElement$category2","_dataElement$category3","transformImportData","fileName","endsWith","lastModified","now","DataImport","dataTasks","WithAuthority","pred","formatPeriod","_data$dataElements","_data$orgUnitsMetadat","includeChildren","DATA_QUERY","dataSet","ds","orgUnitsMetadata","dataElementsLookup","orgUnitsLookup","_data$dataValues","pivotData","dataMap","Map","dataElementsSet","periodsSet","dataElementName","formattedPeriod","add","has","set","get","from","periodMap","firstDataEntry","Period","Program","StoredBy","LastUpdated","dataEntry","transformDataValuesToPivot","_data$dataValues2","transformDataValuesFlat","fileExtension","DataExport","endpoint","selectedTETypes","assignedUserModeFilter","assignedUserMode","teiTypeFilter","programStatus","followUp","enrollmentEnrolledAfter","enrollmentEnrolledBefore","lastUpdatedFilter","updatedAfter","updatedBefore","updatedWithin","minParams","attachment","assignedUsers","trackedEntityType","param","valuesToParams","errors","TEIExport","showProgramFilters","showTEFilters","showLUDates","showLUDuration","TEIImport","teiTasks","preheatMode","capitalizeFirstLetter","string","charAt","toUpperCase","capitalizePages","pages","ScrollToTop","DATA_EXPORT_PAGE_NAME","DATA_EXPORT_DESCRIPTION","linkText","EVENT_EXPORT_PAGE_NAME","EVENT_EXPORT_DESCRIPTION","METADATA_DEPENDENCY_EXPORT_PAGE_NAME","METADATA_DEPENDENCY_EXPORT_DESCRIPTION","METADATA_EXPORT_PAGE_NAME","METADATA_EXPORT_DESCRIPTION","TEI_EXPORT_PAGE_NAME","TEI_EXPORT_DESCRIPTION","DATA_IMPORT_PAGE_NAME","DATA_IMPORT_DESCRIPTION","EVENT_IMPORT_PAGE_NAME","EVENT_IMPORT_DESCRIPTION","EARTH_ENGINE_IMPORT_PAGE_NAME","EARTH_ENGINE_IMPORT_DESCRIPTION","GEOMETRY_IMPORT_PAGE_NAME","GEOMETRY_IMPORT_DESCRIPTION","METADATA_IMPORT_PAGE_NAME","METADATA_IMPORT_DESCRIPTION","TEI_IMPORT_PAGE_NAME","TEI_IMPORT_DESCRIPTION","unlisten","listen","_document$getElements","getElementsByClassName","scrollTo","Router","Switch","Route","exact","Redirect","findLabelByLowerCaseComparison","groupKey","schemas","foundLabel","schemaName","isGroupKeyMatchingLowerCaseSchemaName","findKeyByCamelCaseComparison","isGroupKeyInSchemaName","str","getSchemaGroups","groups","schema","group","groupSchemas","combinedGroups","groupName","other","combineSingleItemGroups","getGroupLabels","schemaGroups","groupLabels","lowerCaseGroupKey","extractGroupLabelFromSchemas","SchemaGroup","toggleSchema","ind","Checkbox","schemaQuery","setSchemaGroups","schemaGroupLabels","setSchemaGroupLabels","schemaGroupOrder","setSchemaGroupOrder","fetching","filteredSchemas","excludedSchemas","collectionName","filterOutExcludedSchemas","formattedSchemas","formatSchemas","groupKeys","getGroupOrder","propagateCheckedSchemas","updatedSchemaGroups","onSelectGeneric","grAcc","showSchemas","schemaGroup","updatedGroup","MenuSectionHeader","UIHeader","hideDivider","ExportMenuSectionHeader","ImportMenuSectionHeader","dataImportPage","eventImportPage","metadataImportPage","dataExportPage","eventExportPage","metadataExportPage","importPages","exportPages","SidebarItem","createHref","search","hash","Sidebar","propTypes","dataSetQuery","dataSets","programQuery","programWithEventsQuery","TETypeQuery","trackedEntityTypes","users","geojsonAttributesQuery","ResourcePicker","list","setList","resourceError","resourceName","resourceToQuery","called","refetch","lazy","showList","Transfer","filterPlaceholder","rightHeader","UiTooltip","openDelay","closeDelay","placement","onMouseOver","onMouseOut","submitFailed","errorList","transformErrors","MERGE_NOTICE_TITLE","MERGE_NOTICE_TEXT","namespace","arTranslations","ar_IQTranslations","bnTranslations","ckbTranslations","csTranslations","daTranslations","enTranslations","esTranslations","es_419Translations","frTranslations","idTranslations","kmTranslations","loTranslations","myTranslations","nbTranslations","neTranslations","nlTranslations","orTranslations","prsTranslations","psTranslations","ptTranslations","pt_BRTranslations","roTranslations","ruTranslations","siTranslations","svTranslations","tetTranslations","tgTranslations","ukTranslations","urTranslations","uz_CyrlTranslations","uz_LatnTranslations","uz_UZ_CyrlTranslations","uz_UZ_LatnTranslations","viTranslations","zhTranslations","zh_CNTranslations","useUser","showApp","CssReset","CssVariables","spacers","colors","HashRouter","CACHE_VERSION","VERSION_PARAM","clearCaches","cachePromises","caches","delete","all","unregisterServiceWorkers","navigator","registrations","serviceWorker","getRegistrations","registration","unregister","initialize","location","currentVersion","searchParams","sessionStorage","setItem","scrollY","replaceState","getItem","clearKeys","localStorage","removeItem","clear","clearStorages","Sider","Content","Layout","ME_QUERY","me","cacheBuster","collapsed","setCollapsed","openKeys","setOpenKeys","firstName","surname","email","userEmail","profileMenu","SettingOutlined","UserOutlined","LogoutOutlined","adminCentreItems","BarsOutlined","MonitorOutlined","TeamOutlined","FormOutlined","FileTextOutlined","DownloadOutlined","trigger","collapsible","collapsedWidth","onCollapse","collapsedState","breakpoint","onBreakpoint","broken","classes","padding","transition","background","borderRight","overflow","flexDirection","alignItems","gap","flexShrink","MenuOutlined","fontSize","src","process","alt","objectFit","overflowY","overflowX","selectedKeys","onOpenChange","latestOpenKey","mode","inlineCollapsed","HomeOutlined","CheckCircleOutlined","ImportOutlined","AreaChartOutlined","backgroundColor","borderRadius","margin","App"],"sourceRoot":""}